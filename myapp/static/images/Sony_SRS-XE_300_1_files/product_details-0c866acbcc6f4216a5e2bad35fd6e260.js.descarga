define("modules/primary_tout/module",["require","jquery","iQ","modernizr","enquire","require/sony-global-settings","require/sony-global-utilities","modules/sony_video/module","require/sony-global-environment"],function(e){var t=e("jquery"),i=e("iQ"),n=(e("modernizr"),e("enquire")),o=e("require/sony-global-settings"),s=e("require/sony-global-utilities"),a=(e("modules/sony_video/module"),e("require/sony-global-environment")),r={init:function(){var e=t(".primary-tout");e.length>0&&e.primaryTout()}},l=function(e,i){var n=this;n.$el=t(e),n.hasLetterboxVideo=n.$el.children(".submodule.letterbox").length>0,t.extend(n,{},t.fn.primaryTout.defaults,i,t.fn.primaryTout.settings),n._init()};return l.prototype={constructor:l,setOnDemandImages:function(){var e=this;i.setOnDemandImages(e.$el.get(0),"primary_tout")},_init:function(){var e=this;e.setVars(),(s.isTyrionApp||s.isTyrionPreviewApp)&&(e.setOnDemandImages(),i.loadOnDemandImages("primary_tout"),e.resize(),e.$el.find(".hero-image .iq-img").addClass("shown"),i.update()),e.bemovedTextOutofbox(),e.isTitlePlate||a.on("global:resizeDebounced",t.proxy(e.resize,e)),e.isTitlePlate&&(e.fixTitleHeight(),a.on("global:resizeDebounced",t.proxy(e.fixTitleHeight,e))),e.isFlexibleTout&&e.setupFlxBreakpoints(),e.hasAddonSubmodule&&(e.isDefault||e.isHomepage||e.isFlexibleTout||e.isProductIntroPlate)&&e.setupSubmodules(),e.hasBtn&&e.setupButtons(e.$btn),e.$el.find(".hero-video video").on("play",function(){e.positionBackgroundVideo()}),e.$addonTrigger&&e.isDataOpenedTruthy(e.$addonTrigger.closest(".addon").attr("data-opened"))&&e.$addonTrigger.trigger("click",!0),e.hasBtn&&e.$btn.each(function(){var i=t(this);e.isDataOpenedTruthy(i.attr("data-opened"))&&(e.$el.find(".submodule .sony-video").not(".sony-youtube-player").sonyVideo(),i.trigger("click",!0))}),log("SONY : PrimaryTout : Initialized")},isDataOpenedTruthy:function(e){var t=e+"";return"false"==t.toLowerCase()?!1:!0},setVars:function(){var e=this;e.isTitlePlate=e.$el.hasClass("title-plate"),e.isBoxBottomMobile=e.$el.hasClass("box-bottom-mobile"),e.isFlexibleTout=e.$el.hasClass("flexible-tout"),e.isProductIntroPlate=e.$el.hasClass("product-intro-plate"),e.isHomepage=e.$el.hasClass("homepage"),e.isDefault=e.$el.hasClass("default"),e.$secondary=e.$el.find(".secondary"),e.$imageModule=e.$el.find(".image-module"),e.$btn=e.$el.find(".inner .box a.video, .inner .box a.carousel, .mobile-buttons a.video, .mobile-buttons a.carousel, .secondary .linkgroup .btn.video"),e.hasSecondaryBox=e.$secondary.length>0,e.hasBtn=e.$btn.length>0,e.hasAddonSubmodule=e.$el.find(".submodule").length>0,e.customDesktopHeight=e.$el.find(".hero-image").data("desktop-height"),e.customTabletHeight=e.$el.find(".hero-image").data("tablet-height"),e.customPhoneHeight=e.$el.find(".hero-image").data("phone-height")},setupFlxBreakpoints:function(){var e=this;return o.isLTIE10?e.checkForWidth():n.register("(min-width: 48em)",function(){e.initFlxDesktop()}).register("(min-width: 35.5em) and (max-width: 47.9375em)",function(){e.initFlxTablet()}).register("(max-width: 35.4375em)",function(){e.initFlxPhone()}),e},checkForWidth:function(){var e=this;window.innerWidth>768?e.initFlxDesktop():window.innerWidth>568?e.initFlxTablet():e.initFlxPhone()},initFlxDesktop:function(){var e=this;e.$imageModule.css("height",e.customDesktopHeight)},initFlxTablet:function(){var e=this;e.$imageModule.css("height",e.customTabletHeight)},initFlxPhone:function(){var e=this;e.$imageModule.css("height",e.customPhoneHeight)},fixTitleHeight:function(){var e,t=this.$imageModule;e=Math.max(t.innerHeight(),this.$el.find(".inner .box").innerHeight()),t.css("height",e)},setSizeForVideo:function(){var e=this;if(!(!e.$video||e.videoAPI()&&e.videoAPI().isFullscreen)){var t,i,n=e.$video.find(".flowplayer").data("ratio"),s=e.$video.find(".fp-engine");if(e.hasLetterboxVideo&&e.isVideoOpen&&(e.$el.css("height",e.$imageModule.height()),o.isAndroid||e.videoAPI()&&"flash"===e.videoAPI().engine)){var a,r,l=e.$video.width(),d=e.$video.height(),u=d/l;n>=u?(t=Math.round(d/n),i=d,a=0,r=(l-t)/2):(t=l,i=Math.round(l*n),a=(d-i)/2,r=0),s.css({width:t+"px",height:i+"px",top:a+"px",left:r+"px"}),e.$video.find("video").css("zIndex","999"),e.$video.find(".fp-ui").css("zIndex","1000")}}},resize:function(){var e=this,i=o.$window.width();if(e.isFlexibleTout&&o.isLTIE10)return void e.checkForWidth();if(i>980){var n=o.$window.height(),s=e.getImageHeight(i,n,e.isProductIntroPlate);e.isFlexibleTout||e.$imageModule.css("height",s)}else e.isFlexibleTout||e.$imageModule.css("height","");e.setSizeForVideo(),i>767?(e.$el.find(".legal-div").closest(".table-center").find(".box").css("margin-top",""),t(".legal-div").appendTo(e.$el.find(".legal-div").closest(".table-center")),e.$el.find(".legal-icon").removeClass("small")):(e.$el.find(".legal-div").closest(".table-center").find(".box").css("margin-top","0px"),e.$el.find(".legal-div").prependTo(e.$el.find(".legal-div").closest(".table-center")),e.$el.find(".legal-icon").addClass("small"),e.isProductIntroPlate&&e.$imageModule.height(e.$imageModule.height()+t(".legal-grid").height())),e.hasSecondaryBox&&e.centerPrimaryBox(i),e.positionBackgroundVideo()},positionBackgroundVideo:function(){var e=this,t=e.$el.find(".hero-video").attr("data-align");switch(t){case"bottom-right":e.$el.find(".hero-video .iq-img video").css("left",-e.$el.find(".hero-video .iq-img video").first().width()+e.$el.width()),e.$el.find(".hero-video .iq-img video").css("top",-e.$el.find(".hero-video .iq-img video").first().height()+e.$el.height());break;case"top-right":e.$el.find(".hero-video .iq-img video").css("left",-e.$el.find(".hero-video .iq-img video").first().width()+e.$el.width());break;case"bottom-left":case"bottom":e.$el.find(".hero-video .iq-img video").css("top",-e.$el.find(".hero-video .iq-img video").first().height()+e.$el.height());break;case"top-left":case"top":case"left":}},getImageHeight:function(e,t,i){var n=.75*t,o=(e-980)/5,s=0;return s=i?Math.min(720,Math.min(n,560+o)):Math.min(640,Math.min(n,520+o)),Math.round(s)},centerPrimaryBox:function(e){var t,i,n=this,o=n.$el.find(".inner .table-center-wrap"),s=n.$el,a=n.$secondary,r=!1;i=s.height(),t=a.outerHeight(),r=i-t,n.isBoxBottomMobile&&767>e&&(r=""),o.height(r)},setupSubmodules:function(){var e,i=this;i.$addonTrigger=i.$el.find(".addon-media"),i.$addonModule=i.$el.find(".submodule.off-screen"),i.$closeBtn=i.$addonModule.find(".box-close"),i.$submodule=i.$addonModule.siblings(),i.$content=i.$el.hasClass("full-inner")?i.$submodule.parent().siblings():t(),e=i.$addonModule.find(".sony-video"),i.isVideoAddon=e.length>0,i.isVideoAddon&&(i.$video=e),i.isSubmoduleOpen=!1,i.setupSubmoduleEvents()},videoAPI:function(){var e=this;return(!e.$video||e.$video.length<1)&&(e.$video=e.$el.children(".submodule").find(".sony-video")),e.$video.data("sonyVideo")?e.$video.data("sonyVideo").api():!1},setupSubmoduleEvents:function(){var e=this;t(".addon-disable-click").css("pointer-events","none"),e.$addonTrigger.on("click",t.proxy(e.onAddonClick,e)),e.$closeBtn.on("click",t.proxy(e.onCloseClick,e)),o.$window.on("e5-slide-change",t.proxy(e.onCloseClick,e)),o.hasTouchEvents||(e.$addonModule.on("mouseenter.submodule",function(){e.isHovered=!0,e.$closeBtn.removeClass("close-hide")}),e.$addonModule.on("mouseleave.submodule",function(){e.isHovered=!1,e.$closeBtn.addClass("close-hide")}))},bemovedTextOutofbox:function(){var e=this,i=e.$el.find(".bemoved-bottom.bemoved-variant.be-moved.bemoved-outofbox");i.each(function(){t(this).insertAfter(t(this).parent()),t(this).insertAfter(t(this).parent().find(".box"))})},onAddonClick:function(e,n){var o=this,s="off-screen visuallyhidden";if(e.preventDefault(),e.stopPropagation(),a.trigger("pausevideo"),flowplayer&&flowplayer.instances&&(null!=t.activeFlowplayerInstance&&flowplayer.instances[t.activeFlowplayerInstance].load(),t.activeFlowplayerInstance=null),!o.isSubmoduleOpen){o.$submodule.add(o.$content).addClass(s);var r=o.$el.find(".submodule.addon.off-screen");r.removeClass(s),o.isVideoAddon||o.$addonModule.parent().addClass("container"),i.update(),o.isVideoAddon&&!n&&(o.videoAPI()&&o.videoAPI().play(),o.isVideoOpen=!0,o.setSizeForVideo(),o.videoAPI()&&"flash"===o.videoAPI().engine&&(o.handleFullscreenToggleProxy=t.proxy(o.handleFullscreenToggle,o),o.videoAPI().bind("fullscreen fullscreen-exit",o.handleFullscreenToggleProxy)),o.scrollIntoToView(o.$el)),o.isSubmoduleOpen=!0}},onCloseClick:function(e){var i=this,n="off-screen visuallyhidden";e.preventDefault(),e.stopPropagation(),i.isVideoAddon&&i.videoAPI()&&i.videoAPI().pause(),flowplayer&&flowplayer.instances&&(null!=t.activeFlowplayerInstance&&flowplayer.instances[t.activeFlowplayerInstance].load(),t.activeFlowplayerInstance=null,t.deactivateSpaceKeyOnPlayer=!0),i.$submodule.add(i.$content).removeClass(n),i.$addonModule.addClass(n),i.isVideoAddon||i.$addonModule.parent().removeClass("container"),i.$addonTrigger.closest(".addon").attr("data-opened",!1);var o=i.$el.find(".hero-video video");o.length>0&&o.trigger("load"),i.isSubmoduleOpen=!1;var s=i.$el.find(".submodule");s.trigger("PrimaryTout:submoduleActivated"),i.resize()},setupButtons:function(e){var i=this,n=i.$el.find(".submodule"),s=n.find(".box-close");e.on("click",t.proxy(i.onSubmoduleBtnClick,i)),s.on("click",t.proxy(i.onSubmoduleCloseClick,i)),o.hasTouchEvents||(n.on("mouseenter.submodule",function(){i.isHovered=!0,s.removeClass("close-hide")}),n.on("mouseleave.submodule",function(){i.isHovered=!1,s.addClass("close-hide")}))},handleFullscreenToggle:function(e){var t=this;"fullscreen-exit"===e.type?t.setSizeForVideo():t.$video.find(".fp-engine").removeAttr("style")},scrollIntoToView:function(e){var i=t(".sticky-nav"),n=i?i.height()+10:0;t("body").scrollTop(e.offset().top-n)},videoFlowplayerAPI:function(e){var i=t(e).attr("data-video-src"),n=t(e).attr("data-video-m3u8"),o=t(e).attr("data-video-ogg"),s=(t(e).attr("autoplay")?!0:!1,t(e).attr("muted")?!0:!1),a=t(e).attr("loop")?!0:!1,r=(t(e).attr("preload"),t(e).attr("data-video-subtitles")),l=[{src:i,type:"video/mp4"},{src:i,type:"video/flash"},{src:o,type:"video/ogg"}];n&&l.push({src:n,type:"application/x-mpegurl"});var d={src:l,token:"eyJraWQiOiJDR1NaSFh4Q3Y2azciLCJ0eXAiOiJKV1QiLCJhbGciOiJFUzI1NiJ9.eyJjIjoie1wiYWNsXCI6NixcImlkXCI6XCJDR1NaSFh4Q3Y2azdcIn0iLCJpc3MiOiJGbG93cGxheWVyIn0.YUitgsTL-VP7gCgzN5XM4j5S0v4_lE-eA8eShvWTPwzwJIEk691OIiqk_XFMb0L8ztTviKVf9TkOPUXGpfhQ9w",autoplay:!0,muted:s,loop:a,preload:!0,lang:"en",plugins:["keyboard"]};r&&(d.subtitles={tracks:[{src:r,"default":!0}]}),flowplayer(e,d)},onSubmoduleBtnClick:function(e){var n=this,o=e.delegateTarget,a=t(o);n.$video=n.$el.children(".submodule.video").find(".sony-video"),e.preventDefault(),n.$el.find(".hero-image, .hero-video, .inner, .mobile-buttons-wrap, .secondary").addClass("off-screen visuallyhidden"),n.$el.find(".submodule").filter("."+a.data("media")).first().trigger("PrimaryTout:submoduleActivated").removeClass("off-screen visuallyhidden"),t(e.currentTarget).attr("data-opened",!0),i.update(),n.$video&&a.hasClass("video")&&(n.videoAPI()&&n.videoAPI().play(),n.isVideoOpen=!0,n.setSizeForVideo(),n.videoAPI()&&"flash"===n.videoAPI().engine&&(n.handleFullscreenToggleProxy=t.proxy(n.handleFullscreenToggle,n),n.videoAPI().bind("fullscreen fullscreen-exit",n.handleFullscreenToggleProxy))),setTimeout(function(){n.scrollIntoToView(n.$el)},100),(s.isTyrionApp||s.isTyrionPreviewApp)&&setTimeout(function(){t(window).trigger("resize")},1e3)},onSubmoduleCloseClick:function(e){{var i=this,n=i.$el.find(".submodule"),o=i.$el.find(".sony-video"),s=e.delegateTarget;t(s)}o&&flowplayer&&flowplayer.instances&&(null!=t.activeFlowplayerInstance&&flowplayer.instances[t.activeFlowplayerInstance].load(),t.activeFlowplayerInstance=null,t.deactivateSpaceKeyOnPlayer=!0),o.each(function(){t(this).data("sonyVideo")}),i.$el.find(".hero-video, .hero-image, .inner, .mobile-buttons-wrap, .secondary").removeClass("off-screen visuallyhidden"),t(e.currentTarget).attr("data-opened",!1),n.addClass("off-screen visuallyhidden").trigger("PrimaryTout:submoduleActivated"),i.isVideoOpen=!1,i.$el.css("height","")}},t.fn.primaryTout=function(e){var i=Array.prototype.slice.call(arguments,1);return this.each(function(){var n=t(this),o=n.data("primaryTout");o||(o=new l(n,e),n.data("primaryTout",o)),"string"==typeof e&&o[e].apply(o,i)})},r}),define("modules/primary_tout/index",["require","modules/primary_tout/module","secondary/sony-init-module-below-viewport"],function(e){var t=e("modules/primary_tout/module"),i=e("secondary/sony-init-module-below-viewport");return i({triggerElement:$(".primary-tout"),initializeImmediately:!0,callback:t.init}),{PrimaryTout:t}}),define("modules/pdp_slideshow/module",["require","jquery","modernizr","iQ","enquire","bootstrap","require/sony-global-settings","require/sony-global-utilities","require/sony-global-environment","plugins/index","secondary/index","secondary/index","secondary/index"],function(e){var t=e("jquery"),i=e("modernizr"),n=e("iQ"),o=e("enquire"),s=(e("bootstrap"),e("require/sony-global-settings")),a=e("require/sony-global-utilities"),r=e("require/sony-global-environment"),l=(e("plugins/index").hammer,e("secondary/index").sonyCarousel,e("secondary/index").sonyScroller,e("secondary/index").sonyVideo,{init:function(){t(".pdp-slideshow").each(function(){var e=this;new d(e),a.isTyrionApp||t(e).closest(".submodule").on("PrimaryTout:submoduleActivated",function(){new d(e)})})}}),d=function(e){var i=this;i.$el=t(e),i.$el.isModuleInitialized&&i.$el.isModuleInitialized()||(i.SLIDE_CLASS=".pdp-slideshow-slide",i.SLIDE_CONTAINER=".pdp-slideshow-inner",i.isDesktopMode=!0,i.isTabletMode=!1,i.isMobileMode=!1,i.hasTouch=s.hasTouchEvents,i.$document=s.$document,i.$window=s.$window,i.$html=s.$html,i.$slides=i.$el.find(i.SLIDE_CLASS),i.$paddlesTranslations={prev:i.$slides.data("paddle-translation-previous"),next:i.$slides.data("paddle-translation-next")},i.$slideVideos=i.$slides.find(".sony-video"),i.$slideContainer=i.$el.find(i.SLIDE_CONTAINER),i.$thumbNav=i.$el.find(".thumb-nav-carousel"),i.$thumbNavContainer=i.$el.find(".thumb-nav-container"),i.$submodules=i.$el.find(".pdp-slideshow-inner .pdp-slideshow-slide:first-child, .pdp-slideshow-inner .pdp-slideshow-slide .sony-video"),i.$carouselWrapper=i.$el.find(".pdp-slideshow-outer"),i.numSlides=i.$slides.length,i.$pagination=null,i.$videoPlayers=i.$el.find(".sony-video"),i.selectedSlide=Math.round(i.$slideContainer.data("selectedSlide"))||0,i.desktopAnimSpeed=500,i.tabletAnimSpeed=300,i.mobileAnimSpeed=250,i.hasThumbs=i.$thumbNav.length>0,i.numSlides=i.$slides.length,i.currentId=0,i.init(),i.$el.data("moduleInitialized",!0))};return d.prototype={constructor:d,init:function(){var e=this;e.hasThumbs&&e.createThumbNav(),e.setupSlides().setupCarousel().setupBreakpoints().setupFullbleedImages(),e.fadeIn(),e.setCarouselHeight(),e.generatePaddleTranslations(),r.on("global:resizeDebounced",t.proxy(e.onResize,e))},generatePaddleTranslations:function(){var e=this;e.$paddlePrev=t(".pagination-paddle.pagination-prev"),e.$paddleNext=t(".pagination-paddle.pagination-next"),e.$paddlePrev.length&&e.$paddleNext.length&&(e.$paddlePrev.attr("aria-label",e.$paddlesTranslations.prev),e.$paddleNext.attr("aria-label",e.$paddlesTranslations.next))},onResize:function(){this.setCarouselHeight(),this.apportionThumbsToSlides(),this.rebuildThumbCarousel()},scrollIntoToView:function(e){t("body").scrollTop(e.offset().top)},fadeIn:function(){var e=this,t=e.$slides.find("img").first();t.data("hasLoaded")||"video"===e.$slides.eq(0).data("mode")?e.$el.addClass("active"):t.get(0).addEventListener("imageLoaded",function(){e.$el.addClass("active")})},setCarouselHeight:function(){var e,t=this,n=!i.mediaqueries||i.mq("(min-width: 61.25em)"),o="";i.mediaqueries&&n?(e=t.$window.width(),o=560+(e-980)/5,o=Math.round(Math.min(720,o))):i.mediaqueries||(o=Math.round(Math.min(560,Math.min(.75*s.$window.height())))),t.$el.css("height",o)},setupCarousel:function(){var e=this;return e.$slideContainer.on("SonyCarousel:gotoSlide",t.proxy(e.onSlideUpdate,e)),e.$slideContainer.sonyCarousel({wrapper:".pdp-slideshow-outer",slides:".pdp-slideshow-slide",looped:!s.isPS3,jumping:!s.isPS3,axis:"x",dragThreshold:2,paddles:!0,showPaddlesInTouch:!0,paddlePosition:"outset",pagination:!0,$paddleWrapper:e.$el,nonDraggableChildren:".fp-controls",selectedSlide:e.selectedSlide}),e.$pagination=e.$el.find(".sony-dot-nav"),n.update(),e},onSlideUpdate:function(e,t){var i=this;n.update(),i.setCarouselHeight(),i.currentId!=t&&r.trigger("pausevideo"),i.currentId=t,i.setCurrentActiveThumb()},setupBreakpoints:function(){var e=this;return s.isLTIE10?(e.showThumbNav().hideDotNav(),e.$slideContainer.sonyCarousel("setAnimationSpeed",e.desktopAnimSpeed)):o.register("(min-width: 48em)",function(){e.isMobileMode=e.isTabletMode=!1,e.isDesktopMode=!0,e.showThumbNav().hideDotNav(),e.$slideContainer.sonyCarousel("setAnimationSpeed",e.desktopAnimSpeed)}).register("(min-width: 35.5em) and (max-width: 47.9375em)",function(){e.isMobileMode=e.isDesktopMode=!1,e.isTabletMode=!0,e.hideThumbNav().showDotNav(),e.$slideContainer.sonyCarousel("setAnimationSpeed",e.tabletAnimSpeed)}).register("(max-width: 35.4375em)",function(){e.isDesktopMode=e.isTabletMode=!1,e.isMobileMode=!0,e.hideThumbNav().showDotNav(),e.$slideContainer.sonyCarousel("setAnimationSpeed",e.mobileAnimSpeed)}),e},toggleDotNav:function(e){return this.$pagination[(e?"add":"remove")+"Class"]("hidden"),this},hideDotNav:function(){return this.toggleDotNav(!0)},showDotNav:function(){return this.toggleDotNav(!1)},toggleThumbNav:function(e){return this.$thumbNavContainer.length&&this.$thumbNavContainer[(e?"add":"remove")+"Class"]("hidden"),this},hideThumbNav:function(){return this.toggleThumbNav(!0)},showThumbNav:function(){return this.toggleThumbNav(!1)},setupSlides:function(){var e=this,i=e.numSlides+2,n=100*i+"%",o=100/i+"%";if(e.$slideContainer.css("width",n),e.$slides.css("width",o),e.$submodules.length>0){e.$carouselWrapper.addClass("slide-modules");var s=e.$submodules.map(function(){return t(this).height()}).get(),a=Math.max.apply(null,s);e.$slideContainer.css("height",a),e.$slides.css("height",a),e.$carouselWrapper.css("height",a)}return e},createThumbNav:function(){var e=this,t=e.$thumbNav.find("a").hammer();t.on("click",function(e){e.preventDefault()}),t.on("tap",function(t){t.preventDefault(),r.trigger("pausevideo"),e.onThumbSelected(t)}),t.eq(0).addClass("active"),e.apportionThumbsToSlides(),e.rebuildThumbCarousel()},apportionThumbsToSlides:function(){var e,i=this,n=i.$thumbNav.find("li a"),o=i.$thumbNav.find("li"),s=n.first().width(),a=o.first().width(),r=Math.max(Math.floor(a/(s-1))-1,1),l=n.length,d=o.first().clone().empty(),u=[];if(l>4)for(;4>l%r&&r>1;)r=Math.max(r-1,1);e=Math.ceil(l/r);for(var c=0;e>c;c++){u[c]=d.clone().get(0);var h=i.$window.width()/i.$thumbNav.width();t(u[c]).css("left",100*(h+1)/2*c+"%");for(var p=0;r>p;p++)n.eq(r*c+p).appendTo(u[c]);var f=t(u[c]).find("a");f.removeClass("first last"),f.first().addClass("first"),f.last().addClass("last")}i.$thumbNav.find(".thumb-nav").empty().append(u)},rebuildThumbCarousel:function(){var e=this;e.$thumbNavCarousel&&e.$thumbNavCarousel.sonyCarousel("destroy"),e.$thumbNavCarousel=e.$thumbNav.sonyCarousel({wrapper:".thumb-nav-grid",slides:"ul",pagination:!0,$dotNavWrapper:e.$thumbNavContainer,paddles:!0,$paddleWrapper:e.$thumbNavContainer,useSmallPaddles:!0})},onThumbSelected:function(e){var i=this,n=t(e.delegateTarget),o=i.$thumbNav.find("a"),s=o.index(n);i.currentId=s,flowplayer&&flowplayer.instances&&(null!=t.activeFlowplayerInstance&&flowplayer.instances[t.activeFlowplayerInstance].load(),t.activeFlowplayerInstance=null),o.removeClass("active"),n.addClass("active"),i.$slideContainer.sonyCarousel("gotoSlide",i.currentId)},setCurrentActiveThumb:function(){var e=this,t=e.$thumbNav.find("a");t.removeClass("active"),t.eq(e.currentId).addClass("active");var i=t.eq(e.currentId).parents(".thumb-nav").index();e.$thumbNavCarousel.sonyCarousel("gotoSlide",i)},_scaleImage:function(e,t,i,n,o){var s={width:0,height:0,fScaleToTargetWidth:!0};if(0>=e||0>=t||0>=i||0>=n)return s;var a=i,r=t*i/e,l=e*n/t,d=n,u=l>i;return u=u?o:!o,u?(s.width=Math.floor(a),s.height=Math.floor(r),s.fScaleToTargetWidth=!0):(s.width=Math.floor(l),s.height=Math.floor(d),s.fScaleToTargetWidth=!1),s.targetleft=Math.floor((i-s.width)/2),s.targettop=Math.floor((n-s.height)/2),s},getFullbleedImg:function(e){var i=this,n=e.prop("naturalWidth"),o=e.prop("naturalHeight"),s=e.parents("div.pdp-slideshow-slide.type2").width(),a=e.parents("div.pdp-slideshow-slide.type2").height(),r=i._scaleImage(n,o,s,a,!1);t(e).css("left",r.targetleft),t(e).css("top",r.targettop),t(e).css("position","absolute"),t(e).attr("width",r.width),t(e).attr("height",r.height)},setupFullbleedImages:function(){var e=this,i=t("div.pdp-slideshow-slide.type2 img");if(i.length>0){for(var n=0,o=i.length;o>n;n++)i.get(n).addEventListener("imageLoaded",function(){e.getFullbleedImg(i)}),i.get(n).addEventListener("imageReLoaded",function(){e.getFullbleedImg(i)});r.on("global:resizeDebounced",function(){e.getFullbleedImg(i)})}}},l}),define("modules/pdp_slideshow/index",["require","modules/pdp_slideshow/module","secondary/sony-init-module-below-viewport"],function(e){var t=e("modules/pdp_slideshow/module"),i=e("secondary/sony-init-module-below-viewport");return i({initializeImmediately:!0,triggerElement:$(".pdp-slideshow"),callback:t.init}),{PDPSlideShow:t}}),define("modules/product_details/module",["require","jquery","modernizr","require/sony-global-settings","require/sony-global-environment","secondary/index"],function(e){var t=e("jquery"),i=(e("modernizr"),e("require/sony-global-settings"),e("require/sony-global-environment")),n=(e("secondary/index").sonyCarousel,{init:function(){t(".pd-module").each(function(){new o(this)})}}),o=function(e){var n=this;n.debounceEvent="global:resizeDebounced-200ms.pd-module",n.onResizeFunc=t.proxy(n.resizeFunc,n),n.$el=t(e),n.$imageWrappers=n.$el.find(".measurements-slide .img-wrapper"),n.$measurementImages=n.$imageWrappers.find(".pd-image"),n.$horzMeasurements=n.$el.find(".horizontal-measurement"),n.$vertMeasurements=n.$el.find(".vertical-measurement"),n.$dimensions=n.$horzMeasurements.add(n.$vertMeasurements),n.maxNavItems=3,n.mImageWidths=[],n.mImageHeights=[],i.on(n.debounceEvent,n.onResizeFunc),n.init(),log("SONY : ProductDetails : Initialized")};return o.prototype={constructor:o,init:function(){for(var e=this,i=e.$measurementImages,n=i.filter(function(){return t(this).data("hasLoaded")}),o=0,s=i.length;s>o;o+=1)i.get(o).addEventListener("imageLoaded",function(){n=n.add(t(this)),n.length===i.length&&e.onImagesLoaded()});n.length===i.length&&e.onImagesLoaded(),e.initMeasurementCarousel(),e.bindNavToCarousel()},resizeFunc:function(){var e=this;e.buildMeasurements()},onImagesLoaded:function(){var e=this;e.showImages(),e.buildMeasurements(),e.showMeasurements()},buildMeasurements:function(){var e=this;e.setMImageDimensions(),e.setMeasurementDimensions()},showImages:function(){var e=this,i=e.$measurementImages;i.each(function(){t(this).addClass("on")})},showMeasurements:function(){var e=this;e.$dimensions.each(function(){t(this).addClass("on")})},setMImageDimensions:function(){var e=this,i=e.$measurementImages;i.each(function(i){e.mImageWidths[i]=t(this).outerWidth(),e.mImageHeights[i]=t(this).outerHeight()})},initMeasurementCarousel:function(){var e=this,t=".measurements-slide";e.$measurementCarousel=e.$el.find(".measurements-carousel"),e.$slides=e.$measurementCarousel.find(t);var i=e.$slides.length;e.$measurementCarousel.css("width",100*i+"%"),e.$slides.css("width",100/i+"%"),e.$measurementCarousel.sonyCarousel({wrapper:".measurements-carousel-wrapper",slides:t,useCSS3:!0,paddles:!0,pagination:!0,useSmallPaddles:!1,paddlePosition:"inset"}),e.$el.find(".measurements-carousel").on("SonyCarousel:gotoSlide",function(t,i){var n=e.$el.find(".measurements-nav ul").length,o=n>e.maxNavItems;if(o){var s=Math.floor(i/e.maxNavItems);e.$el.find(".measurements-nav .measurement-nav-carousel").data("sonyCarousel").gotoSlide(s)}e.$el.find(".measurements-nav li").parent().removeClass("active"),e.$el.find(".measurements-nav li").eq(i).parent().addClass("active")})},bindNavToCarousel:function(){var e=this,i=e.$el.find(".measurements-nav ul"),n=i.length>e.maxNavItems,o=e.$el.find(".measurements-nav .measurement-nav-carousel");if(n){for(var s=Math.ceil(i.length/e.maxNavItems),a=0,r=0;s>r;r++){for(var l=t('<div class="measurement-nav-slide" />',{}),d=0;d<e.maxNavItems;d++){var u=i.eq(a);l.append(u),a++}o.append(l)}o.css("width","2000%"),i.css("width","30%"),e.$navCarousel=e.$el.find(".measurements-nav .measurement-nav-carousel").sonyCarousel({wrapper:".measurements-nav .measurement-nav-carousel-wrapper",slides:".measurement-nav-slide",useCSS3:!0,paddles:!0,pagination:!1,useSmallPaddles:!0,paddlePosition:"inset",$paddleWrapper:e.$el.find(".measurement-nav-carousel-wrapper")})}o.css("height",o.find(".jump-links").height()+"px"),this.$el.find(".measurements-nav li").first().addClass("active"),this.$el.find(".measurements-nav li").on("click",function(n){t(this).addClass("active"),i.find("li").not(t(this)).removeClass("active"),n.preventDefault(),e.$el.find(".measurements-carousel").data("sonyCarousel").gotoSlide(t(this).find("a").data("slideId"))}),e.$measurementCarousel.on("SonyCarousel:gotoSlide",function(t,i){e.$el.find(".measurements-nav li").removeClass("active"),e.$el.find(".measurements-nav li").eq(i).addClass("active")})},getDimesionDataList:function(){var e=this,i=[];return e.$dimensions.each(function(){var e="",n={},o=t(this),s=o.hasClass("vertical-measurement"),a=o.find(".units-container"),r=a.closest("div.measurement"),l=r.find(".img-wrapper img"),d=a.innerHeight(),u=a.innerWidth(),c=s?u:l.outerWidth(),h=s?l.outerHeight():d,p=o.closest("div.top-wrapper").hasClass("is-thin"),f=!1,m=!1,g=0,v=0,y=0;s?(h>=d?(y=-(d/2),g="50%"):(f=!0,e="small-v-image"),v=p?0:v):c>=u?v=-(u/2):(e="small-h-image",m=!0),e&&(n.parentClass=e,n.$measurementParent=r),m||f||(n.dimensions={$el:o,theImageWidth:c,theImageHeight:h},n.margins={$el:a,top:g,theMarginTop:y,theMarginLeft:v}),i.push(n)}),i},applyDimensionDataList:function(e){var t=this;t.$dimensions.each(function(i){var n=e[i];n.parentClass&&n.$measurementParent.addClass(n.parentClass),n.dimensions&&(t.setHeightWidth(n.dimensions.$el,n.dimensions.theImageWidth,n.dimensions.theImageHeight),t.setMarginsTop(n.margins.$el,n.margins.top,n.margins.theMarginTop,n.margins.theMarginLeft))})},resetDimensions:function(){var e=this;e.$dimensions.each(function(){t(this).find(".units-container").closest("div.measurement").removeClass("small-v-image small-h-image")})},setMeasurementDimensions:function(){var e,t=this;t.resetDimensions(),e=t.getDimesionDataList(),t.applyDimensionDataList(e)},setHeightWidth:function(e,t,i){e.css({height:i,width:t,"min-height":i,"min-width":t})},setMarginsTop:function(e,t,i,n){e.css({top:t,marginTop:i,marginLeft:n})}},n}),define("modules/product_details/index",["require","modules/product_details/module","secondary/sony-init-module-below-viewport"],function(e){var t=e("modules/product_details/module"),i=e("secondary/sony-init-module-below-viewport");return i({triggerElement:$(".pd-module"),callback:t.init}),{ProductDetails:t}}),function(e,t,i){!function(e){"function"==typeof define&&define.amd?define("libs/jquery.qtip",["jquery"],e):jQuery&&!jQuery.fn.qtip&&e(jQuery)}(function(n){function o(e,t,i,o){this.id=i,this.target=e,this.tooltip=P,this.elements={target:e},this._id=R+"-"+i,this.timers={img:{}},this.options=t,this.plugins={},this.cache={event:{},target:n(),disabled:_,attr:o,onTooltip:_,lastClass:""},this.rendered=this.destroyed=this.disabled=this.waiting=this.hiddenDuringWait=this.positioning=this.triggering=_}function s(e){return e===P||"object"!==n.type(e)}function a(e){return!(n.isFunction(e)||e&&e.attr||e.length||"object"===n.type(e)&&(e.jquery||e.then))}function r(e){var t,i,o,r;return s(e)?_:(s(e.metadata)&&(e.metadata={type:e.metadata}),"content"in e&&(t=e.content,s(t)||t.jquery||t.done?(i=a(t)?_:t,t=e.content={text:i}):i=t.text,"ajax"in t&&(o=t.ajax,r=o&&o.once!==_,delete t.ajax,t.text=function(e,t){var s=i||n(this).attr(t.options.content.attr)||"Loading...",a=n.ajax(n.extend({},o,{context:t})).then(o.success,P,o.error).then(function(e){return e&&r&&t.set("content.text",e),e},function(e,i,n){t.destroyed||0===e.status||t.set("content.text",i+": "+n)});return r?s:(t.set("content.text",s),a)}),"title"in t&&(n.isPlainObject(t.title)&&(t.button=t.title.button,t.title=t.title.text),a(t.title||_)&&(t.title=_))),"position"in e&&s(e.position)&&(e.position={my:e.position,at:e.position}),"show"in e&&s(e.show)&&(e.show=e.show.jquery?{target:e.show}:e.show===M?{ready:M}:{event:e.show}),"hide"in e&&s(e.hide)&&(e.hide=e.hide.jquery?{target:e.hide}:{event:e.hide}),"style"in e&&s(e.style)&&(e.style={classes:e.style}),n.each(B,function(){this.sanitize&&this.sanitize(e)}),e)}function l(e,t){for(var i,n=0,o=e,s=t.split(".");o=o[s[n++]];)n<s.length&&(i=o);return[i||e,s.pop()]}function d(e,t){var i,n,o;for(i in this.checks)if(this.checks.hasOwnProperty(i))for(n in this.checks[i])this.checks[i].hasOwnProperty(n)&&(o=new RegExp(n,"i").exec(e))&&(t.push(o),("builtin"===i||this.plugins[i])&&this.checks[i][n].apply(this.plugins[i]||this,t))}function u(e){return Q.concat("").join(e?"-"+e+" ":" ")}function c(e,t){return t>0?setTimeout(n.proxy(e,this),t):void e.call(this)}function h(e){this.tooltip.hasClass(et)||(clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this.timers.show=c.call(this,function(){this.toggle(M,e)},this.options.show.delay))}function p(e){if(!this.tooltip.hasClass(et)&&!this.destroyed){var t=n(e.relatedTarget),i=t.closest(U)[0]===this.tooltip[0],o=t[0]===this.options.show.target[0];if(clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this!==t[0]&&"mouse"===this.options.position.target&&i||this.options.hide.fixed&&/mouse(out|leave|move)/.test(e.type)&&(i||o))try{e.preventDefault(),e.stopImmediatePropagation()}catch(s){}else this.timers.hide=c.call(this,function(){this.toggle(_,e)},this.options.hide.delay,this)}}function f(e){!this.tooltip.hasClass(et)&&this.options.hide.inactive&&(clearTimeout(this.timers.inactive),this.timers.inactive=c.call(this,function(){this.hide(e)},this.options.hide.inactive))}function m(e){this.rendered&&this.tooltip[0].offsetWidth>0&&this.reposition(e)}function g(e,i,o){n(t.body).delegate(e,(i.split?i:i.join("."+R+" "))+"."+R,function(){var e=T.api[n.attr(this,X)];e&&!e.disabled&&o.apply(e,arguments)})}function v(e,i,s){var a,l,d,u,c,h=n(t.body),p=e[0]===t?h:e,f=e.metadata?e.metadata(s.metadata):P,m="html5"===s.metadata.type&&f?f[s.metadata.name]:P,g=e.data(s.metadata.name||"qtipopts");try{g="string"==typeof g?n.parseJSON(g):g}catch(v){}if(u=n.extend(M,{},T.defaults,s,"object"==typeof g?r(g):P,r(m||f)),l=u.position,u.id=i,"boolean"==typeof u.content.text){if(d=e.attr(u.content.attr),u.content.attr===_||!d)return _;u.content.text=d}if(l.container.length||(l.container=h),l.target===_&&(l.target=p),u.show.target===_&&(u.show.target=p),u.show.solo===M&&(u.show.solo=l.container.closest("body")),u.hide.target===_&&(u.hide.target=p),u.position.viewport===M&&(u.position.viewport=l.container),l.container=l.container.eq(0),l.at=new I(l.at,M),l.my=new I(l.my),e.data(R))if(u.overwrite)e.qtip("destroy",!0);else if(u.overwrite===_)return _;return e.attr(V,i),u.suppress&&(c=e.attr("title"))&&e.removeAttr("title").attr(it,c).attr("title",""),a=new o(e,u,i,!!d),e.data(R,a),a}function y(e){return e.charAt(0).toUpperCase()+e.slice(1)}function b(e,t){var n,o,s=t.charAt(0).toUpperCase()+t.slice(1),a=(t+" "+wt.join(s+" ")+s).split(" "),r=0;if($t[t])return e.css($t[t]);for(;n=a[r++];)if((o=e.css(n))!==i)return $t[t]=n,o}function $(e,t){return Math.ceil(parseFloat(b(e,t)))}function w(e,t){this._ns="tip",this.options=t,this.offset=t.offset,this.size=[t.width,t.height],this.qtip=e,this.init(e)}function C(e,t){this.options=t,this._ns="-modal",this.qtip=e,this.init(e)
}function x(e){this._ns="ie6",this.qtip=e,this.init(e)}var T,S,I,k,q,M=!0,_=!1,P=null,E="x",D="y",A="width",O="height",L="top",z="left",N="bottom",F="right",j="center",W="flipinvert",H="shift",B={},R="qtip",V="data-hasqtip",X="data-qtip-id",Q=["ui-widget","ui-tooltip"],U="."+R,Y="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" "),G=R+"-fixed",J=R+"-default",K=R+"-focus",Z=R+"-hover",et=R+"-disabled",tt="_replacedByqTip",it="oldtitle",nt={ie:function(){var e,i;for(e=4,i=t.createElement("div");(i.innerHTML="<!--[if gt IE "+e+"]><i></i><![endif]-->")&&i.getElementsByTagName("i")[0];e+=1);return e>4?e:0/0}(),iOS:parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||_};S=o.prototype,S._when=function(e){return n.when.apply(n,e)},S.render=function(e){if(this.rendered||this.destroyed)return this;var t=this,i=this.options,o=this.cache,s=this.elements,a=i.content.text,r=i.content.title,l=i.content.button,d=i.position,u=[];return n.attr(this.target[0],"aria-describedby",this._id),o.posClass=this._createPosClass((this.position={my:d.my,at:d.at}).my),this.tooltip=s.tooltip=n("<div/>",{id:this._id,"class":[R,J,i.style.classes,o.posClass].join(" "),width:i.style.width||"",height:i.style.height||"",tracking:"mouse"===d.target&&d.adjust.mouse,role:"alert","aria-live":"polite","aria-atomic":_,"aria-describedby":this._id+"-content","aria-hidden":M}).toggleClass(et,this.disabled).attr(X,this.id).data(R,this).appendTo(d.container).append(s.content=n("<div />",{"class":R+"-content",id:this._id+"-content","aria-atomic":M})),this.rendered=-1,this.positioning=M,r&&(this._createTitle(),n.isFunction(r)||u.push(this._updateTitle(r,_))),l&&this._createButton(),n.isFunction(a)||u.push(this._updateContent(a,_)),this.rendered=M,this._setWidget(),n.each(B,function(e){var i;"render"===this.initialize&&(i=this(t))&&(t.plugins[e]=i)}),this._unassignEvents(),this._assignEvents(),this._when(u).then(function(){t._trigger("render"),t.positioning=_,t.hiddenDuringWait||!i.show.ready&&!e||t.toggle(M,o.event,_),t.hiddenDuringWait=_}),T.api[this.id]=this,this},S.destroy=function(e){function t(){if(!this.destroyed){this.destroyed=M;var e,t=this.target,i=t.attr(it);this.rendered&&this.tooltip.stop(1,0).find("*").remove().end().remove(),n.each(this.plugins,function(){this.destroy&&this.destroy()});for(e in this.timers)this.timers.hasOwnProperty(e)&&clearTimeout(this.timers[e]);t.removeData(R).removeAttr(X).removeAttr(V).removeAttr("aria-describedby"),this.options.suppress&&i&&t.attr("title",i).removeAttr(it),this._unassignEvents(),this.options=this.elements=this.cache=this.timers=this.plugins=this.mouse=P,delete T.api[this.id]}}return this.destroyed?this.target:(e===M&&"hide"!==this.triggering||!this.rendered?t.call(this):(this.tooltip.one("tooltiphidden",n.proxy(t,this)),!this.triggering&&this.hide()),this.target)},k=S.checks={builtin:{"^id$":function(e,t,i,o){var s=i===M?T.nextid:i,a=R+"-"+s;s!==_&&s.length>0&&!n("#"+a).length?(this._id=a,this.rendered&&(this.tooltip[0].id=this._id,this.elements.content[0].id=this._id+"-content",this.elements.title[0].id=this._id+"-title")):e[t]=o},"^prerender":function(e,t,i){i&&!this.rendered&&this.render(this.options.show.ready)},"^content.text$":function(e,t,i){this._updateContent(i)},"^content.attr$":function(e,t,i,n){this.options.content.text===this.target.attr(n)&&this._updateContent(this.target.attr(i))},"^content.title$":function(e,t,i){return i?(i&&!this.elements.title&&this._createTitle(),void this._updateTitle(i)):this._removeTitle()},"^content.button$":function(e,t,i){this._updateButton(i)},"^content.title.(text|button)$":function(e,t,i){this.set("content."+t,i)},"^position.(my|at)$":function(e,t,i){"string"==typeof i&&(this.position[t]=e[t]=new I(i,"at"===t))},"^position.container$":function(e,t,i){this.rendered&&this.tooltip.appendTo(i)},"^show.ready$":function(e,t,i){i&&(!this.rendered&&this.render(M)||this.toggle(M))},"^style.classes$":function(e,t,i,n){this.rendered&&this.tooltip.removeClass(n).addClass(i)},"^style.(width|height)":function(e,t,i){this.rendered&&this.tooltip.css(t,i)},"^style.widget|content.title":function(){this.rendered&&this._setWidget()},"^style.def":function(e,t,i){this.rendered&&this.tooltip.toggleClass(J,!!i)},"^events.(render|show|move|hide|focus|blur)$":function(e,t,i){this.rendered&&this.tooltip[(n.isFunction(i)?"":"un")+"bind"]("tooltip"+t,i)},"^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)":function(){if(this.rendered){var e=this.options.position;this.tooltip.attr("tracking","mouse"===e.target&&e.adjust.mouse),this._unassignEvents(),this._assignEvents()}}}},S.get=function(e){if(this.destroyed)return this;var t=l(this.options,e.toLowerCase()),i=t[0][t[1]];return i.precedance?i.string():i};var ot=/^position\.(my|at|adjust|target|container|viewport)|style|content|show\.ready/i,st=/^prerender|show\.ready/i;S.set=function(e,t){if(this.destroyed)return this;var i,o=this.rendered,s=_,a=this.options;return"string"==typeof e?(i=e,e={},e[i]=t):e=n.extend({},e),n.each(e,function(t,i){if(o&&st.test(t))return void delete e[t];var r,d=l(a,t.toLowerCase());r=d[0][d[1]],d[0][d[1]]=i&&i.nodeType?n(i):i,s=ot.test(t)||s,e[t]=[d[0],d[1],i,r]}),r(a),this.positioning=M,n.each(e,n.proxy(d,this)),this.positioning=_,this.rendered&&this.tooltip[0].offsetWidth>0&&s&&this.reposition("mouse"===a.position.target?P:this.cache.event),this},S._update=function(e,t){var i=this,o=this.cache;return this.rendered&&e?(n.isFunction(e)&&(e=e.call(this.elements.target,o.event,this)||""),n.isFunction(e.then)?(o.waiting=M,e.then(function(e){return o.waiting=_,i._update(e,t)},P,function(e){return i._update(e,t)})):e===_||!e&&""!==e?_:(e.jquery&&e.length>0?t.empty().append(e.css({display:"block",visibility:"visible"})):t.html(e),this._waitForContent(t).then(function(e){i.rendered&&i.tooltip[0].offsetWidth>0&&i.reposition(o.event,!e.length)}))):_},S._waitForContent=function(e){var t=this.cache;return t.waiting=M,(n.fn.imagesLoaded?e.imagesLoaded():(new n.Deferred).resolve([])).done(function(){t.waiting=_}).promise()},S._updateContent=function(e,t){this._update(e,this.elements.content,t)},S._updateTitle=function(e,t){this._update(e,this.elements.title,t)===_&&this._removeTitle(_)},S._createTitle=function(){var e=this.elements,t=this._id+"-title";e.titlebar&&this._removeTitle(),e.titlebar=n("<div />",{"class":R+"-titlebar "+(this.options.style.widget?u("header"):"")}).append(e.title=n("<div />",{id:t,"class":R+"-title","aria-atomic":M})).insertBefore(e.content).delegate(".qtip-close","mousedown keydown mouseup keyup mouseout",function(e){n(this).toggleClass("ui-state-active ui-state-focus","down"===e.type.substr(-4))}).delegate(".qtip-close","mouseover mouseout",function(e){n(this).toggleClass("ui-state-hover","mouseover"===e.type)}),this.options.content.button&&this._createButton()},S._removeTitle=function(e){var t=this.elements;t.title&&(t.titlebar.remove(),t.titlebar=t.title=t.button=P,e!==_&&this.reposition())},S._createPosClass=function(e){return R+"-pos-"+(e||this.options.position.my).abbrev()},S.reposition=function(i,o){if(!this.rendered||this.positioning||this.destroyed)return this;this.positioning=M;var s,a,r,l,d=this.cache,u=this.tooltip,c=this.options.position,h=c.target,p=c.my,f=c.at,m=c.viewport,g=c.container,v=c.adjust,y=v.method.split(" "),b=u.outerWidth(_),$=u.outerHeight(_),w=0,C=0,x=u.css("position"),T={left:0,top:0},S=u[0].offsetWidth>0,I=i&&"scroll"===i.type,k=n(e),q=g[0].ownerDocument,P=this.mouse;if(n.isArray(h)&&2===h.length)f={x:z,y:L},T={left:h[0],top:h[1]};else if("mouse"===h)f={x:z,y:L},(!v.mouse||this.options.hide.distance)&&d.origin&&d.origin.pageX?i=d.origin:!i||i&&("resize"===i.type||"scroll"===i.type)?i=d.event:P&&P.pageX&&(i=P),"static"!==x&&(T=g.offset()),q.body.offsetWidth!==(e.innerWidth||q.documentElement.clientWidth)&&(a=n(t.body).offset()),T={left:i.pageX-T.left+(a&&a.left||0),top:i.pageY-T.top+(a&&a.top||0)},v.mouse&&I&&P&&(T.left-=(P.scrollX||0)-k.scrollLeft(),T.top-=(P.scrollY||0)-k.scrollTop());else{if("event"===h?i&&i.target&&"scroll"!==i.type&&"resize"!==i.type?d.target=n(i.target):i.target||(d.target=this.elements.target):"event"!==h&&(d.target=n(h.jquery?h:this.elements.target)),h=d.target,h=n(h).eq(0),0===h.length)return this;h[0]===t||h[0]===e?(w=nt.iOS?e.innerWidth:h.width(),C=nt.iOS?e.innerHeight:h.height(),h[0]===e&&(T={top:(m||h).scrollTop(),left:(m||h).scrollLeft()})):B.imagemap&&h.is("area")?s=B.imagemap(this,h,f,B.viewport?y:_):B.svg&&h&&h[0].ownerSVGElement?s=B.svg(this,h,f,B.viewport?y:_):(w=h.outerWidth(_),C=h.outerHeight(_),T=h.offset()),s&&(w=s.width,C=s.height,a=s.offset,T=s.position),T=this.reposition.offset(h,T,g),(nt.iOS>3.1&&nt.iOS<4.1||nt.iOS>=4.3&&nt.iOS<4.33||!nt.iOS&&"fixed"===x)&&(T.left-=k.scrollLeft(),T.top-=k.scrollTop()),(!s||s&&s.adjustable!==_)&&(T.left+=f.x===F?w:f.x===j?w/2:0,T.top+=f.y===N?C:f.y===j?C/2:0)}return T.left+=v.x+(p.x===F?-b:p.x===j?-b/2:0),T.top+=v.y+(p.y===N?-$:p.y===j?-$/2:0),B.viewport?(r=T.adjusted=B.viewport(this,T,c,w,C,b,$),a&&r.left&&(T.left+=a.left),a&&r.top&&(T.top+=a.top),r.my&&(this.position.my=r.my)):T.adjusted={left:0,top:0},d.posClass!==(l=this._createPosClass(this.position.my))&&(d.posClass=l,u.removeClass(d.posClass).addClass(l)),this._trigger("move",[T,m.elem||m],i)?(delete T.adjusted,o===_||!S||isNaN(T.left)||isNaN(T.top)||"mouse"===h||!n.isFunction(c.effect)?u.css(T):n.isFunction(c.effect)&&(c.effect.call(u,this,n.extend({},T)),u.queue(function(e){n(this).css({opacity:"",height:""}),nt.ie&&this.style.removeAttribute("filter"),e()})),this.positioning=_,this):this},S.reposition.offset=function(e,i,o){function s(e,t){i.left+=t*e.scrollLeft(),i.top+=t*e.scrollTop()}if(!o[0])return i;var a,r,l,d,u=n(e[0].ownerDocument),c=!!nt.ie&&"CSS1Compat"!==t.compatMode,h=o[0];do"static"!==(r=n.css(h,"position"))&&("fixed"===r?(l=h.getBoundingClientRect(),s(u,-1)):(l=n(h).position(),l.left+=parseFloat(n.css(h,"borderLeftWidth"))||0,l.top+=parseFloat(n.css(h,"borderTopWidth"))||0),i.left-=l.left+(parseFloat(n.css(h,"marginLeft"))||0),i.top-=l.top+(parseFloat(n.css(h,"marginTop"))||0),a||"hidden"===(d=n.css(h,"overflow"))||"visible"===d||(a=n(h)));while(h=h.offsetParent);return a&&(a[0]!==u[0]||c)&&s(a,1),i};var at=(I=S.reposition.Corner=function(e,t){e=(""+e).replace(/([A-Z])/," $1").replace(/middle/gi,j).toLowerCase(),this.x=(e.match(/left|right/i)||e.match(/center/)||["inherit"])[0].toLowerCase(),this.y=(e.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase(),this.forceY=!!t;var i=e.charAt(0);this.precedance="t"===i||"b"===i?D:E}).prototype;at.invert=function(e,t){this[e]=this[e]===z?F:this[e]===F?z:t||this[e]},at.string=function(e){var t=this.x,i=this.y,n=t!==i?"center"===t||"center"!==i&&(this.precedance===D||this.forceY)?[i,t]:[t,i]:[t];return e!==!1?n.join(" "):n},at.abbrev=function(){var e=this.string(!1);return e[0].charAt(0)+(e[1]&&e[1].charAt(0)||"")},at.clone=function(){return new I(this.string(),this.forceY)},S.toggle=function(e,i){var o=this.cache,s=this.options,a=this.tooltip;if(i){if(/over|enter/.test(i.type)&&o.event&&/out|leave/.test(o.event.type)&&s.show.target.add(i.target).length===s.show.target.length&&a.has(i.relatedTarget).length)return this;o.event=n.event.fix(i)}if(this.waiting&&!e&&(this.hiddenDuringWait=M),!this.rendered)return e?this.render(1):this;if(this.destroyed||this.disabled)return this;var r,l,d,u=e?"show":"hide",c=this.options[u],h=this.options.position,p=this.options.content,f=this.tooltip.css("width"),m=this.tooltip.is(":visible"),g=e||1===c.target.length,v=!i||c.target.length<2||o.target[0]===i.target;return(typeof e).search("boolean|number")&&(e=!m),r=!a.is(":animated")&&m===e&&v,l=r?P:!!this._trigger(u,[90]),this.destroyed?this:(l!==_&&e&&this.focus(i),!l||r?this:(n.attr(a[0],"aria-hidden",!e),e?(this.mouse&&(o.origin=n.event.fix(this.mouse)),n.isFunction(p.text)&&this._updateContent(p.text,_),n.isFunction(p.title)&&this._updateTitle(p.title,_),!q&&"mouse"===h.target&&h.adjust.mouse&&(n(t).bind("mousemove."+R,this._storeMouse),q=M),f||a.css("width",a.outerWidth(_)),this.reposition(i,arguments[2]),f||a.css("width",""),c.solo&&("string"==typeof c.solo?n(c.solo):n(U,c.solo)).not(a).not(c.target).qtip("hide",new n.Event("tooltipsolo"))):(clearTimeout(this.timers.show),delete o.origin,q&&!n(U+'[tracking="true"]:visible',c.solo).not(a).length&&(n(t).unbind("mousemove."+R),q=_),this.blur(i)),d=n.proxy(function(){e?(nt.ie&&a[0].style.removeAttribute("filter"),a.css("overflow",""),"string"==typeof c.autofocus&&n(this.options.show.autofocus,a).focus(),this.options.show.target.trigger("qtip-"+this.id+"-inactive")):a.css({display:"",visibility:"",opacity:"",left:"",top:""}),this._trigger(e?"visible":"hidden")},this),c.effect===_||g===_?(a[u](),d()):n.isFunction(c.effect)?(a.stop(1,1),c.effect.call(a,this),a.queue("fx",function(e){d(),e()})):a.fadeTo(90,e?1:0,d),e&&c.target.trigger("qtip-"+this.id+"-inactive"),this))},S.show=function(e){return this.toggle(M,e)},S.hide=function(e){return this.toggle(_,e)},S.focus=function(e){if(!this.rendered||this.destroyed)return this;var t=n(U),i=this.tooltip,o=parseInt(i[0].style.zIndex,10),s=T.zindex+t.length;return i.hasClass(K)||this._trigger("focus",[s],e)&&(o!==s&&(t.each(function(){this.style.zIndex>o&&(this.style.zIndex=this.style.zIndex-1)}),t.filter("."+K).qtip("blur",e)),i.addClass(K)[0].style.zIndex=s),this},S.blur=function(e){return!this.rendered||this.destroyed?this:(this.tooltip.removeClass(K),this._trigger("blur",[this.tooltip.css("zIndex")],e),this)},S.disable=function(e){return this.destroyed?this:("toggle"===e?e=!(this.rendered?this.tooltip.hasClass(et):this.disabled):"boolean"!=typeof e&&(e=M),this.rendered&&this.tooltip.toggleClass(et,e).attr("aria-disabled",e),this.disabled=!!e,this)},S.enable=function(){return this.disable(_)},S._createButton=function(){var e=this,t=this.elements,i=t.tooltip,o=this.options.content.button,s="string"==typeof o,a=s?o:"Close tooltip";t.button&&t.button.remove(),t.button=o.jquery?o:n("<a />",{"class":"qtip-close "+(this.options.style.widget?"":R+"-icon"),title:a,"aria-label":a}).prepend(n("<span />",{"class":"ui-icon ui-icon-close",html:"&times;"})),t.button.appendTo(t.titlebar||i).attr("role","button").click(function(t){return i.hasClass(et)||e.hide(t),_})},S._updateButton=function(e){if(!this.rendered)return _;var t=this.elements.button;e?this._createButton():t.remove()},S._setWidget=function(){var e=this.options.style.widget,t=this.elements,i=t.tooltip,n=i.hasClass(et);i.removeClass(et),et=e?"ui-state-disabled":"qtip-disabled",i.toggleClass(et,n),i.toggleClass("ui-helper-reset "+u(),e).toggleClass(J,this.options.style.def&&!e),t.content&&t.content.toggleClass(u("content"),e),t.titlebar&&t.titlebar.toggleClass(u("header"),e),t.button&&t.button.toggleClass(R+"-icon",!e)},S._storeMouse=function(e){return(this.mouse=n.event.fix(e)).type="mousemove",this},S._bind=function(e,t,i,o,s){if(e&&i&&t.length){var a="."+this._id+(o?"-"+o:"");return n(e).bind((t.split?t:t.join(a+" "))+a,n.proxy(i,s||this)),this}},S._unbind=function(e,t){return e&&n(e).unbind("."+this._id+(t?"-"+t:"")),this},S._trigger=function(e,t,i){var o=new n.Event("tooltip"+e);return o.originalEvent=i&&n.extend({},i)||this.cache.event||P,this.triggering=e,this.tooltip.trigger(o,[this].concat(t||[])),this.triggering=_,!o.isDefaultPrevented()},S._bindEvents=function(e,t,i,o,s,a){var r=i.filter(o).add(o.filter(i)),l=[];r.length&&(n.each(t,function(t,i){var o=n.inArray(i,e);o>-1&&l.push(e.splice(o,1)[0])}),l.length&&(this._bind(r,l,function(e){var t=this.rendered?this.tooltip[0].offsetWidth>0:!1;(t?a:s).call(this,e)}),i=i.not(r),o=o.not(r))),this._bind(i,e,s),this._bind(o,t,a)},S._assignInitialEvents=function(e){function t(e){return this.disabled||this.destroyed?_:(this.cache.event=e&&n.event.fix(e),this.cache.target=e&&n(e.target),clearTimeout(this.timers.show),void(this.timers.show=c.call(this,function(){this.render("object"==typeof e||i.show.ready)},i.prerender?0:i.show.delay)))}var i=this.options,o=i.show.target,s=i.hide.target,a=i.show.event?n.trim(""+i.show.event).split(" "):[],r=i.hide.event?n.trim(""+i.hide.event).split(" "):[];this._bind(this.elements.target,["remove","removeqtip"],function(){this.destroy(!0)},"destroy"),/mouse(over|enter)/i.test(i.show.event)&&!/mouse(out|leave)/i.test(i.hide.event)&&r.push("mouseleave"),this._bind(o,"mousemove",function(e){this._storeMouse(e),this.cache.onTarget=M}),this._bindEvents(a,r,o,s,t,function(){return this.timers?void clearTimeout(this.timers.show):_}),(i.show.ready||i.prerender)&&t.call(this,e)},S._assignEvents=function(){var i=this,o=this.options,s=o.position,a=this.tooltip,r=o.show.target,l=o.hide.target,d=s.container,u=s.viewport,c=n(t),g=n(e),v=o.show.event?n.trim(""+o.show.event).split(" "):[],y=o.hide.event?n.trim(""+o.hide.event).split(" "):[];n.each(o.events,function(e,t){i._bind(a,"toggle"===e?["tooltipshow","tooltiphide"]:["tooltip"+e],t,null,a)}),/mouse(out|leave)/i.test(o.hide.event)&&"window"===o.hide.leave&&this._bind(c,["mouseout","blur"],function(e){/select|option/.test(e.target.nodeName)||e.relatedTarget||this.hide(e)}),o.hide.fixed?l=l.add(a.addClass(G)):/mouse(over|enter)/i.test(o.show.event)&&this._bind(l,"mouseleave",function(){clearTimeout(this.timers.show)}),(""+o.hide.event).indexOf("unfocus")>-1&&(this._bind(d.closest("html"),["mousedown","touchstart"],function(e){var t=n(e.target),i=this.rendered&&!this.tooltip.hasClass(et)&&this.tooltip[0].offsetWidth>0,o=t.parents(U).filter(this.tooltip[0]).length>0;t[0]===this.target[0]||t[0]===this.tooltip[0]||o||this.target.has(t[0]).length||!i||this.hide(e)}),this._bind(d.closest("html"),["keyup"],function(e){var t=this.rendered&&!this.tooltip.hasClass(et)&&this.tooltip[0].offsetWidth>0;t&&27===e.which&&this.hide(e)})),"number"==typeof o.hide.inactive&&(this._bind(r,"qtip-"+this.id+"-inactive",f,"inactive"),this._bind(l.add(a),T.inactiveEvents,f)),this._bindEvents(v,y,r,l,h,p),this._bind(r.add(a),"mousemove",function(e){if("number"==typeof o.hide.distance){var t=this.cache.origin||{},i=this.options.hide.distance,n=Math.abs;(n(e.pageX-t.pageX)>=i||n(e.pageY-t.pageY)>=i)&&this.hide(e)}this._storeMouse(e)}),"mouse"===s.target&&s.adjust.mouse&&(o.hide.event&&this._bind(r,["mouseenter","mouseleave"],function(e){return this.cache?void(this.cache.onTarget="mouseenter"===e.type):_}),this._bind(c,"mousemove",function(e){this.rendered&&this.cache.onTarget&&!this.tooltip.hasClass(et)&&this.tooltip[0].offsetWidth>0&&this.reposition(e)})),(s.adjust.resize||u.length)&&this._bind(n.event.special.resize?u:g,"resize",m),s.adjust.scroll&&this._bind(g.add(s.container),"scroll",m)},S._unassignEvents=function(){var i=this.options,o=i.show.target,s=i.hide.target,a=n.grep([this.elements.target[0],this.rendered&&this.tooltip[0],i.position.container[0],i.position.viewport[0],i.position.container.closest("html")[0],e,t],function(e){return"object"==typeof e});o&&o.toArray&&(a=a.concat(o.toArray())),s&&s.toArray&&(a=a.concat(s.toArray())),this._unbind(a)._unbind(a,"destroy")._unbind(a,"inactive")},n(function(){g(U,["mouseenter","mouseleave"],function(e){var t="mouseenter"===e.type,i=n(e.currentTarget),o=n(e.relatedTarget||e.target),s=this.options;t?(this.focus(e),i.hasClass(G)&&!i.hasClass(et)&&clearTimeout(this.timers.hide)):"mouse"===s.position.target&&s.position.adjust.mouse&&s.hide.event&&s.show.target&&!o.closest(s.show.target[0]).length&&this.hide(e),i.toggleClass(Z,t)}),g("["+X+"]",Y,f)}),T=n.fn.qtip=function(e,t,o){var s=(""+e).toLowerCase(),a=P,l=n.makeArray(arguments).slice(1),d=l[l.length-1],u=this[0]?n.data(this[0],R):P;return!arguments.length&&u||"api"===s?u:"string"==typeof e?(this.each(function(){var e=n.data(this,R);if(!e)return M;if(d&&d.timeStamp&&(e.cache.event=d),!t||"option"!==s&&"options"!==s)e[s]&&e[s].apply(e,l);else{if(o===i&&!n.isPlainObject(t))return a=e.get(t),_;e.set(t,o)}}),a!==P?a:this):"object"!=typeof e&&arguments.length?void 0:(u=r(n.extend(M,{},e)),this.each(function(e){var t,i;return i=n.isArray(u.id)?u.id[e]:u.id,i=!i||i===_||i.length<1||T.api[i]?T.nextid++:i,t=v(n(this),i,u),t===_?M:(T.api[i]=t,n.each(B,function(){"initialize"===this.initialize&&this(t)}),void t._assignInitialEvents(d))}))},n.qtip=o,T.api={},n.each({attr:function(e,t){if(this.length){var i=this[0],o="title",s=n.data(i,"qtip");if(e===o&&s&&s.options&&"object"==typeof s&&"object"==typeof s.options&&s.options.suppress)return arguments.length<2?n.attr(i,it):(s&&s.options.content.attr===o&&s.cache.attr&&s.set("content.text",t),this.attr(it,t))}return n.fn["attr"+tt].apply(this,arguments)},clone:function(e){var t=n.fn["clone"+tt].apply(this,arguments);return e||t.filter("["+it+"]").attr("title",function(){return n.attr(this,it)}).removeAttr(it),t}},function(e,t){if(!t||n.fn[e+tt])return M;var i=n.fn[e+tt]=n.fn[e];n.fn[e]=function(){return t.apply(this,arguments)||i.apply(this,arguments)}}),n.ui||(n["cleanData"+tt]=n.cleanData,n.cleanData=function(e){for(var t,i=0;(t=n(e[i])).length;i++)if(t.attr(V))try{t.triggerHandler("removeqtip")}catch(o){}n["cleanData"+tt].apply(this,arguments)}),T.version="3.0.3",T.nextid=0,T.inactiveEvents=Y,T.zindex=15e3,T.defaults={prerender:_,id:_,overwrite:M,suppress:M,content:{text:M,attr:"title",title:_,button:_},position:{my:"top left",at:"bottom right",target:_,container:_,viewport:_,adjust:{x:0,y:0,mouse:M,scroll:M,resize:M,method:"flipinvert flipinvert"},effect:function(e,t){n(this).animate(t,{duration:200,queue:_})}},show:{target:_,event:"mouseenter",effect:M,delay:90,solo:_,ready:_,autofocus:_},hide:{target:_,event:"mouseleave",effect:M,delay:0,fixed:_,inactive:_,leave:"window",distance:_},style:{classes:"",widget:_,width:_,height:_,def:M},events:{render:P,move:P,show:P,hide:P,toggle:P,visible:P,hidden:P,focus:P,blur:P}};var rt,lt,dt,ut,ct,ht="margin",pt="border",ft="color",mt="background-color",gt="transparent",vt=" !important",yt=!!t.createElement("canvas").getContext,bt=/rgba?\(0, 0, 0(, 0)?\)|transparent|#123456/i,$t={},wt=["Webkit","O","Moz","ms"];yt?(ut=e.devicePixelRatio||1,ct=function(){var e=t.createElement("canvas").getContext("2d");return e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||1}(),dt=ut/ct):lt=function(e,t,i){return"<qtipvml:"+e+' xmlns="urn:schemas-microsoft.com:vml" class="qtip-vml" '+(t||"")+' style="behavior: url(#default#VML); '+(i||"")+'" />'},n.extend(w.prototype,{init:function(e){var t,i;i=this.element=e.elements.tip=n("<div />",{"class":R+"-tip"}).prependTo(e.tooltip),yt?(t=n("<canvas />").appendTo(this.element)[0].getContext("2d"),t.lineJoin="miter",t.miterLimit=1e5,t.save()):(t=lt("shape",'coordorigin="0,0"',"position:absolute;"),this.element.html(t+t),e._bind(n("*",i).add(i),["click","mousedown"],function(e){e.stopPropagation()},this._ns)),e._bind(e.tooltip,"tooltipmove",this.reposition,this._ns,this),this.create()},_swapDimensions:function(){this.size[0]=this.options.height,this.size[1]=this.options.width},_resetDimensions:function(){this.size[0]=this.options.width,this.size[1]=this.options.height},_useTitle:function(e){var t=this.qtip.elements.titlebar;return t&&(e.y===L||e.y===j&&this.element.position().top+this.size[1]/2+this.options.offset<t.outerHeight(M))},_parseCorner:function(e){var t=this.qtip.options.position.my;return e===_||t===_?e=_:e===M?e=new I(t.string()):e.string||(e=new I(e),e.fixed=M),e},_parseWidth:function(e,t,i){var n=this.qtip.elements,o=pt+y(t)+"Width";return(i?$(i,o):$(n.content,o)||$(this._useTitle(e)&&n.titlebar||n.content,o)||$(n.tooltip,o))||0},_parseRadius:function(e){var t=this.qtip.elements,i=pt+y(e.y)+y(e.x)+"Radius";return nt.ie<9?0:$(this._useTitle(e)&&t.titlebar||t.content,i)||$(t.tooltip,i)||0},_invalidColour:function(e,t,i){var n=e.css(t);return!n||i&&n===e.css(i)||bt.test(n)?_:n},_parseColours:function(e){var t=this.qtip.elements,i=this.element.css("cssText",""),o=pt+y(e[e.precedance])+y(ft),s=this._useTitle(e)&&t.titlebar||t.content,a=this._invalidColour,r=[];return r[0]=a(i,mt)||a(s,mt)||a(t.content,mt)||a(t.tooltip,mt)||i.css(mt),r[1]=a(i,o,ft)||a(s,o,ft)||a(t.content,o,ft)||a(t.tooltip,o,ft)||t.tooltip.css(o),n("*",i).add(i).css("cssText",mt+":"+gt+vt+";"+pt+":0"+vt+";"),r},_calculateSize:function(e){var t,i,n,o=e.precedance===D,s=this.options.width,a=this.options.height,r="c"===e.abbrev(),l=(o?s:a)*(r?.5:1),d=Math.pow,u=Math.round,c=Math.sqrt(d(l,2)+d(a,2)),h=[this.border/l*c,this.border/a*c];return h[2]=Math.sqrt(d(h[0],2)-d(this.border,2)),h[3]=Math.sqrt(d(h[1],2)-d(this.border,2)),t=c+h[2]+h[3]+(r?0:h[0]),i=t/c,n=[u(i*s),u(i*a)],o?n:n.reverse()},_calculateTip:function(e,t,i){i=i||1,t=t||this.size;var n=t[0]*i,o=t[1]*i,s=Math.ceil(n/2),a=Math.ceil(o/2),r={br:[0,0,n,o,n,0],bl:[0,0,n,0,0,o],tr:[0,o,n,0,n,o],tl:[0,0,0,o,n,o],tc:[0,o,s,0,n,o],bc:[0,0,n,0,s,o],rc:[0,0,n,a,0,o],lc:[n,0,n,o,0,a]};return r.lt=r.br,r.rt=r.bl,r.lb=r.tr,r.rb=r.tl,r[e.abbrev()]},_drawCoords:function(e,t){e.beginPath(),e.moveTo(t[0],t[1]),e.lineTo(t[2],t[3]),e.lineTo(t[4],t[5]),e.closePath()},create:function(){var e=this.corner=(yt||nt.ie)&&this._parseCorner(this.options.corner);return this.enabled=!!this.corner&&"c"!==this.corner.abbrev(),this.enabled&&(this.qtip.cache.corner=e.clone(),this.update()),this.element.toggle(this.enabled),this.corner},update:function(t,i){if(!this.enabled)return this;var o,s,a,r,l,d,u,c,h=this.qtip.elements,p=this.element,f=p.children(),m=this.options,g=this.size,v=m.mimic,y=Math.round;t||(t=this.qtip.cache.corner||this.corner),v===_?v=t:(v=new I(v),v.precedance=t.precedance,"inherit"===v.x?v.x=t.x:"inherit"===v.y?v.y=t.y:v.x===v.y&&(v[t.precedance]=t[t.precedance])),s=v.precedance,t.precedance===E?this._swapDimensions():this._resetDimensions(),o=this.color=this._parseColours(t),o[1]!==gt?(c=this.border=this._parseWidth(t,t[t.precedance]),m.border&&1>c&&!bt.test(o[1])&&(o[0]=o[1]),this.border=c=m.border!==M?m.border:c):this.border=c=0,u=this.size=this._calculateSize(t),p.css({width:u[0],height:u[1],lineHeight:u[1]+"px"}),d=t.precedance===D?[y(v.x===z?c:v.x===F?u[0]-g[0]-c:(u[0]-g[0])/2),y(v.y===L?u[1]-g[1]:0)]:[y(v.x===z?u[0]-g[0]:0),y(v.y===L?c:v.y===N?u[1]-g[1]-c:(u[1]-g[1])/2)],yt?(a=f[0].getContext("2d"),a.restore(),a.save(),a.clearRect(0,0,6e3,6e3),r=this._calculateTip(v,g,dt),l=this._calculateTip(v,this.size,dt),f.attr(A,u[0]*dt).attr(O,u[1]*dt),f.css(A,u[0]).css(O,u[1]),this._drawCoords(a,l),a.fillStyle=o[1],a.fill(),a.translate(d[0]*dt,d[1]*dt),this._drawCoords(a,r),a.fillStyle=o[0],a.fill()):(r=this._calculateTip(v),r="m"+r[0]+","+r[1]+" l"+r[2]+","+r[3]+" "+r[4]+","+r[5]+" xe",d[2]=c&&/^(r|b)/i.test(t.string())?8===nt.ie?2:1:0,f.css({coordsize:u[0]+c+" "+u[1]+c,antialias:""+(v.string().indexOf(j)>-1),left:d[0]-d[2]*Number(s===E),top:d[1]-d[2]*Number(s===D),width:u[0]+c,height:u[1]+c}).each(function(e){var t=n(this);t[t.prop?"prop":"attr"]({coordsize:u[0]+c+" "+u[1]+c,path:r,fillcolor:o[0],filled:!!e,stroked:!e}).toggle(!(!c&&!e)),!e&&t.html(lt("stroke",'weight="'+2*c+'px" color="'+o[1]+'" miterlimit="1000" joinstyle="miter"'))})),e.opera&&setTimeout(function(){h.tip.css({display:"inline-block",visibility:"visible"})},1),i!==_&&this.calculate(t,u)},calculate:function(e,t){if(!this.enabled)return _;var i,o,s=this,a=this.qtip.elements,r=this.element,l=this.options.offset,d={};return e=e||this.corner,i=e.precedance,t=t||this._calculateSize(e),o=[e.x,e.y],i===E&&o.reverse(),n.each(o,function(n,o){var r,u,c;o===j?(r=i===D?z:L,d[r]="50%",d[ht+"-"+r]=-Math.round(t[i===D?0:1]/2)+l):(r=s._parseWidth(e,o,a.tooltip),u=s._parseWidth(e,o,a.content),c=s._parseRadius(e),d[o]=Math.max(-s.border,n?u:l+(c>r?c:-r)))}),d[e[i]]-=t[i===E?0:1],r.css({margin:"",top:"",bottom:"",left:"",right:""}).css(d),d},reposition:function(e,t,n){function o(e,t,i,n,o){e===H&&d.precedance===t&&u[n]&&d[i]!==j?d.precedance=d.precedance===E?D:E:e!==H&&u[n]&&(d[t]=d[t]===j?u[n]>0?n:o:d[t]===n?o:n)}function s(e,t,o){d[e]===j?m[ht+"-"+t]=f[e]=a[ht+"-"+t]-u[t]:(r=a[o]!==i?[u[t],-a[t]]:[-u[t],a[t]],(f[e]=Math.max(r[0],r[1]))>r[0]&&(n[t]-=u[t],f[t]=_),m[a[o]!==i?o:t]=f[e])}if(this.enabled){var a,r,l=t.cache,d=this.corner.clone(),u=n.adjusted,c=t.options.position.adjust.method.split(" "),h=c[0],p=c[1]||c[0],f={left:_,top:_,x:0,y:0},m={};this.corner.fixed!==M&&(o(h,E,D,z,F),o(p,D,E,L,N),(d.string()!==l.corner.string()||l.cornerTop!==u.top||l.cornerLeft!==u.left)&&this.update(d,_)),a=this.calculate(d),a.right!==i&&(a.left=-a.right),a.bottom!==i&&(a.top=-a.bottom),a.user=this.offset,f.left=h===H&&!!u.left,f.left&&s(E,z,F),f.top=p===H&&!!u.top,f.top&&s(D,L,N),this.element.css(m).toggle(!(f.x&&f.y||d.x===j&&f.y||d.y===j&&f.x)),n.left-=a.left.charAt?a.user:h!==H||f.top||!f.left&&!f.top?a.left+this.border:0,n.top-=a.top.charAt?a.user:p!==H||f.left||!f.left&&!f.top?a.top+this.border:0,l.cornerLeft=u.left,l.cornerTop=u.top,l.corner=d.clone()}},destroy:function(){this.qtip._unbind(this.qtip.tooltip,this._ns),this.qtip.elements.tip&&this.qtip.elements.tip.find("*").remove().end().remove()}}),rt=B.tip=function(e){return new w(e,e.options.style.tip)},rt.initialize="render",rt.sanitize=function(e){if(e.style&&"tip"in e.style){var t=e.style.tip;"object"!=typeof t&&(t=e.style.tip={corner:t}),/string|boolean/i.test(typeof t.corner)||(t.corner=M)}},k.tip={"^position.my|style.tip.(corner|mimic|border)$":function(){this.create(),this.qtip.reposition()},"^style.tip.(height|width)$":function(e){this.size=[e.width,e.height],this.update(),this.qtip.reposition()},"^content.title|style.(classes|widget)$":function(){this.update()}},n.extend(M,T.defaults,{style:{tip:{corner:M,mimic:_,width:6,height:6,border:M,offset:0}}});var Ct,xt,Tt="qtip-modal",St="."+Tt;xt=function(){function e(e){if(n.expr[":"].focusable)return n.expr[":"].focusable;var t,i,o,s=!isNaN(n.attr(e,"tabindex")),a=e.nodeName&&e.nodeName.toLowerCase();return"area"===a?(t=e.parentNode,i=t.name,e.href&&i&&"map"===t.nodeName.toLowerCase()?(o=n("img[usemap=#"+i+"]")[0],!!o&&o.is(":visible")):!1):/input|select|textarea|button|object/.test(a)?!e.disabled:"a"===a?e.href||s:s}function i(e){d.length<1&&e.length?e.not("body").blur():d.first().focus()}function o(e){if(r.is(":visible")){var t,o=n(e.target),a=s.tooltip,l=o.closest(U);t=l.length<1?_:parseInt(l[0].style.zIndex,10)>parseInt(a[0].style.zIndex,10),t||o.closest(U)[0]===a[0]||i(o)}}var s,a,r,l=this,d={};n.extend(l,{init:function(){return r=l.elem=n("<div />",{id:"qtip-overlay",html:"<div></div>",mousedown:function(){return _}}).hide(),n(t.body).bind("focusin"+St,o),n(t).bind("keydown"+St,function(e){s&&s.options.show.modal.escape&&27===e.keyCode&&s.hide(e)}),r.bind("click"+St,function(e){s&&s.options.show.modal.blur&&s.hide(e)}),l},update:function(t){s=t,d=t.options.show.modal.stealfocus!==_?t.tooltip.find("*").filter(function(){return e(this)}):[]},toggle:function(e,o,d){var u=e.tooltip,c=e.options.show.modal,h=c.effect,p=o?"show":"hide",f=r.is(":visible"),m=n(St).filter(":visible:not(:animated)").not(u);return l.update(e),o&&c.stealfocus!==_&&i(n(":focus")),r.toggleClass("blurs",c.blur),o&&r.appendTo(t.body),r.is(":animated")&&f===o&&a!==_||!o&&m.length?l:(r.stop(M,_),n.isFunction(h)?h.call(r,o):h===_?r[p]():r.fadeTo(parseInt(d,10)||90,o?1:0,function(){o||r.hide()}),o||r.queue(function(e){r.css({left:"",top:""}),n(St).length||r.detach(),e()}),a=o,s.destroyed&&(s=P),l)}}),l.init()},xt=new xt,n.extend(C.prototype,{init:function(e){var t=e.tooltip;return this.options.on?(e.elements.overlay=xt.elem,t.addClass(Tt).css("z-index",T.modal_zindex+n(St).length),e._bind(t,["tooltipshow","tooltiphide"],function(e,i,o){var s=e.originalEvent;if(e.target===t[0])if(s&&"tooltiphide"===e.type&&/mouse(leave|enter)/.test(s.type)&&n(s.relatedTarget).closest(xt.elem[0]).length)try{e.preventDefault()}catch(a){}else(!s||s&&"tooltipsolo"!==s.type)&&this.toggle(e,"tooltipshow"===e.type,o)},this._ns,this),e._bind(t,"tooltipfocus",function(e,i){if(!e.isDefaultPrevented()&&e.target===t[0]){var o=n(St),s=T.modal_zindex+o.length,a=parseInt(t[0].style.zIndex,10);
xt.elem[0].style.zIndex=s-1,o.each(function(){this.style.zIndex>a&&(this.style.zIndex-=1)}),o.filter("."+K).qtip("blur",e.originalEvent),t.addClass(K)[0].style.zIndex=s,xt.update(i);try{e.preventDefault()}catch(r){}}},this._ns,this),void e._bind(t,"tooltiphide",function(e){e.target===t[0]&&n(St).filter(":visible").not(t).last().qtip("focus",e)},this._ns,this)):this},toggle:function(e,t,i){return e&&e.isDefaultPrevented()?this:void xt.toggle(this.qtip,!!t,i)},destroy:function(){this.qtip.tooltip.removeClass(Tt),this.qtip._unbind(this.qtip.tooltip,this._ns),xt.toggle(this.qtip,_),delete this.qtip.elements.overlay}}),Ct=B.modal=function(e){return new C(e,e.options.show.modal)},Ct.sanitize=function(e){e.show&&("object"!=typeof e.show.modal?e.show.modal={on:!!e.show.modal}:"undefined"==typeof e.show.modal.on&&(e.show.modal.on=M))},T.modal_zindex=T.zindex-200,Ct.initialize="render",k.modal={"^show.modal.(on|blur)$":function(){this.destroy(),this.init(),this.qtip.elems.overlay.toggle(this.qtip.tooltip[0].offsetWidth>0)}},n.extend(M,T.defaults,{show:{modal:{on:_,effect:M,blur:M,stealfocus:M,escape:M}}}),B.viewport=function(i,n,o,s,a,r,l){function d(e,t,i,o,s,a,r,l,d){var u=n[s],y=$[e],b=w[e],C=i===H,x=y===s?d:y===a?-d:-d/2,T=b===s?l:b===a?-l:-l/2,S=g[s]+v[s]-(p?0:h[s]),I=S-u,k=u+d-(r===A?f:m)-S,q=x-($.precedance===e||y===$[t]?T:0)-(b===j?l/2:0);return C?(q=(y===s?1:-1)*x,n[s]+=I>0?I:k>0?-k:0,n[s]=Math.max(-h[s]+v[s],u-q,Math.min(Math.max(-h[s]+v[s]+(r===A?f:m),u+q),n[s],"center"===y?u-x:1e9))):(o*=i===W?2:0,I>0&&(y!==s||k>0)?(n[s]-=q+o,c.invert(e,s)):k>0&&(y!==a||I>0)&&(n[s]-=(y===j?-q:q)+o,c.invert(e,a)),n[s]<g[s]&&-n[s]>k&&(n[s]=u,c=$.clone())),n[s]-u}var u,c,h,p,f,m,g,v,y=o.target,b=i.elements.tooltip,$=o.my,w=o.at,C=o.adjust,x=C.method.split(" "),T=x[0],S=x[1]||x[0],I=o.viewport,k=o.container,q={left:0,top:0};return I.jquery&&y[0]!==e&&y[0]!==t.body&&"none"!==C.method?(h=k.offset()||q,p="static"===k.css("position"),u="fixed"===b.css("position"),f=I[0]===e?I.width():I.outerWidth(_),m=I[0]===e?I.height():I.outerHeight(_),g={left:u?0:I.scrollLeft(),top:u?0:I.scrollTop()},v=("function"==typeof I.getBoundingClientRect?I.offset():{top:0,left:0})||q,("shift"!==T||"shift"!==S)&&(c=$.clone()),q={left:"none"!==T?d(E,D,T,C.x,z,F,A,s,r):0,top:"none"!==S?d(D,E,S,C.y,L,N,O,a,l):0,my:c}):q},B.polys={polygon:function(e,t){var i,n,o,s={width:0,height:0,position:{top:1e10,right:0,bottom:0,left:1e10},adjustable:_},a=0,r=[],l=1,d=1,u=0,c=0;for(a=e.length;a--;)i=[parseInt(e[--a],10),parseInt(e[a+1],10)],i[0]>s.position.right&&(s.position.right=i[0]),i[0]<s.position.left&&(s.position.left=i[0]),i[1]>s.position.bottom&&(s.position.bottom=i[1]),i[1]<s.position.top&&(s.position.top=i[1]),r.push(i);if(n=s.width=Math.abs(s.position.right-s.position.left),o=s.height=Math.abs(s.position.bottom-s.position.top),"c"===t.abbrev())s.position={left:s.position.left+s.width/2,top:s.position.top+s.height/2};else{for(;n>0&&o>0&&l>0&&d>0;)for(n=Math.floor(n/2),o=Math.floor(o/2),t.x===z?l=n:t.x===F?l=s.width-n:l+=Math.floor(n/2),t.y===L?d=o:t.y===N?d=s.height-o:d+=Math.floor(o/2),a=r.length;a--&&!(r.length<2);)u=r[a][0]-s.position.left,c=r[a][1]-s.position.top,(t.x===z&&u>=l||t.x===F&&l>=u||t.x===j&&(l>u||u>s.width-l)||t.y===L&&c>=d||t.y===N&&d>=c||t.y===j&&(d>c||c>s.height-d))&&r.splice(a,1);s.position={left:r[0][0],top:r[0][1]}}return s},rect:function(e,t,i,n){return{width:Math.abs(i-e),height:Math.abs(n-t),position:{left:Math.min(e,i),top:Math.min(t,n)}}},_angles:{tc:1.5,tr:7/4,tl:5/4,bc:.5,br:.25,bl:.75,rc:2,lc:1,c:0},ellipse:function(e,t,i,n,o){var s=B.polys._angles[o.abbrev()],a=0===s?0:i*Math.cos(s*Math.PI),r=n*Math.sin(s*Math.PI);return{width:2*i-Math.abs(a),height:2*n-Math.abs(r),position:{left:e+a,top:t+r},adjustable:_}},circle:function(e,t,i,n){return B.polys.ellipse(e,t,i,i,n)}},B.svg=function(e,i,o){for(var s,a,r,l,d,u,c,h,p,f=i[0],m=n(f.ownerSVGElement),g=f.ownerDocument,v=(parseInt(i.css("stroke-width"),10)||0)/2;!f.getBBox;)f=f.parentNode;if(!f.getBBox||!f.parentNode)return _;switch(f.nodeName){case"ellipse":case"circle":h=B.polys.ellipse(f.cx.baseVal.value,f.cy.baseVal.value,(f.rx||f.r).baseVal.value+v,(f.ry||f.r).baseVal.value+v,o);break;case"line":case"polygon":case"polyline":for(c=f.points||[{x:f.x1.baseVal.value,y:f.y1.baseVal.value},{x:f.x2.baseVal.value,y:f.y2.baseVal.value}],h=[],u=-1,l=c.numberOfItems||c.length;++u<l;)d=c.getItem?c.getItem(u):c[u],h.push.apply(h,[d.x,d.y]);h=B.polys.polygon(h,o);break;default:h=f.getBBox(),h={width:h.width,height:h.height,position:{left:h.x,top:h.y}}}return p=h.position,m=m[0],m.createSVGPoint&&(a=f.getScreenCTM(),c=m.createSVGPoint(),c.x=p.left,c.y=p.top,r=c.matrixTransform(a),p.left=r.x,p.top=r.y),g!==t&&"mouse"!==e.position.target&&(s=n((g.defaultView||g.parentWindow).frameElement).offset(),s&&(p.left+=s.left,p.top+=s.top)),g=n(g),p.left+=g.scrollLeft(),p.top+=g.scrollTop(),h},B.imagemap=function(e,t,i){t.jquery||(t=n(t));var o,s,a,r,l,d=(t.attr("shape")||"rect").toLowerCase().replace("poly","polygon"),u=n('img[usemap="#'+t.parent("map").attr("name")+'"]'),c=n.trim(t.attr("coords")),h=c.replace(/,$/,"").split(",");if(!u.length)return _;if("polygon"===d)r=B.polys.polygon(h,i);else{if(!B.polys[d])return _;for(a=-1,l=h.length,s=[];++a<l;)s.push(parseInt(h[a],10));r=B.polys[d].apply(this,s.concat(i))}return o=u.offset(),o.left+=Math.ceil((u.outerWidth(_)-u.width())/2),o.top+=Math.ceil((u.outerHeight(_)-u.height())/2),r.position.left+=o.left,r.position.top+=o.top,r};var It,kt='<iframe class="qtip-bgiframe" frameborder="0" tabindex="-1" src="javascript:\'\';"  style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=0); -ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";"></iframe>';n.extend(x.prototype,{_scroll:function(){var t=this.qtip.elements.overlay;t&&(t[0].style.top=n(e).scrollTop()+"px")},init:function(i){var o=i.tooltip;n("select, object").length<1&&(this.bgiframe=i.elements.bgiframe=n(kt).appendTo(o),i._bind(o,"tooltipmove",this.adjustBGIFrame,this._ns,this)),this.redrawContainer=n("<div/>",{id:R+"-rcontainer"}).appendTo(t.body),i.elements.overlay&&i.elements.overlay.addClass("qtipmodal-ie6fix")&&(i._bind(e,["scroll","resize"],this._scroll,this._ns,this),i._bind(o,["tooltipshow"],this._scroll,this._ns,this)),this.redraw()},adjustBGIFrame:function(){var e,t,i=this.qtip.tooltip,n={height:i.outerHeight(_),width:i.outerWidth(_)},o=this.qtip.plugins.tip,s=this.qtip.elements.tip;t=parseInt(i.css("borderLeftWidth"),10)||0,t={left:-t,top:-t},o&&s&&(e="x"===o.corner.precedance?[A,z]:[O,L],t[e[1]]-=s[e[0]]()),this.bgiframe.css(t).css(n)},redraw:function(){if(this.qtip.rendered<1||this.drawing)return this;var e,t,i,n,o=this.qtip.tooltip,s=this.qtip.options.style,a=this.qtip.options.position.container;return this.qtip.drawing=1,s.height&&o.css(O,s.height),s.width?o.css(A,s.width):(o.css(A,"").appendTo(this.redrawContainer),t=o.width(),1>t%2&&(t+=1),i=o.css("maxWidth")||"",n=o.css("minWidth")||"",e=(i+n).indexOf("%")>-1?a.width()/100:0,i=(i.indexOf("%")>-1?e:1*parseInt(i,10))||t,n=(n.indexOf("%")>-1?e:1*parseInt(n,10))||0,t=i+n?Math.min(Math.max(t,n),i):t,o.css(A,Math.round(t)).appendTo(a)),this.drawing=0,this},destroy:function(){this.bgiframe&&this.bgiframe.remove(),this.qtip._unbind([e,this.qtip.tooltip],this._ns)}}),It=B.ie6=function(e){return 6===nt.ie?new x(e):_},It.initialize="render",k.ie6={"^content|style$":function(){this.redraw()}}})}(window,document),define("secondary/sony-tooltip",["require","jquery","libs/jquery.qtip","require/sony-global-settings"],function(e){var t=e("jquery"),i=(e("libs/jquery.qtip"),e("require/sony-global-settings").isRTL),n={utils:{hideTip:function(e){e.constructor===Array?e.each(function(){e.qtip().hide()}):e.qtip().hide()}},plugin:function(e){this.$el=e.$el,this.tipDefaults={corner:!0,mimic:"center",offset:10},this.positionSwitchforRTL=function(e,t){if(!t)return e;var i="left",n="right";return-1!=e.indexOf(i)?e.replace(i,n):-1!=e.indexOf(n)?e.replace(n,i):e},this.config={id:e.id||"sony-tooltip",content:{text:"<p class='p2 tip-footnote'><strong>"+this.$el.find("a").text()+"</strong>"+e.tooltipContent+"</p>",button:e.content&&e.content.button===!1?!1:!0},position:{viewport:""==e.viewport?"":e.viewport||t(window),target:e.positionTarget||!1,container:e.positionContainer||t(document.body),my:this.positionSwitchforRTL(e.my||"left top",i),at:this.positionSwitchforRTL(e.at||"right top",i),adjust:{resize:!1,scroll:!1,y:e.positionAdjustY||null}},show:{event:e.show&&e.show.event||"click",solo:!0},hide:{event:e.hide&&e.hide.event||"unfocus",fixed:e.hide&&e.hide.fixed||"false",delay:e.hide&&e.hide.delay||0},style:{classes:"qtip-light fn-tooltip "+e.classes,width:e.width||"280px",tip:0==e.tip?!1:t.extend({},e.tip||{},this.tipDefaults)}},this.$el.attr("data-tooltip-content")&&(this.config.content.text=this.$el.attr("data-tooltip-content"))}};return n.plugin.prototype.init=function(){return this.$el.qtip(this.config)},n}),define("windowHelper",[],function(){return{getLocation:function(){return window.location},setLocation:function(e){window.location=e},getUrl:function(){return window.location.href},getPort:function(){return window.location.port},getProtocol:function(){return window.location.protocol},getHostName:function(){return window.location.hostname},getHost:function(){return window.location.host},getQueryString:function(){return window.location.search},getPathName:function(){return window.location.pathname},getOrigin:function(){return window.location.origin},replace:function(e){return window.location.replace(e)},reload:function(){return window.location.reload()},getPerformanceTimingsByName:function(e){return window.performance=window.performance||{},window.performance.getEntriesByName?window.performance.getEntriesByName(e):[]},performanceTimingIsNotDefined:function(e){return!this.getPerformanceTimingsByName(e).length},markTiming:function(e){window.performance=window.performance||{},window.performance.mark&&window.performance.mark(e)}}}),define("urlHelper",["require","jquery","require/sony-global-settings","windowHelper"],function(e){var t=e("jquery"),i=e("require/sony-global-settings"),n=e("windowHelper");String.prototype.contains=function(e){return this.indexOf(e)>=0};var o={getFullPath:function(){return parseUri(n.getLocation()).path},getPathWithQueryString:function(){var e=this;return e.getFullPath()+e.getQueryString()},getQueryString:function(){return n.getQueryString()},addParamsTo:function(e,i,n){var o=this;return t.each(i,function(t,i){e=o.addParamTo(e,t,i,n)}),e},addParamTo:function(e,i,n,o){var s=this.getAllParamsFrom(e);o?s[i]=[n]:s[i]?s[i].push(n):s[i]=[n];var a=[];t.each(s,function(e,i){t.each(i,function(t,i){a.push(encodeURI(e)+"="+encodeURI(i))})});var r=decodeURI(e).split("?");return r[0]+"?"+a.join("&")},appendParamTo:function(e,t,i){var n=(e.contains("?")?"&":"?")+t+"="+i;return e+n},removeParam:function(e,i){var n=this.getAllParamsFrom(e),o=[];t.each(n,function(e,n){e!=i&&t.each(n,function(t,i){o.push(e+"="+i)})});var s=decodeURI(e).split("?");return o.length>0?s[0]+"?"+o.join("&"):s[0]},getParamValueFrom:function(e,t){return this.getAllParamsFrom(e)[t]},getAllParamsFrom:function(e){var t=decodeURI(e).split("?"),i=t.length>=2?t[1].split("#")[0]:"",n=i.split("&"),o={};if(i.length<=0)return o;for(var s=0;s<n.length;s++){var a=n[s].split("=");if(o[a[0]]){var r=o[a[0]].length;o[a[0]][r]=a[1]}else o[a[0]]=new Array(a[1])}return o},pushState:function(e,t,n){var o=this;o.getPathWithQueryString()!==e&&t&&!i.isLTIE10&&window.history.pushState(n,null,e)},replaceState:function(e,t,n){t&&!i.isLTIE10&&window.history.replaceState(n,null,e)}};return o}),define("secondary/sony-storage",["require","jquery","cookieStorage"],function(e){var t=e("jquery");e("cookieStorage");var i=function(e){this.isSessionOnly="session"==e,this.init()};return i.prototype={constructor:i,init:function(){this.storage=this.isWebStorageAvailable()?this.isSessionOnly?sessionStorage:localStorage:this._cookieStorage()},_cookieStorage:function(){var e=this;return t.cookie.raw=!0,{setItem:function(i,n){var o={path:"/"};e.isSessionOnly||(o.expires=365),t.cookie(i,n,o)},getItem:function(e){return t.cookie(e)||null},removeItem:function(e){t.cookie(e,"",{expires:-1,path:"/"}),t.removeCookie(e,{path:"/"})},checkItem:function(e){return void 0===t.cookie(e)}}},isWebStorageAvailable:function(){try{return localStorage.setItem("test",1),localStorage.removeItem("test"),!0}catch(e){return!1}},setItem:function(e,t){this.storage.setItem(e,t)},getItem:function(e){return this.storage.getItem(e)},removeItem:function(e){this.storage.removeItem(e)},checkItem:function(e){return null===this.storage.getItem(e)}},i}),define("localStoreHelper",["require","secondary/sony-storage"],function(e){function t(){var e=new i("session");this.setObj=function(t,i){return e.setItem(t,JSON.stringify(i))},this.getObj=function(t){var i=e.getItem(t);return JSON.parse(i)},this.removeObj=function(t){e.removeItem(t)},this.isPresent=function(e){return null!=this.getObj(e)}}var i=e("secondary/sony-storage");return new t}),define("modules/product_summary/module",["require","jquery","modernizr","iQ","enquire","require/sony-global-settings","require/sony-global-environment","require/sony-global-utilities","secondary/index","secondary/sony-tooltip","secondary/index","secondary/index","urlHelper","localStoreHelper"],function(e){var t=e("jquery"),i=e("modernizr"),n=e("iQ"),o=e("enquire"),s=e("require/sony-global-settings"),a=e("require/sony-global-environment"),r=e("require/sony-global-utilities"),l=e("secondary/index").sonyFavorites,d=e("secondary/sony-tooltip"),u=(e("secondary/index").sonyStickyNav,e("secondary/index").jquerySimpleScroll,e("urlHelper")),c=e("localStoreHelper"),h={init:function(){var e=t(".ps-module");e.length&&new p(e)}},p=function(e){var t=this;t.isDesktop=!1,t.isTablet=!1,t.isMobile=!1,t.$el=e,t.init(),log("SONY : ProductSummary : Initialized")};return p.prototype={constructor:p,init:function(){var e=this;e.setVars(),e.setupBreakpoints(),e._onResize(),a.on("global:resizeDebounced",t.proxy(e._onResize,e)),e._initModelLevelPricingCollapser(),e.$el.find(".mini-swatch").tooltip(),e.$el.find(".micro-swatch").tooltip();var i=e.$el.find(".buy.buy-button"),n=e.$el.find(".retailer-button");c.getObj("src")&&i.data("retain-params")&&e._modifyBuyUrl(i),c.getObj("gwt_cid")&&n.length&&e._modifyRetailerUrl(n),e.lazyInit()},setVars:function(){var e=this;e.$stickyNav=e.$el.find(".sticky-nav"),e.$jumpLinks=e.$el.find(".jump-links a"),e.$jsEvenCols=e.$el.find(".ps-summary .js-even-cols"),e.$shareBtn=e.$el.find(".js-share"),e.$dropdown=e.$el.find(".dropdown-menu"),e.$shareLink=e.$dropdown.find("input"),e.$blockBtns=e.$el.find(".btn-block"),e.$stickyTitle=e.$stickyNav.find(".sticky-nav-title"),e.$modal=e.$el.find("#share-tool"),e.$mlpCollapseContent=e.$el.find(".mlp-collapse-content"),e.$mlpCollapser=e.$mlpCollapseContent.find(".mlp-collapser"),e.isWithModuleLevelPricing=e.$el.find(".with-model-level-pricing").length,e.$span1AtTablet=e.$el.find("#span1-at-tablet"),e.$span3AtTablet=e.$el.find("#span3-at-tablet"),e.$shareBtn.on("click",t.proxy(e._onShare,e)),e.$shareInputFocused=!1},setupBreakpoints:function(){var e=this;i.mediaqueries?o.register("(min-width: 48em)",{match:function(){e._setupDesktop()}}).register("(min-width: 48em) and (max-width: 61.1875em)",{match:function(){e._setupTablet()}}).register("(min-width: 61.25em)",{match:function(){e._teardownTablet()}}).register("(max-width: 47.9375em)",{match:function(){e._setupMobile()}}):e._setupDesktop()},lazyInit:function(){function e(){r.isTyrionApp||(setTimeout(function(){r.forceWebkitRedraw(),s.$stickyNav.stickyNav("refreshOffset")},0),i())}function i(){r.isTyrionApp||(s.$stickyNav.stickyNav({$jumpLinks:s.$jumpLinks,offset:0,offsetTarget:t.proxy(s.getStickyNavTriggerMark,s),scrollToTopOnClick:!0}),s.$stickyNav.find("sup.footNoteNumber .js-footnote-link").attr("tabindex",-1))}function o(e,t,i,n,o){var a={desktop:{id:"footnote-tooltip",$el:e,tooltipContent:t,tip:{height:10,width:15},classes:"qtip-shadow "+n,show:{event:i?i:"click"},hide:{event:"mouseleave",delay:300},width:o},mobile:{id:"footnote-tooltip",$el:e,tooltipContent:t,classes:"fn-tooltip-mobile-positioning "+n,width:"100%",tip:!1}};new d.plugin(a[s.isMobile?"mobile":"desktop"]).init()}var s=this,a=t(".js-tooltip-text"),l=s.$stickyNav.find(".iq-img");a.length&&a.each(function(e,i){var n=t(i).data("tooltip-enhanced"),s="",a=t(i).data("tooltip-custom-content").split(";"),r=t(i).data("tooltip-title"),l="",d=null;if(n){var u=t(i).data("tooltip-logo-slug"),c=t("#logo-"+u);c.length&&(r+=c.html()),s='<div class="retailer-tooltip__title">'+r+"</div>",s+='<div class="retailer-tooltip__list__container"><ul class="retailer-tooltip__list">';for(var h=0;h<a.length;h++)s+="<li>"+a[h]+"</li>";s+="</ul></div>",l="retailer-tooltip "+t(i).data("tooltip-class"),d=320}else{s=r;for(var h=0;h<a.length;h++)s+="<br/><strong>-</strong> "+a[h]}o(t(i),s,t(i).data("tooltip-action"),l,d)}),s.$shareLink.on("click",function(){var e=this;s.shareInputFocused?(s.shareInputFocused=!1,setTimeout(function(){e.blur()},0)):s.shareInputFocused=!0}),s.$shareLink.on("blur",function(){s.shareInputFocused=!1,t(this).prop("readonly",!1),this.blur()}),s.$shareLink.on("focus",function(){var e=this;setTimeout(function(){e.select(),e.shareInputFocused=!0,t(e).prop("readonly",!0)},0)}),l.length?l.data("hasloaded")||l.data("hasLoaded")?e():(l.get(0).addEventListener("imageLoaded",e.bind(s)),l.get(0).addEventListener("imageReLoaded",e.bind(s))):i(),l.length&&n.load(t.makeArray(l)),setTimeout(function(){t("body").scrollspy("refresh"),t.simplescroll.initial({offset:s.$stickyNav.height()||0})},2e3),s.$el.find(".js-prevent-default").on("click",!1),s._initFavorites()},getStickyNavTriggerMark:function(){return this.$el.next().offset().top-this.$stickyNav.outerHeight()},_onResize:function(){var e=this;e.isMobile||e.$jsEvenCols.each(function(){var i=e.isWithModuleLevelPricing?t(this).find(".js-even-heights"):t(this).children();i.evenHeights(),i.find(".invisible").removeClass("invisible")})},_initModelLevelPricingCollapser:function(){function e(e){t(e).toggleClass("open"),t(i.$mlpCollapseContent).toggleClass("open"),n.stop().slideToggle(300),t(e).attr("aria-expanded",function(e,t){return"false"===t?"true":"false"})}var i=this;if(this.$mlpCollapser.length){var n=this.$el.find(".mlp-table");this.$mlpCollapser.on("click",function(){e(this)}),document.location.search.indexOf("showModelPrices=true")>-1&&this.$mlpCollapser.trigger("click")}},_initFavorites:function(){this.favorites=new l(this.$el,{itemSelector:".js-favorite",tooltip:!0}),this.favorites.highlightFavoritedProducts()},_onShare:function(e){var t=this;t.isMobile&&(e.preventDefault(),e.stopImmediatePropagation(),t.$modal.modal({backdropClass:"dark"}))},_hideShareDialog:function(e){var i=e?t(".modal-backdrop"):s.$document;i.trigger("click")},_setupDesktop:function(){var e=this;e.isMobile=!1,e.isDesktop=!0,e._hideShareDialog(!0)},_setupTablet:function(){var e=this;e.isTablet=!0,e.$span1AtTablet.removeClass("span2").addClass("span1"),e.$span3AtTablet.removeClass("span2").addClass("span3")},_teardownTablet:function(){var e=this;e.isTablet&&e.$span1AtTablet.add(e.$span3AtTablet).removeClass("span1 span3").addClass("span2"),e.isTablet=!1},_setupMobile:function(){var e=this,i=e.isDesktop;e.isMobile=!0,e.isDesktop=!1,e._hideShareDialog(!1),i&&(e.$jsEvenCols.each(function(){t(this).children().css("height","")}),e._teardownTablet())},_modifyBuyUrl:function(e){var t=e.first().attr("href"),i=c.getObj("src"),n=u.appendParamTo(t,"src",i);e.attr("href",n)},_modifyRetailerUrl:function(e){var t=e.first().attr("href"),i=c.getObj("gwt_cid"),n=u.appendParamTo(t,"xvcid",i);e.attr("href",n)}},h}),define("modules/product_summary/social",["require","jquery"],function(e){var t=e("jquery"),i={init:function(){var e=this,i=t(".share-url"),n=e.shareUrlWithProtocol(i.data("value"));i.attr("data-value",n),n=n||e.shareUrlWithProtocol(e.getMetaProperty("og:url"));var o=e.createShareUrls(n);e.setShareUrls(o)},getMetaProperty:function(e){return t('meta[property="'+e+'"]').attr("content")||""},shareUrlWithProtocol:function(e){var t=window.location.protocol;return e&&!e.match("^"+t)&&(e=t+e),e},createShareUrls:function(e){var t=this,i=t.getMetaProperty("og:image"),n=t.getMetaProperty("og:title"),o=t.getMetaProperty("sony:language"),s=t.getMetaProperty("sony:twitter_via"),a=t.getMetaProperty("sony:twitter_text");return[{facebook:{u:e}},{twitter:{url:e,lang:o,text:a,via:s}},{gplus:{url:e,hl:o}},{pinterest:{url:e,media:i,description:n}},{vk:{url:e,description:n}}]},setShareUrls:function(e){var i=this;e.map(function(e){var n=Object.keys(e)[0],o=i.filterEmpty(e[n]),s="."+n+"-share-link",a=t(s),r=a.attr("href");a.attr("href",r+"?"+t.param(o))})},initFacebookLike:function(){!function(e,i,n){var o,s=e.getElementsByTagName(i)[0];if(!e.getElementById(n)){o=e.createElement(i),o.id=n;var a=t(".fb-like").data("facebook-locale")||"en_GB";o.src="//connect.facebook.net/"+a+"/sdk.js#xfbml=1&appId=197583830297684&version=v2.0",s.parentNode.insertBefore(o,s)}}(document,"script","facebook-jssdk")},filterEmpty:function(e){var t,i=this;for(var n in e)t=e[n],("null"===t||null===t||""===t||"undefined"==typeof t||t instanceof Object&&0==Object.keys(t).length)&&delete e[n],t instanceof Object&&(t=i.filterEmpty(t));return e}};return i}),define("modules/product_summary/index",["require","modules/product_summary/module","modules/product_summary/social","jquery","secondary/sony-init-module-below-viewport"],function(e){var t=e("modules/product_summary/module"),i=e("modules/product_summary/social"),n=e("jquery"),o=e("secondary/sony-init-module-below-viewport");return o({triggerElement:n(".ps-module"),initializeImmediately:!0,callback:function(){t.init(),i.init(),i.initFacebookLike()}}),{ProductSummary:t,Social:i}}),define("modules/related_products/module",["require","jquery","iQ","bootstrap","modernizr","require/sony-global-settings","require/sony-global-environment","secondary/index","secondary/index","secondary/index","secondary/index","secondary/index","secondary/index"],function(e){var t=e("jquery"),i=e("iQ"),n=(e("bootstrap"),e("modernizr")),o=e("require/sony-global-settings"),s=(e("require/sony-global-environment"),e("secondary/index").sonyFavorites),a=(e("secondary/index").jqueryShuffle,e("secondary/index").sonyScroller,e("secondary/index").sonyEvenHeights,e("secondary/index").sonyPaddles,e("secondary/index").sonyNavigationDots,"visible"),r="hidden",l={init:function(){var e=t(".related-products").relatedProducts(),s=!1,a=0;e.each(function(){var e=t(this),r=e.closest(".rp-container-tabbed"),l=r.length>0,d=r.find(".related-products").length;if(a++,l&&!s){s=!0;var u,c,h=(o.transEndEventName,r.closest(".rp-section").find(".rp-tabs").find(".rp-tab")),p=1,f=r.find(".related-products[data-rp-panel-id="+p+"]"),m=r.find(".related-products[data-rp-panel-id]");if(m.not(f).addClass("inactive invisible"),h.eq(0).addClass("active"),!h.length)return;c=function(){var e=t(this);e.addClass("invisible"),e.data("relatedProducts").disableShuffle()},u=function(e){var n=t(this),o=n.data("rpPanelId"),s=f;e.preventDefault(),n.addClass("active").siblings().removeClass("active"),o!==p&&(p=o,f=r.find(".related-products[data-rp-panel-id="+p+"]"),s.addClass("inactive"),f.removeClass("inactive invisible"),t.proxy(c,s[0])(),f.data("relatedProducts").enableShuffle(),i.update())},n.touch?h.on("click",!1).on("touchend",u):h.on("click",u)}a>=d&&(s=!1,a=0)})}},d=function(e,i){var s=this;t.extend(s,t.fn.relatedProducts.defaults,i),s.DEBUG=!1,s.LANDSCAPE_BREAKPOINT=1024,s.MOBILE_BREAKPOINT=568,s.MAX_WIDTH_FOR_IE=910,s.$paddles=t({}),s.$el=t(e),s.$slides=s.$el.find(".rp-slide"),s.globalLoader=s.$el.closest(".rp-section").find(".global-loader"),s.$currentSlide=null,s.$shuffleContainers=s.$slides.find(".shuffle-container"),s.$galleryItems=s.$el.find(".gallery-item"),s.$iqImages=s.$galleryItems.find(".iq-img"),s.$plate=s.$slides.eq(0).find(".gallery-item.plate").first(),s.$container=s.$el.find(".rp-container").eq(0),s.$favorites=s.$el.find(".js-favorite"),s.$tabbedContainer=s.$el.parent(),s.$bulletNav=t(),s.$doc=o.$document,s.$win=o.$window,s.$html=o.$html,s.ev=t({}),s.prefixed=n.prefixed,s.transitionName=s.prefixed("transition"),s.isTabbedContainer=s.$tabbedContainer.length&&s.$tabbedContainer.hasClass("rp-container-tabbed"),s.transitionEndName=o.transEndEventName,s.mode=s.$el.data("mode").toLowerCase(),s.variation=s.$el.data("variation").split("-")[2],s.numSlides=s.$slides.length,s.sliderOverflow=s.$el.find(".rp-overflow").eq(0),s.previousId=-1,s.currentId=0,s.slidePosition=0,s.animationSpeed=700,s.slides=[],s.slideCount=s.$slides.length,s.currentContainerWidth=0,s.sPosition=0,s.scrollerModule=null,s.shuffle=null,s.shuffleSpeed=o.shuffleSpeed,s.shuffleEasing=o.shuffleEasing,s.paddlesEnabled=!1,s.resizeTimeout=null,s.startInteractionPointX=null,s.isTransitioning=!0,s.lastTouch=null,s.handleStartPosition=null,s.dragThreshold=50,s.useCSS3Transitions=n.csstransitions,s.hasMediaQueries=n.mediaqueries,s.mq=n.mq,s.oldIE=o.isLTIE10,s.isIE7orIE8=o.isLTIE10,s.inited=!1,s.isResponsive=!s.isIE7orIE8&&!o.isLTIE10&&s.hasMediaQueries,s.tileHeightSizeFix=0,s.hasInitedMobile=!1,s.isMobileMode=!1,s.isDesktopMode=!1,s.isTabletMode=!1,s.breakPointChanged=!1,s.accelerationPos=0,s.compatibilityTypes=s.$el.parents(".rp-section").find(".compatibility-types"),s.init(),s.globalLoader.addClass(r),log("SONY : RelatedProducts : Initialized")};return d.prototype={init:function(){var e=this,i=e.$galleryItems.filter(".normal").find(".product-img");e.$win.width()<569&&e.$el.css({opacity:0}),e.initAnimationProps(),e.setupEasing(),e.initEvents(),e.initShuffleFns(),e.storeGalleryItemParentSlides(),e.setupLinkClicks(),e.initFavorites();for(var n=i.find(".iq-img"),o=0,s=n.length;s>o;o++)n.get(o).addEventListener("imageLoaded",function(){t(this).css("max-height",i.first().height())});("3up"===e.variation||"4up"===e.variation||"5up"===e.variation)&&e.setSortPriorities(),e.$slides.length>1?(e.createNavigation(),e.hasTouch||e.createPaddles(),e.$slides.length>1&&e.$container.on(e.downEvent,function(t){e.onDragStart(t)})):e.$pagination=t({}),e.setSortPriorities(),e.setupResizeListener(),e.$win.trigger("resize.rp"),e.showCompatibilityInfo()},showCompatibilityInfo:function(){var e=this;return e.compatibilityTypes&&e.compatibilityTypes.removeClass(r),!1},mqFix:function(){var e=this;(!e.hasMediaQueries&&e.isIE7orIE8||e.oldIE)&&(e.mq=function(){return!1})},initAnimationProps:function(){var e=this;e.useCSS3Transitions&&(e.use3dTransform=n.csstransforms3d),e.useCSS3Transitions?(e.TP="transitionProperty",e.TD="transitionDuration",e.TTF="transitionTimingFunction",e.yProp=e.xProp=e.prefixed("transform"),e.use3dTransform?(e.tPref1="translate3d(",e.tPref2="px, ",e.tPref3="px, 0px)"):(e.tPref1="translate(",e.tPref2="px, ",e.tPref3="px)"),e.$container[e.prefixed(e.TP)]=e.prefixed("transform")):(e.xProp="left",e.yProp="top")},initEvents:function(){var e=this;n.touch?(e.hasTouch=!0,e.downEvent="touchstart.rp",e.moveEvent="touchmove.rp",e.upEvent="touchend.rp",e.cancelEvent="touchcancel.rp",e.lastItemFriction=.5):(e.hasTouch=!1,e.lastItemFriction=.2,e.downEvent="mousedown.rp",e.moveEvent="mousemove.rp",e.upEvent="mouseup.rp",e.cancelEvent="mouseup.rp",e.clickEvent="click.rp")},storeGalleryItemParentSlides:function(){var e=this;e.$galleryItems.each(function(){var e=t(this);e.data("slide",e.parent())})},setupLinkClicks:function(){var e=this,i=e.$el.find("a.gallery-item, .gallery-item a");i.on(e.tapOrClick(),function(i){var n,o,s=t(this),a=s.hasClass("plate")?s.find("a").eq(0).attr("href"):s.attr("href");n=e.hasTouch?i.originalEvent.touches[0]||{pageX:0}:i,e.startInteractionTime&&e.startInteractionPointX&&(o=Math.abs(n.pageX-e.startInteractionPointX),(new Date).getTime()-e.startInteractionTime<250&&25>o&&a&&"undefined"!=a&&(window.location=a))})},toString:function(){return"[ object RelatedProducts ]"},initFavorites:function(){return this.favorites=new s(this.$el,{itemSelector:".gallery-item .js-favorite"}),this.favorites.highlightFavoritedProducts(),this},initShuffleFns:function(){var e=this;e.shuffleGutters=function(t){var i=0,s=0;return!n.mediaqueries||e.mq("(min-width: 981px)")||o.isLTIE10?(i=o.GUTTER_WIDTH_SLIM_5*t,s=5):e.mq("(min-width: 569px)")&&(s=4,i=o.GUTTER_WIDTH_SLIM*t),e.setColumns(s),0>i&&(i=0),i},e.shuffleColumns=function(t){var i=0;return i=!n.mediaqueries||e.mq("(min-width: 981px)")||o.isLTIE10?o.COLUMN_WIDTH_SLIM_5*t:e.mq("(min-width: 569px)")?o.COLUMN_WIDTH_SLIM*t:t,0===i&&(i=.001),i}},setupResizeListener:function(){var e=this,i=".blank";"suggested"===e.mode||e.oldIE?(e.$el.css({opacity:1,visibility:a}),e.$galleryItems.not(i).css({visibility:a,opacity:1}),e.globalLoader.addClass(r),e.isMobileMode||e.$pagination.show()):e.$win.on("resize.rp",function(){!e.isTabletMode&&!e.isMobileMode&&e.$win.width()>e.MOBILE_BREAKPOINT?(e.$galleryItems.css({visibility:r,opacity:0}),e.$pagination.hide(),e.globalLoader.removeClass(r)):e.hasInitedMobile&&(e.$el.css({opacity:1,visibility:a}),e.isMobileMode||e.$pagination.show(),e.globalLoader.addClass(r))}),e.$pagination.hide(),e.$win.on("resize.rp",t.debounce(100,t.proxy(e.handleResize,e)))},fixTruncatedPriceText:function(){var e=this;e.$el.find(".product-price").each(function(){var e=t(this).find(".price-prefix");e.hasClass("wrap")&&e.removeClass("wrap"),this.offsetWidth<this.scrollWidth&&e.addClass("wrap")})},handleResize:function(){var e=this;return e.oldIE&&e.inited?void e.updateSlides():(e.inited||(e.inited=!0),e.fixTruncatedPriceText(),e.checkForBreakpoints(),e.updateSliderSize(),e.updateSlides(),e.updatePaddles(),void("suggested"!==e.mode&&(clearTimeout(e.resizeTimeout),e.resizeTimeout=setTimeout(function(){e.$shuffleContainers.each(function(){var i=t(this).data("shuffle");void 0!==i&&setTimeout(function(){e.updateSliderSize(),e.oldIE&&(o.isLTIE8?e.$galleryItems.each(function(){var e=t(this),i=e.find(".product-img"),n=225,o=140,s=385,a=600;e.css({height:n}),e.hasClass("plate")?i.css({height:n}):e.hasClass("medium")?(e.css({height:a}),i.css({height:s})):e.hasClass("normal")&&(e.css({height:n}),i.css({height:o}))}):o.isLTIE10&&!o.isLTIE8&&e.$galleryItems.filter(".medium").find(".product-img").css({height:359}),i.update(),e.updateSlides()),e.oldIE?e.isMobileMode||(e.$pagination.show(),e.$pagination.stop(!0,!0).fadeIn(250)):(e.updateTiles(),i.update(),e.animateTiles(),e.breakPointChanged=!1)},50)})},10))))},tapOrClick:function(){var e=this;return e.hasTouch?e.upEvent:e.clickEvent},createNavigation:function(){var e=this;if(t.fn.sonyNavDots){if(e.$pagination)return void e.$pagination.sonyNavDots("reset",{buttonCount:e.numSlides});e.$pagination=t("<div/>",{"class":"navigation-container"}),e.$el.append(e.$pagination),e.$pagination.sonyNavDots({buttonCount:e.numSlides}),e.$pagination.on("SonyNavDots:clicked",function(t,i){e.currentId=i,e.moveTo()}),e.ev.on("rpOnUpdateNav",t.debounce(250,function(){if(e.$pagination.sonyNavDots("reset",{activeButton:e.currentId}),e.$html.hasClass("lt-ie9")){var t=0;e.$pagination.css("display","none"),t=e.$pagination.get(0).offsetHeight,e.$pagination.css("display","block")}}))}},createPaddles:function(){var e=this;e.$el.sonyPaddles({paddlePosition:"outset"}),e.$el.on("sonyPaddles:clickLeft",function(){e.currentId--,e.currentId<0&&(e.currentId=0),e.moveTo()}),e.$el.on("sonyPaddles:clickRight",function(){e.currentId++,e.currentId>=e.$slides.length&&(e.currentId=e.$slides.length-1),e.moveTo()}),e.onPaddleNavUpdate(),e.ev.on("rpOnUpdateNav",t.proxy(e.onPaddleNavUpdate,e))},onPaddleNavUpdate:function(){var e=this;e.$el.sonyPaddles("showPaddle","right"),e.$el.sonyPaddles("showPaddle","left"),0===e.currentId&&e.$el.sonyPaddles("hidePaddle","left"),e.currentId===e.numSlides-1&&e.$el.sonyPaddles("hidePaddle","right"),i.update()},togglePaddles:function(e){var t=this;e?t.$el.find(".pagination-paddles").show():t.$el.find(".pagination-paddles").hide()},createShuffle:function(){var e=this;
e.shuffle=e.$shuffleContainers.shuffle({itemSelector:".gallery-item",speed:e.shuffleSpeed,easing:e.shuffleEasing,columnWidth:e.shuffleColumns,gutterWidth:e.shuffleGutters,showInitialTransition:!1,useTransition:!1,buffer:25}).first().data("shuffle"),e.toggleShuffles()},toggleShuffles:function(){},setColumns:function(e){var t=this,i="span1 span2 span3 span4 span6",n="shuffle-",o=".gallery-item",s="slimgrid",a=s+5,r="span",l=".normal",d=".medium",u=".plate";return 5===e?t.$container.hasClass(n+5)||(t.$shuffleContainers.removeClass(s).addClass(a),t.$shuffleContainers.children(o).removeClass(i).filter(d).addClass(r+2).end().filter(u).addClass(r+2).end().filter(l).addClass(r+1)):4===e&&(t.$shuffleContainers.hasClass(n+4)||(t.$shuffleContainers.removeClass(a).addClass(s),t.$shuffleContainers.children(o).removeClass(i).filter(d).addClass(r+6).end().filter(u).addClass(r+6).end().filter(l).addClass(r+3))),t},setSortPriorities:function(){var e=this;e.$slides.each(function(){var e=t(this),i=e.find(".gallery-item"),n=e.data("variation").split("-")[2],o=!1,s="priority",a="medium",r="normal",l="blank",d=2,u=3,c=4,h=5;i.each(function(){var e=t(this);"4up"===n?e.hasClass(a)?e.data(s,h):e.hasClass(r)&&!o?(e.data(s,d),o=!0):e.hasClass(l)?e.data(s,u):e.hasClass(r)&&o===!0&&e.data(s,c):"3up"===n&&(e.hasClass(a)?e.data(s,d):e.hasClass(r)&&e.data(s,u),e.hasClass(l)&&e.data(s,100))})})},sortByPriority:function(){var e=this,i=e.mq("(min-width: 569px) and (max-width: 980px)");i&&!e.sorted?(e.$shuffleContainers.each(function(){var e=t(this),i=e.parent().data("variation").split("-")[2];e.shuffle("sort",{by:function(e){var t=e.hasClass("plate")?1:e.hasClass("medium")?2:3;return("4up"===i||"3up"===i)&&(t=e.data("priority")),t?t:void 0}})}),e.sorted=!0):!i&&e.sorted&&(e.$shuffleContainers.shuffle("sort",{}),e.sorted=!1)},checkForBreakpoints:function(){var e=this,s=e.$win.width(),a=s>e.LANDSCAPE_BREAKPOINT?"desktop":s>e.MOBILE_BREAKPOINT?"tablet":"mobile",l=!1;switch((!n.mediaqueries||o.isLTIE10)&&(a="desktop"),a){case"desktop":if("suggested"===e.mode)return e.$el.find(".gallery-item").addClass("span6"),e.$el.removeClass("grid").addClass("slimgrid"),void e.sortTagLines2up();if(e.isDesktopMode===!0)return;e.isMobileMode===!0&&(l=!0,e.returnToFullView()),e.isTabletMode=e.isMobileMode=e.hasInitedMobile=!1,e.isDesktopMode=!0,e.breakPointChanged=!0,e.sliderOverflow.css("overflow",r),e.$el.parents(".rp-section").css("overflow",""),e.$el.removeClass("rp-tablet rp-mobile").addClass("rp-desktop"),(null!==e.scrollerModule||l)&&(e.scrollerModule.destroy(),e.scrollerModule=null),(null===e.shuffle||l)&&(e.$container.css("width","100%"),e.createShuffle()),e.sortByPriority(),i.update(),e.$el.css("margin-top","-20px"),e.hasTouch||e.togglePaddles(!0);break;case"tablet":if(l=e.isMobileMode,"suggested"===e.mode)return e.$el.find(".gallery-item").addClass("span6"),e.$el.removeClass("slimgrid").addClass("grid"),void e.sortTagLines2up();if(e.isMobileMode===!0&&e.returnToFullView(),e.isTabletMode===!0)return;e.isMobileMode=e.isDesktopMode=e.hasInitedMobile=!1,e.isTabletMode=!0,e.breakPointChanged=!0,e.$el.removeClass("rp-desktop rp-mobile").addClass("rp-tablet"),e.sliderOverflow.css("overflow",r),e.$el.parents(".rp-section").css("overflow",""),null!==e.scrollerModule&&(e.scrollerModule.destroy(),e.scrollerModule=null),null===e.shuffle&&(e.$container.css("width","100%"),e.createShuffle()),e.sortByPriority(),i.update(),e.$el.css("margin-top","-20px"),e.hasTouch||e.togglePaddles(!0);break;case"mobile":if(e.isMobileMode===!0)return;if("suggested"===e.mode)return e.$el.find(".gallery-item").removeClass("span6"),e.$el.removeClass("grid slimgrid"),void e.sortTagLines2up();e.isTabletMode=e.isDesktopMode=!1,e.isMobileMode=!0,e.breakPointChanged=!0,e.$el.removeClass("rp-tablet rp-desktop").addClass("rp-mobile"),null!==e.shuffle&&(e.shuffle.destroy(),e.shuffle=null,e.sorted=!1,e.$shuffleContainers.each(function(){var e=t(this).data("shuffle");void 0!==e&&(e.destroy(),e=null)})),e.shuffle=null,e.$bulletNav.hide(),i.update(),null!==e.scrollerModule&&(e.scrollerModule.destroy(),e.scrollerModule=null),e.initMobileBreakpoint(),e.togglePaddles(!1),e.checkTileHeights()}e.setNameHeights(e.$shuffleContainers)},setGrabCursor:function(){var e=this;e.hasTouch||(e.grabbingCursor?e.sliderOverflow.css("cursor",e.grabbingCursor):(e.sliderOverflow.removeClass("grab-cursor"),e.sliderOverflow.addClass("grabbing-cursor")))},updateSliderSize:function(){var e=this,i=t(".shuffle-container").eq(0).height()+16;if(e.oldIE)return void e.$el.css("height","495px");if("suggested"!==e.mode){if(e.isTabletMode===!0)return 0===i&&(i=Math.ceil(.984615385*t(".shuffle-container").eq(0).width())),e.$el.css("height",i+100+"px"),void(e.isTabbedContainer&&e.$tabbedContainer.css("height",i+100+"px"));if(e.isMobileMode===!0)return e.$el.css("height",290),void(e.isTabbedContainer&&e.$tabbedContainer.css("height",290));0===i&&(i=Math.ceil(.509803922*t(".shuffle-container").eq(0).width())),e.$win.width()<1120&&(i+=20),e.$el.css("height",i+40+"px"),e.isTabbedContainer&&e.$tabbedContainer.css("height",i+40+"px")}},getPagePosition:function(e){var t=this;if(e.pageX||e.originalEvent)return t.lastTouch=t.lastTouch||{},("touchmove"===e.type||"touchstart"===e.type)&&(t.lastTouch=e.originalEvent.touches[0]),{x:e.pageX||t.lastTouch.pageX,y:e.pageY||t.lastTouch.pageY}},onDragStart:function(e){var i,n=this;if(n.dragSuccess=!1,n.hasTouch){var o=e.originalEvent.touches;if(!(o&&o.length>0))return;i=o[0],o.length>1&&(n.multipleTouches=!0)}else if(i=e,e.preventDefault(),1!==e.which)return;n.isDragging=!0,n.$doc.on(n.moveEvent,t.proxy(n.dragMove,n)).on(n.upEvent,t.proxy(n.dragRelease,n)),n.currMoveAxis="",n.hasMoved=!1,n.pageX=i.pageX,n.pageY=i.pageY,n.startDragX=i.pageX,n.startPagePos=n.accelerationPos=i.pageX,n.horDir=0,n.verDir=0,n.currRenderPosition=n.sPosition,n.startTime=n.startInteractionTime=(new Date).getTime(),n.startInteractionPointX=i.pageX,n.handleStartPosition=n.getPagePosition(e),n.hasTouch&&n.sliderOverflow.on(n.cancelEvent,function(e){n.dragRelease(e,!1)})},renderMovement:function(e){var t=this;if(t.checkedAxis){var i=t.renderMoveTime,n=e.pageX-t.pageX,s=e.pageY-t.pageY,a=t.currRenderPosition+n,r=t.currRenderPosition+s,l=!0,d=l?a:r,u=t.currMoveAxis;t.hasMoved=!0,t.pageX=e.pageX,t.pageY=e.pageY;var c=l?t.pageX:t.pageY;"x"===u&&0!==n?t.horDir=n>0?1:-1:"y"===u&&0!==s&&(t.verDir=s>0?1:-1);var h=l?n:s;t.loop||(t.currSlideId<=0&&c-t.startPagePos>0&&(d=t.currRenderPosition+h*t.lastItemFriction),t.currSlideId>=t.numSlides-1&&c-t.startPagePos<0&&(d=t.currRenderPosition+h*t.lastItemFriction)),t.currRenderPosition=d,i-t.startTime>200&&(t.startTime=i,t.accelerationPos=c),t.setPosition(o.isRTL&&!t.isDragging?-t.currRenderPosition:t.currRenderPosition)}},setPosition:function(e){var t=this,i=t.sPosition=e;if(t.useCSS3Transitions){var n={};n[t.prefixed(t.TD)]="0ms",n[t.xProp]=t.tPref1+(i+t.tPref2+0)+t.tPref3,t.$container.css(n)}else t.$container.css(t.xProp,i)},dragRelease:function(e){function t(e){return 100>e?100:e>500?500:e}function i(e,i){var n=-l.currentId*l.currentContainerWidth,o=Math.abs(l.sPosition-n);l.currAnimSpeed=o/i,e&&(l.currAnimSpeed+=250),l.currAnimSpeed=t(l.currAnimSpeed),l.moveTo(i)}var n,s,a,r,l=this;l.renderMoveEvent=null,l.lockAxis=!1,l.checkedAxis=!1,l.renderMoveTime=0,window.cancelAnimationFrame(l.animFrame),l.$doc.off(l.moveEvent).off(l.upEvent),l.hasTouch&&l.sliderOverflow.off(l.cancelEvent),l.currMoveAxis="";if(l.hasMoved){l.dragSuccess=!0,l.currMoveAxis="";{var d,u=(l.minSlideOffset,l.hasTouch?e.originalEvent.changedTouches[0]:e),c=u.pageX,h=l.startPagePos,p=l.accelerationPos;l.currSlideId,l.numSlides,l.horDir,l.loop}n=Math.abs(c-h),d=o.isRTL?l.startDragX<c?1:0:l.startDragX>c?1:0,s=c-p,a=(new Date).getTime()-l.startTime,r=Math.abs(s)/a,Math.abs(n>l.hasTouch?.25*l.currentContainerWidth:.5*l.currentContainerWidth)?(1===d?(l.currentId++,l.currentId>=l.$slides.length&&(l.currentId=l.$slides.length-1)):(l.currentId--,l.currentId<0&&(l.currentId=0)),l.moveTo(r)):i(!0,r)}},dragMove:function(e,t){var i,n,o=this,s=(o.getPagePosition(e).x-o.handleStartPosition.x,o.getPagePosition(e).y-o.handleStartPosition.y);if(o.hasTouch){if(o.lockAxis)return;var a=e.originalEvent.touches;if(!a)return;if(a.length>1)return;i=a[0]}else i=e;if(n=Math.abs(i.pageX-o.startInteractionPointX),o.hasMoved||(o.useCSS3Transitions&&o.$container.css(o.prefixed(o.TD),"0s"),function d(){o.isDragging&&(o.animFrame=window.requestAnimationFrame(d),o.renderMoveEvent&&n>10&&o.renderMovement(o.renderMoveEvent,t))}()),Math.abs(s)>o.dragThreshold)return void(o.hasPassedThreshold=!0);if(o.checkedAxis)e.preventDefault(),o.renderMoveTime=(new Date).getTime(),o.renderMoveEvent=i;else{var r=!0,l=Math.abs(i.pageX-o.pageX)-Math.abs(i.pageY-o.pageY)-(r?-7:7);if(l>7){if(r)e.preventDefault(),o.currMoveAxis="x";else if(o.hasTouch)return;o.checkedAxis=!0}else if(-7>l){if(r){if(o.hasTouch)return}else e.preventDefault(),o.currMoveAxis="y";o.checkedAxis=!0}}},updateSlides:function(){var e=this,i=e.currentContainerWidth=e.$container.outerWidth(),n={},s=o.isRTL?e.currentId*i:-e.currentId*i,a=.5*(e.$win.width()-e.$el.find(".rp-slide").eq(0).outerWidth(!0));if(a>0&&!e.isIE7orIE8&&(s+=Math.ceil(a)),e.isIE7orIE8&&e.$win.width()<=910?(i=910,s=-e.currentId*i,s-=.5*(910-e.$win.width())):e.isIE7orIE8&&(s+=Math.ceil(a)),"suggested"!==e.mode)if(e.$slides.each(function(e){t(this).css({left:o.isRTL?-e*i+"px":e*i+"px"})}),e.useCSS3Transitions){if(e.isMobileMode)return;n[e.prefixed(e.TD)]="0ms",n[e.prefixed(e.TTF)]=e.css3Easing.sonyScrollEase,n[e.xProp]=e.tPref1+(s+e.tPref2+0)+e.tPref3,e.$container.css(n)}else n[e.xProp]=s,e.$container.animate(n,0)},moveTo:function(e){function n(e){return 100>e?80:e>500?400:e}var s=this,a=o.isRTL?s.currentId*s.currentContainerWidth:-s.currentId*s.currentContainerWidth,r={},l=Math.abs(s.sPosition-a),d=.5*(s.$win.width()-t(".rp-slide").eq(0).outerWidth(!0));s.isIE7orIE8&&s.$win.width()<=910?(a=910*-s.currentId,a-=.5*(910-s.$win.width()),l=Math.abs(s.sPosition-a)):s.isIE7orIE8&&(a+=Math.ceil(d)),s.currAnimSpeed=n(l/e),isNaN(s.currAnimSpeed)&&(s.currAnimSpeed=s.animationSpeed),d>0&&!s.isIE7orIE8&&(a+=Math.ceil(d)),s.useCSS3Transitions?(r[s.prefixed(s.TD)]=s.currAnimSpeed+"ms",r[s.prefixed(s.TTF)]=s.currAnimSpeed===s.animationSpeed?s.css3Easing.sonyScrollEase:s.css3Easing.sonyScrollEase,r[s.xProp]=s.tPref1+(a+s.tPref2+0)+s.tPref3,s.$container.css(r),s.$container.one(s.transitionEndName,function(){s.toggleShuffles(),i.update()})):(r[s.xProp]=a,s.$container.animate(r,s.currAnimSpeed)),s.sPosition=s.currRenderPosition=a,s.isTransitioning=!0,s.ev.trigger("rpOnUpdateNav")},returnToFullView:function(){var e=this;e.isDesktopMode===!1&&(e.isDesktopMode=!0,e.$galleryItems.each(function(){var e=t(this).removeClass("small-size mobile-item"),i=e.data("slide");e.appendTo(i)}),e.$container.css("width",""),e.$container.append(e.$slides),e.$slides.length>1&&e.$container.on(e.downEvent,function(t){e.onDragStart(t)}),e.hasTouch||e.$paddles.show(),setTimeout(function(){e.updateSlides()},750))},sortTagLines2up:function(){var e=this,i=e.$el.find(".product-tagline");i.each(function(){var e=t(this);e.height()/parseInt(e.css("line-height"),10)>=2&&e.parent().addClass("two-line")})},disableShuffle:function(){var e=this;e.$shuffleContainers.each(function(){var e=t(this).data("shuffle");(void 0!==e||null!==e)&&e&&e.disable()})},enableShuffle:function(){var e=this;e.$shuffleContainers.each(function(){var e=t(this).data("shuffle");(void 0!==e||null!==e)&&e&&e.enable()})},updatePaddles:function(){var e=this,t=e.$win.width(),i="px";if(e.paddlesEnabled){var n=e.$el.find(".plate"),o=n.length>0,s=n.outerHeight(!0),a=t-e.$el.find(".rp-slide").eq(0).width();e.mq("(min-width: 981px)")&&o?(e.$rightPaddle.css({top:s,right:a/4-parseInt(e.$rightPaddle.width(),10)/2+i}),e.$leftPaddle.css({top:s,left:a/4-parseInt(e.$leftPaddle.width(),10)+10+i})):e.mq("(min-width: 569px)")&&o&&(e.$rightPaddle.css({top:s+130,right:a/4-parseInt(e.$rightPaddle.width(),10)/2+20+i}),e.$leftPaddle.css({top:s+130,left:a/4-parseInt(e.$leftPaddle.width(),10)+35+i}))}},updateTiles:function(){var e=this,i=e.mq("(min-width: 981px)"),n=null,o=null,s=0,a="",r=10;return e.isMobileMode?(n=e.$slides.find(".gallery-item.medium .product-img").first(),void n.css("height","")):(e.$slides.each(function(){var l=t(this);a=l.data("variation").split("-")[2].toLowerCase(),n=l.find(".gallery-item.medium .product-img").first(),o=l.find(".gallery-item.normal").first();var d=(l.find(".gallery-item.plate").first().height()+(e.mq("(max-width: 769px)")?26:0),l.find(".gallery-item.medium")),u=e.getMaxHeight(d),c=l.find(".gallery-item.normal"),h=l.find(".gallery-item.plate"),p=e.getMaxHeight(c),f=e.getMaxHeight(h),m=p>f?p:f;if(i){var g={"max-height":m,height:m};c.css(g),h.css(g)}switch(a){case"5up":i?(s=o.outerHeight(!0)+o.find(".product-img").height(),n.css({height:s+"px"})):(s=l.find(".plate").height()+o.find(".product-img").height()+parseInt(o.css("marginTop"),r),n.css({height:s+"px"}));break;case"4up":i?(s=l.find(".plate").height()+o.find(".product-img").height()+parseInt(o.css("marginTop"),r),n.css({height:s+"px"})):(s=o.outerHeight(!0)+o.find(".product-img").height(),n.css("height",s));break;case"3up":i?(s=l.find(".plate").height()+o.find(".product-img").height()+parseInt(o.css("marginTop"),r),n.css({height:s+"px"})):(s=u>f?u:f,n.css("height",""),d.css("height",s),h.css("height",s))}}),e.checkTileHeights(),void(e.breakPointChanged?setTimeout(function(){e.handleResize()},700):setTimeout(function(){e.updateSliderSize()},250)))},getMaxHeight:function(e){var i=0;return e.each(function(){var e=t(this),n=e.find(".gallery-item-inner > div").get().reduce(function(e,i){return e+t(i).outerHeight()},0);n>i&&(i=n)}),i},checkTileHeights:function(){var e=this,t=e.$galleryItems.filter(".normal").find(".product-img"),i=t.first().height();e.$win.width()<569&&(i="100%"),t.find("img").css({"max-height":i})},animateTiles:function(){var e=this,i=0;return e.globalLoader.addClass(r),e.oldIE?void e.$pagination.stop(!0,!0).fadeIn(250):(e.$galleryItems.not(".blank").each(function(){var e=t(this),n=0;e.css({visibility:a}),n=e.hasClass("plate")?0:e.hasClass("medium")?25:2e3,n=e.hasClass("plate")===!0?0:e.hasClass("medium")===!0?150:250+Math.floor(500*Math.random()),i+=n,e.stop(!0,!0).delay(n).animate({opacity:1},{duration:250,complete:function(){}})}),i=Math.min(750,i),void(i>0?setTimeout(function(){e.isMobileMode||e.$pagination.stop(!0,!0).fadeIn(250)},i):e.isMobileMode||e.$pagination.stop(!0,!0).fadeIn(250)))},initMobileBreakpoint:function(){var e=this;e.$container.off(e.downEvent),e.$paddles.hide(),e.$pagination.hide(),e.$slides.each(function(){var e=t(this),i=e.find(".plate").eq(0);e.prepend(i)}),e.$galleryItems.detach().addClass("small-size"),e.$slides.detach(),e.$galleryItems.removeAttr("style"),e.$galleryItems.addClass("mobile-item").first().removeClass("mobile-item"),e.$galleryItems.not(".blank").appendTo(e.$container),e.$el.css("margin-top","0px"),e.$el.find(".gallery-item.medium").css("height",""),e.$el.find(".gallery-item.medium .product-img").css("height",""),setTimeout(function(){null!==e.scrollerModule&&(e.scrollerModule.destroy(),e.scrollerModule=null),e.scrollerModule=e.sliderOverflow.scrollerModule({contentSelector:".rp-container",itemElementSelector:".gallery-item",mode:"free",lastPageCenter:!1,extraSpacing:0,iscrollProps:{snap:!1,hScroll:!0,vScroll:!1,hScrollbar:!1,vScrollbar:!1,momentum:!0,bounce:!0,lockDirection:!0,onBeforeScrollStart:null,onScrollEnd:t.proxy(e.onScrollerEnd,e)}}).data("scrollerModule"),e.sliderOverflow.css("overflow",a),e.$el.parents(".rp-section").css("overflow",r),e.$galleryItems.find(".product-name").evenHeights(),e.$el.find(".gallery-item.medium").css("height",""),e.$el.find(".gallery-item.medium .product-img").css("height",""),e.hasInitedMobile=!0,i.update(),e.checkTileHeights(),e.$el.stop(!0,!0).delay(100).animate({opacity:1},250)},100)},onScrollerEnd:function(){var e=this;i.update(),e.checkTileHeights()},setNameHeights:function(e){var i=0;return e.find(".product-name-wrap").css("height","").each(function(){var e=t(this),n=parseFloat(e.css("height"));n>i&&(i=n)}).css("height",i),this},setupEasing:function(){var e=this;e.css3Easing={sonyScrollEase:"cubic-bezier(0.000, 1.035, 0.400, 0.985)"}}},t.fn.relatedProducts=function(e){var i=arguments;return this.each(function(){var n=t(this);if("object"!=typeof e&&e){var o=n.data("relatedProducts");if(o&&o[e])return o[e].apply(o,Array.prototype.slice.call(i,1))}else n.data("relatedProducts")||n.data("relatedProducts",new d(n,e))})},t.fn.relatedProducts.defaults={throttleTime:50,autoScaleContainer:!0,minSlideOffset:10,navigationControl:"bullets"},l}),define("modules/related_products/index",["require","modules/related_products/module","secondary/sony-init-module-below-viewport"],function(e){var t=e("modules/related_products/module"),i=e("secondary/sony-init-module-below-viewport");return i({triggerElement:$(".rp-section"),callback:t.init}),{RelatedProducts:t}}),define("modules/recently_viewed/sony_carousel_in_module",["require","jquery","modernizr","require/sony-global-utilities","require/sony-global-environment","require/sony-global-settings","iQ","enquire","secondary/sony-favorites","secondary/sony-carousel","secondary/sony-scroller","secondary/sony-evenheights"],function(e){var t=e("jquery"),i=e("modernizr"),n=e("require/sony-global-utilities"),o=e("require/sony-global-environment"),s=e("require/sony-global-settings"),a=e("iQ"),r=e("enquire"),l=e("secondary/sony-favorites"),d=(e("secondary/sony-carousel"),e("secondary/sony-scroller"),e("secondary/sony-evenheights"),{init:function(e){var i=t(e);i.length&&new u(i[0])}}),u=function(e){var i=this;i.isDesktop=!1,i.isMobile=!1,i.useBounce=!(s.isVita||s.isLTIE9),i.useMomentum=!(s.isVita||s.isLTIE9),i.$el=t(e),i.init(),log("SONY : SonyCarousel : Initialized")};return u.prototype={constructor:u,init:function(){var e=this;e.setVars().setupBreakpoints(),e.hasFavorites&&e.initExtendedModule(),setTimeout(function(){e.$wrapper.addClass("in")},0),e.onResize()},setVars:function(){var e=this,t=e.$el.data("paddleWrapper");return e.$paddleWrapper=t?e.$el.find(t):void 0,e.$wrapper=e.$el.find(".sony-carousel-wrapper"),e.$carousel=e.$el.find(".sony-carousel"),e.$favorites=e.$el.find(".js-favorite"),e.$productNames=e.$el.find(".product-name-wrap"),e.hasFavorites=e.$favorites.length>0,e},onResize:function(){var e=this;e.$productNames.evenHeights(),t(".product-price").each(function(){var e=t(this).find(".price-prefix");e.hasClass("wrap")&&e.removeClass("wrap"),this.offsetWidth<this.scrollWidth&&e.addClass("wrap")})},initFavorites:function(){this.favorites=new l(this.$carousel,{itemSelector:".gallery-item .js-favorite",tooltip:!0}),this.favorites.highlightFavoritedProducts()},initExtendedModule:function(){var e=this;e.$productNames.evenHeights(),e.initFavorites(),o.on("global:resizeDebounced",t.proxy(e.onResize,e))},initCarousel:function(){var e=this;return e.$carousel.sonyCarousel({wrapper:".sony-carousel-wrapper",slides:".sony-carousel-slide",pagination:!0,paddles:!0,useSmallPaddles:!0,paddlePosition:"outset",$paddleWrapper:e.$paddleWrapper}),e},initScroller:function(){var e=this;e.$wrapper.scrollerModule({itemElementSelector:".gallery-item",iscrollProps:{bounce:e.useBounce,momentum:e.useMomentum,hScrollbar:!1,isOverflowHidden:!1,onAnimationEnd:a.update},getContentWidth:function(){var i=0,n=[],o=e.$el.find(".sony-carousel-slide");return o.css("width",""),o.each(function(){var e=0,o=t(this);o.find(".gallery-item").each(function(){e+=t(this).outerWidth(!0)}),e=Math.ceil(e),n.push(e),i+=e}),o.each(function(e){t(this).css("width",n[e])}),i}})},destroyCarousel:function(){return this.$carousel.sonyCarousel("destroy"),this},setupBreakpoints:function(){var e=this,t=e.$el.data("breakEarly"),n=t?"(min-width: 48em) and (max-width: 87.4375em)":"(min-width: 48em) and (max-width: 61.1875em)",o=t?"(min-width: 87.5em)":"(min-width: 61.25em)",s="(min-width: 48em)",a="(max-width: 47.9375em)";return e.isTabletAndDesktopOnLoad=i.mq(n)&&i.mq(s),i.mediaqueries?r.register(s,function(){e.setupDesktop()}).register(n,function(){e.setupTablet()}).register(o,function(){e.teardownTablet()}).register(a,function(){e.setupMobile()}):e.setupDesktop(),e},setupDesktop:function(){var e=this,t=e.isMobile;t&&(e.$wrapper.scrollerModule("destroy"),e.$carousel.find(".sony-carousel-slide").css("width",""),e.$el.find(".m-container").removeClass("container"),e.$wrapper.removeClass("grid"),setTimeout(n.forceWebkitRedraw,0)),e.isTabletAndDesktopOnLoad===!1&&e.initCarousel(),e.isTabletAndDesktopOnLoad=!1,e.isDesktop=!0,e.isMobile=!1},setupTablet:function(){var e=this;e.destroyCarousel(),e.arrangeItemsInSlides(4),e.initCarousel(),e.isTablet=!0},teardownTablet:function(){var e=this;e.isTablet&&(e.destroyCarousel(),e.arrangeItemsInSlides(6),e.initCarousel(),e.isTablet=!1)},setupMobile:function(){var e=this,t=e.isDesktop,i=!t;t&&(e.destroyCarousel(),setTimeout(n.forceWebkitRedraw,0)),e.$el.find(".m-container").addClass("container"),e.$wrapper.addClass("grid"),i?e.initScroller():setTimeout(function(){e.initScroller()},300),e.isDesktop=!1,e.isMobile=!0},arrangeItemsInSlides:function(e){var t,i,n,o,s,a=this,r=document,l=r.createDocumentFragment(),d=a.$carousel.find(".gallery-item"),u=d.length,c=Math.ceil(u/e),h="span2 span3 span4 span6",p="span"+12/e,f=0;for(d.detach().removeClass(h).addClass(p);c>f;f++){for(n=r.createElement("div"),n.className="sony-carousel-slide",o=r.createElement("div"),o.className="container",s=r.createElement("div"),s.className="slimgrid",t=0;e>t;t++)i=f*e+t,d[i]&&s.appendChild(d[i]);o.appendChild(s),n.appendChild(o),l.appendChild(n)}a.$carousel.empty().append(l)}},d}),define("modules/related_products_dynamic/index",["require","modules/recently_viewed/sony_carousel_in_module","secondary/sony-init-module-below-viewport"],function(e){var t=e("modules/recently_viewed/sony_carousel_in_module"),i=e("secondary/sony-init-module-below-viewport");i({triggerElement:$(".rp-section"),callback:function(){var e=".area.body .rp-section .rv-module";$(e).parent().find(".global-loader").addClass("hidden"),t.init(e);var i=$(".rp-section .rv-module").parent().find(".compatibility-types");i&&i.removeClass("hidden")}})}),define("modules/one_sony_tout_carousel/module",["require","jquery","modernizr","iQ","enquire","require/sony-global-settings","require/sony-global-environment","require/sony-global-utilities","secondary/index"],function(e){var t=e("jquery"),i=e("modernizr"),n=e("iQ"),o=e("enquire"),s=e("require/sony-global-settings"),a=e("require/sony-global-environment"),r=e("require/sony-global-utilities"),l=(e("secondary/index").sonyCarousel,{init:function(){t(".one-sony-carousel").each(function(){new d(this)})}}),d=function(e){var n=this;n.$el=t(e),n.$container=n.$el.find(".st-container"),n.$innerContainer=n.$container.find(".st-container-inner"),n.$slideContents=n.$container.find(".st-content"),n.$slides=n.$container.find(".st-item"),n.$paddlesTranslations={prev:n.$container.data("paddle-translation-previous"),next:n.$container.data("paddle-translation-next")},n.hasCarouselInitialized=!1,n.isDesktop=!0,n.selectedTout=Math.round(n.$innerContainer.data("selectedTout"))||0,n.desktopAnimSpeed=500,n.tabletAnimSpeed=300,n.mobileAnimSpeed=250,n.currentSlide=0,n.useCSS3=i.csstransforms&&i.csstransitions,n.rtl=s.isRTL,n.selectedToutSlide=0,n.$el.on("SecondaryTouts:ready",function(){n.init(),setTimeout(function(){n.$el.trigger("module:initialised")},200)}),log("SONY : OneSonyCarousel : Initialized")};return d.prototype={constructor:d,init:function(){var e=this;e.bindEvents(),e.$cachedSlides=e.$slideContents.detach(".st-item"),e.$sliderWrapper=e.$slideContents.first().clone(),e.$sliderWrapper.find(".st-item").remove(),e.initCarousel(),s.$html.hasClass("lt-ie10")?e.renderDesktop():(o.register(r.enquire.min(768),function(){e.renderDesktop(),e.$innerContainer.sonyCarousel("setAnimationSpeed",e.desktopAnimSpeed)}),o.register(r.enquire.minMax(481,767),function(){e.isDesktop=!1,e.renderEvenColumns(12),e.$innerContainer.sonyCarousel("setAnimationSpeed",e.tabletAnimSpeed)}),o.register(r.enquire.max(480),function(){e.isDesktop=!1,e.renderEvenColumns(12),e.$innerContainer.sonyCarousel("setAnimationSpeed",e.mobileAnimSpeed)})),e.$el.css("visibility","visible"),e.$innerContainer.sonyCarousel("gotoSlide",e.selectedToutSlide),e.generatePaddleTranslations(),a.on("global:resizeDebounced",t.proxy(e.positionSlides,e))},generatePaddleTranslations:function(){var e=this;e.$paddlePrev=t(".pagination-paddle.pagination-prev"),e.$paddleNext=t(".pagination-paddle.pagination-next"),e.$paddlePrev.length&&e.$paddleNext.length&&(e.$paddlePrev.attr("aria-label",e.$paddlesTranslations.prev),e.$paddleNext.attr("aria-label",e.$paddlesTranslations.next))},initCarousel:function(){var e=this,t=e.$slides.length;e.hasCarouselInitialized&&e.destroyCarousel(),e.regroupTouts(),t>1&&(e.positionSlides(),e.$innerContainer.sonyCarousel({wrapper:".st-container",slides:".st-content",slideChildren:".st-item",useCSS3:e.useCSS3,paddles:!0,showPaddlesInTouch:!0,paddlePosition:"outset",pagination:!0,selectedSlide:e.selectedToutSlide}),e.hasCarouselInitialized=!0)},destroyCarousel:function(){var e=this;e.$innerContainer.sonyCarousel("destroy")},updateCarousel:function(){var e=this,t=e.$slideContents.length;e.positionSlides(),e.$innerContainer.hasClass("sony-carousel-active")?2>t?(e.destroyCarousel(),e.$el.find(".st-item").css("opacity",1)):e.$innerContainer.sonyCarousel("resetSlides"):t>1?e.initCarousel():(e.$el.find(".st-item").css("opacity",1),e.$innerContainer.addClass("st-container-inner-no-paddle"))},regroupTouts:function(){var e=this,i=e.$slideContents.find(".st-item").clone(!0),n=e.$sliderWrapper.clone(!0),o=0;e.$innerContainer.empty();for(var s=0;s<i.length;s++){var a=t(i[s]),r=t(i[s+1]),l=t(i[s+2]),d=n.clone();if(e.selectedTout==s){var u=e.$innerContainer.children().length;e.selectedToutSlide=o>s?u-1:u}o>s||(12==e.getElementSpan(a)?(d.children().append(a),o++):8==e.getElementSpan(a)?(d.children().append(a),o++,4==e.getElementSpan(r)&&(d.children().append(r),o++)):6==e.getElementSpan(a)?(d.children().append(a),o++,e.getElementSpan(r)<8&&(d.children().append(r),o++)):4==e.getElementSpan(a)&&(d.children().append(a),o++,e.getElementSpan(r)<8&&e.getElementSpan(r)>4?(d.children().append(r),o++):4==e.getElementSpan(r)&&(d.children().append(r),o++,4==e.getElementSpan(l)&&(d.children().append(l),o++))),e.$innerContainer.append(d))}e.$slideContents=e.$innerContainer.find(".st-content"),e.getSpanOffsets(),e.$cachedSlides=e.$slideContents.clone(!0),e.$cachedTouts=e.$slideContents.find(".st-item").clone(!0),e.$sliderWrapper=e.$slideContents.first().clone(),e.$sliderWrapper.find(".st-item").remove()},getSpanOffsets:function(){for(var e=this,i=0;i<e.$slideContents.length;i++)for(var n=t(e.$slideContents[i]),o=n.find(".st-item"),s=0,a=0;a<o.length;a++){var r=t(o[a]);s+=e.getElementSpan(r),a==o.length-1&&(n.attr("data-offset",(12-s)/12),s=0)}},getElementSpan:function(e){var t=0;return e.hasClass("span12")?t=12:e.hasClass("span8")?t=8:e.hasClass("span6")?t=6:e.hasClass("span4")&&(t=4),t},bindEvents:function(){var e=this;e.$innerContainer.on(s.transEndEventName,n.update)},positionSlides:function(){var e,i=this,n=0,o=0;i.isDesktop?(e=i.$el.find(".st-content"),e.each(function(e,i){var o=t(i).attr("data-offset");t(i).css("left",n+"px"),n+=o>0?t(i).outerWidth(!0)-t(i).outerWidth(!0)*o:t(i).outerWidth(!0)}),i.$el.find(".st-item").each(function(e,i){t(i).css("left",0)})):(e=i.$el.find(".st-content"),e.each(function(e,i){t(i).css("left",n+"px"),n+=t(i).outerWidth(!0)})),i.rtl&&e.each(function(e,i){var n=t(i).attr("data-offset");t(i).css("right",o+"px"),o+=n>0?t(i).outerWidth(!0)-t(i).outerWidth(!0)*n:t(i).outerWidth(!0)})},renderDesktop:function(){var e=this,t=e.$cachedSlides.clone(!0);e.$innerContainer.empty().append(t),e.isDesktop=!0,e.hasCarouselInitialized=!1,e.updateCarousel(),n.reset()},renderEvenColumns:function(e){var t=this,i=t.$cachedTouts.clone(!0);t.$innerContainer.empty(),i.removeClass("span8 span6 span4").addClass("span"+e);for(var o=0;o<i.length;o+=12/e){for(var s=t.$sliderWrapper.clone(),a=o;o+12/e>a;a++)s.children().append(i.eq(a));t.$innerContainer.append(s)}t.hasCarouselInitialized=!1,t.updateCarousel(),n.reset()}},l}),define("modules/one_sony_tout_carousel/index",["require","modules/one_sony_tout_carousel/module","secondary/sony-init-module-below-viewport"],function(e){var t=e("modules/one_sony_tout_carousel/module"),i=e("secondary/sony-init-module-below-viewport");return i({triggerElement:$(".one-sony-tout-container"),initializeImmediately:!0,callback:t.init}),{OneSonyToutCarousel:t}}),define("modules/secondary_tout/module",["require","jquery","iQ","enquire","require/sony-global-settings","require/sony-global-utilities","require/sony-global-environment","secondary/index"],function(e){var t=e("jquery"),i=e("iQ"),n=e("enquire"),o=e("require/sony-global-settings"),s=e("require/sony-global-utilities"),a=e("require/sony-global-environment"),r=e("secondary/index").sonyModal,l={"align-left-center":"align-left-bottom","align-right-top":"align-left-top","align-right-center":"align-left-bottom","align-right-bottom":"align-left-bottom","align-center-center":"align-left-top"},d={init:function(e){e=e?e:t("body"),t(".secondary-tout",e).each(function(){new u(this)})}},u=function(e){var a=this;a.$el=t(e),a.$images=a.$el.find(".st-image"),a.$items=a.$el.find(".st-item"),a.spanClasses="span12 span8 span6 span4",a.contentWidthClasses="content-12 content-8 content-6 content-4",a.init();for(var r=0,l=a.$images.length;l>r;r+=1)a.$images.get(r).addEventListener("imageLoaded",function(){t(this).closest(".st-item").addClass("on")});a.preventChevronWrap(),setTimeout(function(){a.$el.find(".st-image").addClass("iq-img"),i.reset(),a.$el.trigger("SecondaryTouts:ready")},100),!a.$items.parents().hasClass("no-grid-at-767")&&!a.$items.parents().hasClass("one-sony-carousel")||o.$html.hasClass("lt-ie10")?a.renderDesktop():(n.register(s.enquire.min(768),function(){a.renderDesktop(),a.assignDefaultLayouts()}),n.register(s.enquire.max(767),function(){a.renderEvenColumns(12),a.assignMobileLayouts()}))};return u.prototype={constructor:u,init:function(){var e=this;e.$items.each(function(){var e=t(this),i=this.className.split(" ").filter(function(e){return 0===e.search("span")});e.data("contentWidthContainers",e.find(".content-12, .content-8, .content-6, .content-4")),e.data("originalWidth",i[0].split("span")[1])}),e.setupLinkClicks(),e.setupAlternateSizes(),e.addFocusEventListeners(),e.adjustPadding()},adjustPadding:function(){var e=this;e.$items.each(function(e,i){t(i).find(".st-item-content > div")[0]&&0==t(i).find(".st-item-content > div")[0].children.length&&t(i).find(".st-item-content").addClass("no-padding")})},addFocusEventListeners:function(){var e=this,t=e.$items.find(".parent-level-link");t.focusin(function(){e.onFocusIn(this)}),t.focusout(function(){e.onFocusOut(this)})},onFocusIn:function(e){this.addFocusClassByState(t(e),!1)},onFocusOut:function(e){this.addFocusClassByState(t(e),!0)},addFocusClassByState:function(e,t){var i=e.find(".st-item-content .primary-link"),n=e.find(".st-item-content"),o=i.length?i:n;e.find(".st-item-content > div")[0]&&0!=e.find(".st-item-content > div")[0].children.length&&(t?o.removeClass("focused"):o.addClass("focused"))},textWithoutTags:function(e){var i=t("<p>"+e+"</p>").contents().filter(function(){return 3===this.nodeType});return i.text()},lastWord:function(e){var i=t.trim(e).split(" ");return i[i.length-1]},addSpanBeforeTheWord:function(e,t){var i=e.lastIndexOf(t);return e.slice(0,i)+e.slice(i).replace(t,'<span class="no-wrap">'+t)},preventChevronWrap:function(){var e=this;s.isTyrionApp||e.$el.find("i.fonticon-10-chevron-sm.l-o-d").each(function(i,n){var o=t(t(n).parent()),s=o.html(),a=t(n).prop("outerHTML"),r=s.substring(0,s.indexOf(a)),l=s.substring(s.indexOf(a)),d=e.lastWord(e.textWithoutTags(r));r=e.addSpanBeforeTheWord(r,d),l=l.replace(a,a+"</span>"),o.html(r+l)
})},renderDesktop:function(){var e=this;e.$items.each(function(){var i=t(this),n=i.data("originalWidth");i.removeClass(e.spanClasses).addClass("span"+n),i.data("contentWidthContainers").add(i).removeClass(e.contentWidthClasses).addClass("content-"+n)})},renderEvenColumns:function(e){var i=this;i.$items.each(function(){var n=t(this);if("12"!==n.data("originalWidth")){n.removeClass(i.spanClasses).addClass("span"+e);var o=n.data("contentWidthContainers");o&&o.add(n).removeClass(i.contentWidthClasses).addClass("content-"+e)}})},setupAlternateSizes:function(){var e=this;e.$itemsEvaluatedOnResize=t();for(var i in l){var n=e.$el.find("."+i);e.$itemsEvaluatedOnResize=e.$itemsEvaluatedOnResize.add(n),n.data("originalLayout",i),n.data("mobileLayout",l[i])}},assignMobileLayouts:function(){var e=this;e.$el.find(".st-video-container").remove(),e.$itemsEvaluatedOnResize.each(function(){var e=t(this);e.removeClass(e.data("originalLayout")).addClass(e.data("mobileLayout"))})},assignDefaultLayouts:function(){var e=this;e.$itemsEvaluatedOnResize.each(function(){var e=t(this);e.removeClass(e.data("mobileLayout")).addClass(e.data("originalLayout"))})},onCloseVideoClick:function(){a.off("global:resizeDebounced",self.$recenterVideoProxy)},recenterVideo:function(){r.center()},setupLinkClicks:function(){var e=this;s.isTyrionApp||e.$el.hammer({stop_browser_behavior:{touchAction:"auto"}}).on("tap.secondarytouts",".st-item:not(.carousel)",function(i){i.preventDefault();var n=t(i.gesture.target).closest("a");if(n.hasClass("mini-promo")){var o=n.parent().find(".sony-video").clone();r.create({content:o,closed:t.proxy(e.onCloseVideoClick,e)}),o.sonyVideo(),r.center(),e.$recenterVideoProxy=t.proxy(e.recenterVideo,e),a.on("global:resizeDebounced",e.$recenterVideoProxy)}})}},d}),define("modules/secondary_tout/index",["require","modules/secondary_tout/module","secondary/sony-init-module-below-viewport"],function(e){var t=e("modules/secondary_tout/module"),i=e("secondary/sony-init-module-below-viewport");return i({triggerElement:$(".secondary-tout"),initializeImmediately:!0,callback:function(){t.init($("body"))}}),{SecondaryTouts:t}}),define("modules/carousel_tout/module",["require","jquery","modernizr","secondary/index"],function(e){var t=e("jquery"),i=e("modernizr"),n=(e("secondary/index").sonyCarousel,{init:function(){t(".whats-new-tout").each(function(){new o(this)})}}),o=function(e){var n=this;n.$el=t(e),n.useCSS3=i.csstransforms&&i.csstransitions,n.$carousel=n.$el.find(".whats-new-carousel"),n.selectedSlide=Math.round(n.$carousel.data("selectedSlide"))||0,n.init(),log("SONY : WhatsNewTout : Initialized")};return o.prototype={constructor:o,init:function(){var e=this;e.$carousel.sonyCarousel({wrapper:".whats-new-carousel-wrapper",slides:".whats-new-carousel-slide",useCSS3:e.useCSS3,looped:!0,pagination:!0,paginationTheme:"light",$dotNavWrapper:e.$el.find(".wnc-pagination"),paddles:!0,showPaddlesInTouch:!0,useSmallPaddles:!0,selectedSlide:e.selectedSlide})}},n}),define("modules/carousel_tout/index",["require","modules/carousel_tout/module","secondary/sony-init-module-below-viewport"],function(e){var t=e("modules/carousel_tout/module"),i=e("secondary/sony-init-module-below-viewport");return i({triggerElement:$(".whats-new-carousel-wrapper"),callback:t.init}),{WhatsNewTout:t}}),define("modules/editorial_dual_viewer/module",["require","jquery","enquire","require/sony-global-settings","require/sony-global-utilities","secondary/index","plugins/index"],function(e){var t=e("jquery"),i=(e("enquire"),e("require/sony-global-settings")),n=e("require/sony-global-utilities"),o=(e("secondary/index").sonyDraggable,e("plugins/index").hammer,{init:function(){t(".edv").each(function(){new s(this)})}}),s=function(e){var n=this;n.$el=t(e),n.$dualViewContainer=n.$el.find(".edv-images"),n.$scrubber=n.$el.find(".scrubber"),n.$handle=n.$el.find(".handle"),n.$bottomSlide=n.$el.find(".image-2"),n.$topSlide=n.$el.find(".image-1"),n.$topSlideImageContainer=n.$topSlide.find(".edv-image-wrapper"),n.$images=n.$dualViewContainer.find("img"),n.dragThresholdX=i.isVita?.002:.5,n.dragThresholdY=i.isVita?.002:.4,n.axis="x",n.$el.hasClass("y")&&(n.axis="y"),n.init(),log("SONY : EditorialDualViewer : Initialized")};return s.prototype={constructor:s,init:function(){var e=this,i={};e.$scrubber.show(),i[e.axis]={min:0,max:100},n.isTyrionApp||(e.$scrubber.hammer(),e.$scrubber.sonyDraggable({axis:e.axis,unit:"%",containment:e.$dualViewContainer,drag:t.proxy(e.onDrag,e),bounds:i,handlePosition:{x:e.$dualViewContainer.width()/2,y:e.$dualViewContainer.height()/2},snapToBounds:25})),e.$scrubber.on("dragend",t.proxy(e.onRelease,e)),e.$handle.mouseenter(function(){e.$scrubber.addClass("hover")}),e.$handle.mouseleave(function(){e.$scrubber.hasClass("dragging")||setTimeout(function(){e.$scrubber.removeClass("hover")},250)}),e.$scrubber.on("sonyDraggable:dragEnd",function(){setTimeout(function(){e.$scrubber.removeClass("dragging hover")},250)}),n.isTyrionApp||e.bindClicks()},bindClicks:function(){var e=this;e.$topSlide.next().hammer(),e.$bottomSlide.next().hammer(),e.$topSlide.next().on("tap",function(){e.$scrubber.sonyDraggable("snapTo",e.axis,100)}),e.$bottomSlide.next().on("tap",function(){e.$scrubber.sonyDraggable("snapTo",e.axis,0)})},initTimeout:function(){var e=this,i=!0;e.$images.each(function(){var e=t(this);(0===e.width()||0===e.height())&&(i=!1)}),i?e._init():setTimeout(t.proxy(e.initTimeout,e),250)},onDrag:function(e){var t=this;t.position=e.position,"x"===t.axis?(t.$topSlide.css("width",e.position.left+"%"),t.$topSlideImageContainer.css("width",1e4/e.position.left+"%"),e.position.left<=25?t.$topSlide.next().fadeOut(200):t.$topSlide.next().fadeIn(200),e.position.left<=75?t.$bottomSlide.next().fadeIn(200):t.$bottomSlide.next().fadeOut(200)):"y"===t.axis&&(t.$topSlide.css("height",e.position.top+"%"),t.$topSlideImageContainer.css("height",1e4/e.position.top+"%"),e.position.top<=25?t.$topSlide.next().fadeOut(200):t.$topSlide.next().fadeIn(200),e.position.top<=75?t.$bottomSlide.next().fadeIn(200):t.$bottomSlide.next().fadeOut(200))},onRelease:function(e){var t,n=this,o=e.gesture,s=i.isVita?100:1;"x"===n.axis?(t=n.position.left,"left"===o.direction&&o.velocityX>n.dragThresholdX?t+=-10*o.velocityX*s:"right"===o.direction&&o.velocityX>n.dragThresholdX&&(t+=10*o.velocityX*s)):"y"===n.axis&&(t=n.position.top,"up"===o.direction&&o.velocityY>n.dragThresholdY?t+=-20*o.velocityY*s:"down"===o.direction&&o.velocityY>n.dragThresholdY&&(t+=20*o.velocityY*s)),n.$scrubber.sonyDraggable("snapTo",n.axis,t)}},o}),define("modules/editorial_dual_viewer/index",["require","modules/editorial_dual_viewer/module","secondary/sony-init-module-below-viewport"],function(e){var t=e("modules/editorial_dual_viewer/module"),i=e("secondary/sony-init-module-below-viewport");return i({triggerElement:$(".editorial_dual_viewer_module"),callback:t.init}),{EditorialDualViewer:t}}),define("modules/editorial_slideshow/module",["require","jquery","modernizr","iQ","require/sony-global-settings","require/sony-global-environment","require/sony-global-utilities","secondary/index"],function(e){var t=e("jquery"),i=(e("modernizr"),e("iQ")),n=e("require/sony-global-settings"),o=e("require/sony-global-environment"),s=e("require/sony-global-utilities"),a=(e("secondary/index").sonySlider,{init:function(){t(".editorial-slideshow-container").each(function(){new r(this)})}}),r=function(e){var i=this;i.$el=t(e),i.$el.isModuleInitialized&&i.$el.isModuleInitialized()||(i.$slides=i.$el.find(".editorial-carousel-slide"),i.$submodules=i.$el.find(".editorial-carousel-slide.submodule-slide section:first-child, .editorial-carousel-slide.submodule-slide .sony-video"),i.$slideContainer=i.$el.find(".editorial-carousel"),i.$carouselWrapper=i.$el.find(".editorial-carousel-wrapper"),i.numSlides=i.$slides.length,i.carouselType=i.$el.find(".editorial-slideshow").data("type"),i.isSmall=i.$slideContainer.closest(".media-element").length>0,i.$document=n.$document,i.$window=n.$window,i.$html=n.$html,i.rtl=n.isRTL,i.selectedSlide=Math.round(i.$slideContainer.data("selectedSlide"))||0,i.init(),i.$el.data("moduleInitialized",!0),log("SONY : EditorialSlideshow : Initialized"))};return r.prototype={constructor:r,init:function(){var e=this,n=t(".iq-img",e.$slides).first();this.initCarousel(),this.checkForVideos(),this.stopVideoOnSlideChange();var o=function(){if(e.$submodules.length>0){e.$carouselWrapper.addClass("slide-modules");var i=e.$submodules.map(function(){setTimeout(function(){return t(this).height()},1)}).get(),s=Math.max.apply(null,i);s>0&&(e.$slideContainer.css("height",s),e.$slides.css("height",s),e.$carouselWrapper.css("height",s))}n.get(0).removeEventListener("iQ:imageLoaded",o),n.get(0).removeEventListener("imageLoaded",o)};if(n.length){n.get(0).addEventListener("iQ:imageLoaded",o),n.get(0).addEventListener("imageLoaded",o);var a=e.$slides.eq(0).find(".iq-img");a.length>1?(i.load(a.toArray()),setTimeout(t.proxy(o),1e3)):s.isTyrionApp||o()}e.$slideContainer.css("opacity",1),e.disableTabindex()},disableTabindex:function(){t(".editorial-slideshow").find("*").attr("tabindex","-1")},stopVideoOnSlideChange:function(){t(".editorial_slideshow .pagination-prev, .editorial_slideshow .pagination-next, .pagination-bullets li").on("click",function(){flowplayer&&flowplayer.instances&&(null!=t.activeFlowplayerInstance&&flowplayer.instances[t.activeFlowplayerInstance].load(),t.activeFlowplayerInstance=null)})},checkForVideos:function(){var e=this,t=e.$el.find(".editorial-carousel-slide").length;e.$el.addClass(t==e.$el.find(".editorial-carousel-slide .sony-video").length?"all-videos":t==e.$el.find(".editorial-carousel-slide > .editorial").length||t==e.$el.find(".editorial-carousel-slide > .image-module").length?"all-images":"mixed-content")},applyEvenHeights:function(){this.$el.hasClass("mixed-content")&&t.evenHeights([this.$el.find(".editorial-carousel-slide").not(".slick-cloned")])},forceLoadFirstAndLastSlide:function(){var e=t(this.$slideContainer);if(0!=e.length)for(var n=0;n<e.length;n++){var o=t(e[n]).find(".editorial-carousel-slide"),s=o.first().find(".iq-img").get(0),a=o.last().find(".iq-img").get(0);s&&i.load(s),a&&i.load(a)}},initCarousel:function(){var e=this.$el.parents(".editorial-chapters").length>0,n=0;this.$slideContainer.sonySlider({useSmallPaddles:this.isSmall,showPaddlesInTouch:!0,dots:!e,rtl:this.rtl,infinite:!s.isTyrionApp,fade:"fade"==this.carouselType,selectedSlide:this.selectedSlide}).on("beforeChange",function(e,t,i){n=i}).on("afterChange",function(e,s,a){n!=a&&(i.update(),t(this).trigger("SonyCarousel:gotoSlide",a),o.trigger("pausevideo"))}),this.forceLoadFirstAndLastSlide()}},a}),define("modules/editorial_slideshow/index",["require","modules/editorial_slideshow/module","secondary/sony-init-module-below-viewport"],function(e){var t=e("modules/editorial_slideshow/module"),i=e("secondary/sony-init-module-below-viewport");return i({triggerElement:$(".editorial_slideshow"),initializeImmediately:!0,callback:t.init}),{EditorialSlideshow:t}}),define("modules/editorial_image/module",["require","jquery","iQ","enquire","modernizr","require/sony-global-settings","require/sony-global-environment","secondary/index","secondary/index","secondary/index","secondary/index"],function(e){var t=e("jquery"),i=e("iQ"),n=e("enquire"),o=e("modernizr"),s=e("require/sony-global-settings"),a=e("require/sony-global-environment"),r=(e("secondary/index").sonyCarousel,e("secondary/index").sonyEvenHeights,e("secondary/index").sonyModal),l=(e("secondary/index").jquerySimpleScroll,{init:function(){t(".editorial").length&&t(".editorial").each(function(){new d(this)})}}),d=function(e){var i=this;i.$el=t(e),i.init()};return d.prototype={constructor:d,init:function(){var e=this;e.setVars(),e.setupBreakpoints(),e.hasAddonSubmodule&&e.setupSubmodules();var t=function(){var t=e.$addonTrigger.closest(".addon").attr("data-opened")+"";return"false"==t.toLowerCase()?!1:!0};e.$addonTrigger&&t()&&!e.$addonTrigger.closest("[class*=clone]").length&&e.$addonTrigger.click()},setVars:function(){var e=this,i=/span\d+/;e.$collapsibleTout=e.$el.find(".m2up, .m3up").not(".editorial-carousel-slide .m2up, .editorial-carousel-slide .m3up"),e.$touts=e.$el.find(".tout-grid .toutcopy"),e.col=e.$collapsibleTout.find(">div"),e.hasOffset1=e.col.hasClass("offset1"),e.isMediaLeft=e.$el.hasClass("medialeft"),e.hasCollapsibleTout=e.$collapsibleTout.length>0,e.hasTout=e.$touts.length>0,e.hasAddonSubmodule=e.$el.find(".submodule").length>0,e.$window=s.$window,e.$sliderContainer=e.$el.find(".editorial-carousel"),e.colSpans=[],e.col.each(function(){var t=i.exec(this.className),n=t[0];e.colSpans.push(n)}),e.rtl=t("body").hasClass("rtl"),e.reversed=!1},setupBreakpoints:function(){var e=this;if(e.hasCollapsibleTout&&(s.isLTIE10?e.initDesktop():n.register("(min-width: 48em)",function(){e.initDesktop()}).register("(max-width: 47.9375em)",function(){e.initMobile()}),e.resizeTouts(),a.on("global:resizeDebounced",t.proxy(e.resizeTouts,e))),e.hasTout&&!s.isLTIE10&&n.register("(max-width: 29.9375em)",{match:function(){e.initSubMobile()},unmatch:function(){e.teardownSubMobile()}}),e.isMediaLeft&&!s.isLTIE10&&(e.$textBlock=e.$el.find(".media-element").siblings(),n.register("(max-width: 47.9375em)",{match:function(){e.swapMediaPositions(!0)},unmatch:function(){e.swapMediaPositions(!1)}})),e.isMediaLeft||e.$el.hasClass("mediaright")){e.fixMediaHeights(),a.on("global:resizeDebounced",t.proxy(e.fixMediaHeights,e));for(var i=e.$el.find(".iq-img"),o=0,r=i.length;r>o;o+=1)i.get(o).addEventListener("imageLoaded",t.proxy(e.fixMediaHeights,e))}log("SONY : Editorial - E : Initialized")},setupSubmodules:function(){var e,i=this;i.$addonTrigger=i.$el.find(".addon-media").filter(function(){return 0===t(this).parentsUntil(i.$el,".submodule").length}),0!==i.$addonTrigger.length&&(i.$addonModule=i.$el.find(".submodule.off-screen").filter(function(){return 0===t(this).parentsUntil(i.$el,".submodule").length}),i.$closeBtn=i.$addonModule.find(".box-close"),i.$submodule=i.$addonModule.siblings(),i.$content=i.$el.hasClass("full-inner")?i.$submodule.parent().siblings():t(),e=i.$addonModule.find(".sony-video"),i.isVideoAddon=e.length>0,i.isVideoAddon&&(i.$video=e,a.on("global:resizeDebounced",t.proxy(i.recenterVideo,i))),i.isSubmoduleOpen=!1,i.setupSubmoduleEvents())},setupSubmoduleEvents:function(){var e=this;e.$addonTrigger.on("click",t.proxy(e.onAddonClick,e)),e.$closeBtn.on("click",t.proxy(e.onCloseClick,e)),e.$window.on("e5-slide-change",t.proxy(e.onCloseClick,e)),s.hasTouchEvents||(e.$addonModule.on("mouseenter.submodule",function(){e.isHovered=!0,e.$closeBtn.removeClass("close-hide")}),e.$addonModule.on("mouseleave.submodule",function(){e.isHovered=!1,e.$closeBtn.addClass("close-hide")}))},onAddonClick:function(e){var n=this,s="off-screen visuallyhidden";e.preventDefault(),e.stopPropagation(),a.trigger("pausevideo"),flowplayer&&flowplayer.instances&&(null!=t.activeFlowplayerInstance&&flowplayer.instances[t.activeFlowplayerInstance].load(),t.activeFlowplayerInstance=null),n.isSubmoduleOpen||(i.update(),n.isVideoAddon?(r.create({content:n.$video,closed:t.proxy(n.onCloseClick,n)}),r.center(),a.trigger("global:onAddonClick")):(n.$submodule.add(n.$content).addClass(s),n.$addonModule.removeClass(s),n.$sliderContainer.trigger("onSonySliderSetPosition"),o.mq("(max-width: 47.9375em)")&&setTimeout(function(){t.simplescroll({target:n.$addonModule,offset:50})},0)),n.isSubmoduleOpen=!0)},onCloseClick:function(e){var n=this,o="off-screen visuallyhidden";t(".addon-container").trigger("sony:editorialImage:overlay:close"),e&&(e.preventDefault(),e.stopPropagation()),n.isVideoAddon||(n.$submodule.add(n.$content).removeClass(o),n.$addonModule.addClass(o)),flowplayer&&flowplayer.instances&&(null!=t.activeFlowplayerInstance&&flowplayer.instances[t.activeFlowplayerInstance].load(),t.activeFlowplayerInstance=null,t.deactivateSpaceKeyOnPlayer=!0),n.$addonTrigger.closest(".addon").attr("data-opened",!1),n.isSubmoduleOpen=!1,i.update()},fixMediaHeights:function(){var e,t,i,n,s=this,a=o.mq("(max-width: 47.9375em)");a?e="auto":(t=parseInt(s.$el.find(".grid").css("minHeight"),10),n=s.$el.find(".box").outerHeight(),i=s.$el.find(".media-element .table-center").children().first().height(),e=Math.max(t,n,i),e+="px"),s.$el.find(".grid, .grid > div").css("height",e)},resizeTouts:function(){var e=this,i=t(".editorial.tout .m2up .horizontal .table-center-wrap").parent();if(i.length){var n=i.parent().width()-i.prev().width()-2;i.css({width:n,maxWidth:n})}var s=e.col.find(".copy");s.length&&(o.mq("(min-width: 48em)")?s.evenHeights():s.css("height",""))},recenterVideo:function(){var e=this;e.isSubmoduleOpen&&r.center()},initDesktop:function(){var e=this;e.$collapsibleTout.sonyCarousel("destroy"),e.$collapsibleTout.attr("style",""),e.col.each(function(i){t(this).addClass(e.colSpans[i])}),e.hasOffset1&&e.col.first().addClass("offset1")},initMobile:function(){var e=this;e.col.each(function(i){t(this).removeClass(e.colSpans[i])}),e.col.removeClass("offset1"),e.$collapsibleTout.sonyCarousel({wrapper:".editorial.tout .container, .editorial.full-tout .container",slides:">div",pagination:!0})},_reverseCols:function(){var e=this;e.$collapsibleTout.append(e.col.get().reverse()),e.col=e.$collapsibleTout.find(">div"),e.reversed=!e.reversed},initSubMobile:function(){this.$touts.each(function(){var e=t(this),i=e.find("p"),n=i[0],o=e.find("a"),s=o[0];i.length&&i.data("className",n.className),o.length&&(o.data("className",s.className),s.className=s.className+" lt4"),i.length&&(n.className="p4")})},teardownSubMobile:function(){this.$touts.each(function(){var e=t(this),i=e.find("p"),n=i[0],o=e.find("a"),s=o[0],a=o.data("className"),r=i.data("className");i.length&&(n.className=r),o.length&&(s.className=a)})},swapMediaPositions:function(e){var t=this,i=t.$textBlock.parent(),n=e?"prepend":"append";t.$textBlock.detach(),i[n](t.$textBlock)}},l}),define("modules/editorial_image/index",["require","modules/editorial_image/module","secondary/sony-init-module-below-viewport"],function(e){var t=e("modules/editorial_image/module"),i=e("secondary/sony-init-module-below-viewport");return i({triggerElement:$(".editorial_image, .editorial"),callback:t.init}),{Editorial:t}}),define("modules/editorial_chapters/module",["require","jquery","iQ","require/sony-global-router","modernizr","bootstrap","require/sony-global-settings","require/sony-global-environment","secondary/index","secondary/index","secondary/index"],function(e){var t=e("jquery"),i=e("iQ"),n=e("require/sony-global-router"),o=e("modernizr"),s=(e("bootstrap"),e("require/sony-global-settings")),a=e("require/sony-global-environment"),r=(e("secondary/index").sonyEvenHeights,e("secondary/index").sonyCarouselFade,e("secondary/index").sonyScroller,""),l="off-screen",d={init:function(){t(".editorial-chapters-container").editorialChapters()}},u=function(e,i){var n=this;t.extend(n,{},t.fn.editorialChapters.defaults,i,t.fn.editorialChapters.settings),n.$el=t(e),n.hasTouch=o.touch,n.transitionDuration=o.prefixed("transitionDuration"),n.cssTransitions=o.transitions,n.useCSS3=o.csstransforms&&o.csstransitions,n.$doc=s.$document,n.$win=s.$window,n.$html=s.$html,n.$ev=t({}),n.$slides=n.$el.find(".editorial-carousel-slide.chapter-slide"),n.$slideWrapper=n.$el.find(".editorial-carousel-wrapper.chapter-pane"),n.$slideContainer=n.$el.find(".editorial-carousel.chapter-slide-container"),n.$thumbNav=n.$el.find(".thumb-nav"),n.$thumbItems=n.$thumbNav.find("li"),n.$thumbLabels=n.$thumbNav.find("span"),n.$slideInner=n.$slides.find(".editorial"),n.$mediaChapter=n.$el.closest(".editorial"),n.isMediaChapter=n.$mediaChapter.hasClass("mediaright")||n.$mediaChapter.hasClass("medialeft"),n.selectedChapter=Math.round(n.$slideContainer.data("selectedChapter"))||0,n.hasThumbs=n.$thumbNav.length>0,n.numSlides=n.$slides.length,n.moduleId=n.$el.attr("id"),n.showPaddles=n.$slideWrapper.data("show-paddles"),n.transitonDelay=5e3,n.currentId=void 0,n.prevIndex=0,n.currIndex=0,n.startInteractionPointX=null,n.lastTouch=null,n.handleStartPosition=null,n.location=window.location,n.history=window.history,n.initFromhash=!1,n.currentHash=null,n.isDesktop=!1,n.isMobile=!1,n.debouncedSetRowHeights=t.debounce(200,t.proxy(n.slideEvenHeightHandler,n)),n.debouncedEvenHeightForMixedSlides=t.debounce(200,t.proxy(n.evenHeightForMixedSlides,n)),n.init()};return u.prototype={constructor:u,init:function(){var e=this;e.setupEvents(),e.setupSlides(),e.setupCarousel(),e.setupBreakpoints(),e.checkForVideos(),e.$firstImage=e.$slideContainer.find(".chapter-slide.active .image-module > img.iq-img").first(),e.hasThumbs&&e.createThumbNav(),e.$slideContainer.fadeTo(0,1,function(){if(e.$firstImage.length)e.addEvenHeightsListener(),e.$win.on("resize",e.debouncedSetRowHeights);else{if(e.$el.hasClass("all-videos"))return;e.evenHeightForMixedSlides(),e.$win.on("resize",e.debouncedEvenHeightForMixedSlides)}}),n.on("chapter-"+e.moduleId+"(/:a)",t.proxy(e.directFromHash,e)),e.hasTouch&&e.$thumbNav.on(e.downEvent,function(t){e.dragStart(t)})},evenHeightForMixedSlides:function(){var e=this.$slideContainer.find(".chapter-slide"),t=e.find(".image-module.hotspot-instance > img.iq-img");if(t.length)if(this.$win.get(0).innerWidth>767)e.height("auto").css({"min-height":"initial"}),t.height(e.eq(0).find(".image-module").height());else{t.height("auto");var i=e.eq(0).find(".image-module").height()+e.eq(0).find(".container.inner").height();e.css({"min-height":i})}},checkForVideos:function(){var e=this,t=e.$el.find(".editorial-carousel-slide").length;e.$el.addClass(t==e.$el.find(".editorial-carousel-slide .sony-video").length?"all-videos":t==e.$el.find(".editorial-carousel-slide > .editorial").length||t==e.$el.find(".editorial-carousel-slide > .image-module").length?"all-images":"mixed-content")},slideEvenHeightHandler:function(){var e=this,t=e.$slideContainer.find(".chapter-slide.active .image-module > img.iq-img");if(e.$win.get(0).innerWidth>767)e.$slides.css("min-height","auto").find(".image-module > img.iq-img").height("auto"),e.$slides.css("height",t.height()),e.$slides.first().height()<100&&e.debouncedSetRowHeights();else{var i=t.height(),n=e.$slideContainer.find(".chapter-slide.active .container.inner"),o=n.length?n.height():0;e.$slides.css("height","auto"),e.$slides.find(".image-module > img.iq-img").height(t.height()),e.$slides.css("min-height",i+o)}t.get(0).removeEventListener("iQ:imageLoaded",e.debouncedSetRowHeights),t.get(0).removeEventListener("imageLoaded",e.debouncedSetRowHeights)},addEvenHeightsListener:function(){var e=this;e.$firstImage.get(0).addEventListener("iQ:imageLoaded",e.debouncedSetRowHeights),e.$firstImage.get(0).addEventListener("imageLoaded",e.debouncedSetRowHeights)},setupBreakpoints:function(){var e=this;o.mediaqueries&&enquire.register("(min-width: 48em)",{match:function(){e.setupMobilePlus()}}).register("(max-width: 47.9375em)",{match:function(){e.setupMobile()}})},setupSlides:function(){var e=this;e.$slideContainer.width(100*(e.numSlides+2)+"%"),e.$slides.width(100/(e.numSlides+2)+"%")},setupEvents:function(){var e=this;o.touch?(e.hasTouch=!0,e.downEvent="mousedown.rp touchstart.rp",e.moveEvent="mousemove.rp touchmove.rp",e.upEvent="mouseup.rp touchend.pdpss",e.cancelEvent="mouseup.rp touchcancel.rp",e.lastItemFriction=.5):(e.hasTouch=!1,e.lastItemFriction=.2,e.downEvent="mousedown.rp",e.moveEvent="mousemove.rp",e.upEvent="mouseup.rp",e.cancelEvent="mouseup.rp",e.clickEvent="click.pdpss"),e.tapOrClick=function(){return e.hasTouch?e.upEvent:e.clickEvent}},setupMobilePlus:function(){var e=this;e.isMobile=!1,e.isDesktop=!0,e.$win.off("resize.e5-mobile-resize"),e.removeWrapperStyles(),e.$win.trigger("resize")},setupMobile:function(){var e=this;e.isMobile=!0,e.isDesktop=!1,setTimeout(function(){e.getSliderWidth()},500)},dragStart:function(e){var i,n=this;if(n.hasTouch){var o=e.originalEvent.touches;if(!(o&&o.length>0))return;i=o[0],o.length>1&&(n.multipleTouches=!0)}else if(i=e,e.preventDefault(),1!==e.which)return;n.distanceMoved=null,n.handleStartPosition=n.getPagePosition(e),n.startInteractionPointX=i.pageX,n.$doc.on(n.moveEvent,t.proxy(n.dragMove,n)).on(n.upEvent,t.proxy(n.dragEnd,n))},dragMove:function(e){{var t,i=this;i.getPagePosition(e).x-i.handleStartPosition.x,i.getPagePosition(e).y-i.handleStartPosition.y}if(i.hasTouch){if(i.lockAxis)return;var n=e.originalEvent.touches;if(!n)return;if(n.length>1)return;t=n[0]}else t=e;i.distanceMoved=Math.abs(t.pageX-i.startInteractionPointX)},dragEnd:function(){var e=this;e.$doc.off(e.moveEvent).off(e.upEvent)},getPagePosition:function(e){var t=this;if(e.pageX||e.originalEvent)return t.lastTouch=t.lastTouch||{},("touchmove"===e.type||"touchstart"===e.type)&&(t.lastTouch=e.originalEvent.touches[0]),{x:e.pageX||t.lastTouch.pageX,y:e.pageY||t.lastTouch.pageY}},removeWrapperStyles:function(){var e=this;e.$slideWrapper.removeAttr("style")},setupCarousel:function(){var e,n,o,s,a=this;e=0,n=a.$slides.eq(e),o=n.find(".image-module"),s=e+1>=a.$slides.length?a.$slides.eq(0).find(".image-module"):a.$slides.eq(e+1).find(".image-module"),a.$slideContainer.eq(0).on("SonyCarouselFade:gotoSlide",t.proxy(a.onSlideUpdate,a)),a.$slideContainer.sonyCarouselFade({wrapper:".editorial-carousel-wrapper.chapter-pane",slides:".editorial-carousel-slide.chapter-slide",paddles:a.showPaddles,showPaddlesInTouch:!0,looped:!1,jumping:!1,axis:"x",useCSS3:a.useCSS3,pagination:!1,draggable:!1,selectedChapter:a.selectedChapter}),a.setCurrentActiveThumb(),o.addClass("unhide"),s.addClass("unhide"),i.update()},getSliderWidth:function(){var e,i,n,o=this;e=o.$thumbNav.find("li"),i=5,n=100,e.each(function(){var e=t(this);i+=e.outerWidth()}),i>=n&&o.$thumbNav.width(i)},getSlideHeight:function(){var e=this;t.evenHeights([e.$slides.find(".inner .box")])},onSlideUpdate:function(e,t){var n,o,s,a=this;a.currentId=t,n=a.$slides.eq(t),o=n.find(".image-module"),s=t+1>=a.$slides.length?a.$slides.eq(0).find(".image-module"):a.$slides.eq(t+1).find(".image-module"),a.setCurrentActiveThumb(),o.addClass("unhide"),s.addClass("unhide"),n.addClass(r).removeClass(l).siblings().removeClass(r).addClass(l),a.$win.trigger("e5-slide-change"),i.update()},createThumbNav:function(){var e,i=this,n=i.$thumbNav.find("li");n.on(i.tapOrClick(),function(e){i.distanceMoved>=25||(e.preventDefault(),i.onThumbSelected(t(this)))}),n.on("keypress",function(e){var n=event.which;13==n&&(e.preventDefault(),i.onThumbSelected(t(this)))}),n.on("keyup",function(e){var t=n.length,i=e.target,o=n.index(i);39===e.which?n.eq((o+1)%t).focus():37===e.which&&n.eq((o-1)%t).focus()}),n.eq(0).addClass("active"),n.each(function(){var i,n=t(this).find(".nav-label");e=n.text(),i=e.split(" ");for(var o=0;o<i.length;o++)i[o].length>10&&n.addClass("break-word")})},onThumbSelected:function(e){var i=this,n=e.index(),o=i.$thumbNav.find("li").not(":eq("+n+")");i.currentId=n,e.addClass("active"),e.attr("aria-selected",!0),setTimeout(function(){o.removeClass("active"),o.attr("aria-selected",!1)},100),flowplayer&&flowplayer.instances&&(null!=t.activeFlowplayerInstance&&flowplayer.instances[t.activeFlowplayerInstance].load(),t.activeFlowplayerInstance=null),a.trigger("pausevideo"),i.$slideContainer.sonyCarouselFade("gotoSlide",i.currentId)},updateHash:function(e,t){var i,n,o=this;o.moduleId&&null!==t&&void 0!==t&&(i=e.href.replace(/(javascript:|#).*$/,""),n="chapter-"+o.moduleId+"/"+t,o.currentHash=n,e.replace(i+"#"+n))},directFromHash:function(){var e,t,i,o=this;o.initFromhash||(o.currentHash=n.getHash(),e=o.currentHash.replace(/.*?(\d+)[^\d]*$/,"$1"),t=o.$thumbNav.find("li"),o.initFromhash=!0,e<t.length&&(i=t.eq(e),o.onThumbSelected(i)))},setCurrentActiveThumb:function(){var e,t,i=this,n=i.currentId?i.currentId:0;e=i.$thumbNav.find("li").not(":eq("+n+")"),t=i.$thumbNav.find("li").eq(n),t.addClass("active"),setTimeout(function(){e.removeClass("active"),t.hasClass("active")?"":t.addClass("active")},100),i.updateHash(i.location,i.currentId)}},t.fn.editorialChapters=function(e){var i=Array.prototype.slice.call(arguments,1);return this.each(function(){var n=t(this),o=n.data("editorialChapters");o||(o=new u(n,e),n.data("editorialChapters",o)),"string"==typeof e&&o[e].apply(o,i)})},t.fn.editorialChapters.defaults={},t.fn.editorialChapters.settings={},d}),define("modules/editorial_chapters/index",["require","modules/editorial_chapters/module","secondary/sony-init-module-below-viewport"],function(e){var t=e("modules/editorial_chapters/module"),i=e("secondary/sony-init-module-below-viewport");return i({triggerElement:$(".editorial_chapters, .editorial-chapters-container"),callback:t.init}),{EditorialChapters:t}}),define("modules/editorial_360_viewer/module",["require","jquery","iQ","bootstrap","enquire","require/sony-global-settings","require/sony-global-environment","require/sony-global-utilities","plugins/index","plugins/index"],function(e){var t=e("jquery"),i=e("iQ"),n=(e("bootstrap"),e("enquire"),e("require/sony-global-settings")),o=(e("require/sony-global-environment"),e("require/sony-global-utilities"),e("plugins/index").hammer,e("plugins/index").viewport,{init:function(){(window.atob||n.isLTIE10)&&t(o.$controls).find(".table-center-wrap").addClass("ltie"),t(".e360").each(function(){t(this).editorial360Viewer({})})}}),s=function(e,i){var o=this;o.$container=t(e),o.elId=o.$container.closest(".editorial_360_viewer").attr("id"),o.moduleIqKey="e360-"+o.elId,o.$sequence=o.$container.find(o.$container.find(".outer div").length>0?".outer div":".outer img"),o.sequenceLength=o.$sequence.length,o.curLoaded=0,o.$controls=o.$container.find(".controls"),o.$controlCenter=o.$controls.find(".instructions"),o.$leftArrow=o.$controls.find(".left-arrow"),o.$rightArrow=o.$controls.find(".right-arrow"),o.isImage=t(o.$sequence[0]).is("img")?!0:!1,o.dynamicBuffer=Math.floor(o.$container.width()/o.$sequence.length/3),o.curIndex=0,o.movingLeft=!1,o.movingRight=!1,o.clicked=!1,o.lastX=null,o.lastTriggerX=null,o.inMotion=!1,o.throttle=3,o.inViewport=!1,o.moves=0,o.touchEvents=0,o.$win=n.$window,o.hasSlideNav=t(e).find(".sony-slide-nav").length>0,o.hasSlideNav&&(o.$sliderNav=t(e).find(".sony-slide-nav").eq(0),o.$slideStops=o.$sliderNav.find("a")),t.extend(o,{},t.fn.editorial360Viewer.defaults,i,t.fn.editorial360Viewer.settings),o.init()};return s.prototype={constructor:s,init:function(){var e=this;e.$controls.addClass("hidden"),e.checkLoaded(),e.hasSlideNav&&e.initSlideNav(),e.setOnDemandImages(),i.update(),log("SONY : Editorial 360 Viewer : Initialized")},setOnDemandImages:function(){i.setOnDemandImages(this.$container.get(0),this.moduleIqKey)},loadOnDemandImages:function(){i.loadOnDemandImages(this.moduleIqKey),this.loadOnDemandImages=t.noop},initSlideNav:function(){var e=this;e.resizeSlideNav(),e.$sliderNav.one("sonyDraggable:dragStart",t.proxy(e.loadOnDemandImages,e)),e.$sliderNav.on("SonySlideNav:drag",t.proxy(e.handleSlideDrag,e)),n.isRTL||e.$sliderNav.on("SonySlideNav:gotoPosition",t.proxy(e.loadOnDemandImages,e))},resizeSlideNav:function(){var e=this,i=0,o=0;e.$slideStops.each(function(){i=t(this).data().frame,o=i/e.sequenceLength*100,o=n.isRTL?100-o:o,t(this).css("left",o+"%")})},handleSlideDrag:function(e,t){this.moveTo(t)},checkLoaded:function(){var e=this;e.$container.addClass("lazyLoading"),e.syncControlLayout(),e.initBehaviors()},syncControlLayout:function(){var e=this,i=t(e.$sequence[e.curIndex]).width();e.$controls.find(".table-center").css("width",i)},moveToFirstFrame:function(){var e=this;e.hasSlideNav&&e.$slideStops.length>0&&e.$slideStops.eq(0).trigger("click")},initBehaviors:function(){var e=this;!0===Modernizr.touch?(e.$controls.hammer(),e.poller=setInterval(function(){e.syncControlLayout();var i=t(e.$controls).find(".table-center :in-viewport"),n=i.length>0;n?e.inViewport||(e.inMotion=!0,e.animateDragger(),e.inViewport=!0,clearInterval(e.poller),e.poller=null):e.inViewport=!1},100),e.$controls.on("release",function(t){e.touchUp(t)}),e.$controls.on("drag",function(t){var i=t.gesture.direction;("left"==i||"right"==i)&&e.touchMove(t)}),e.$controls.on("tap",function(t){e.touchDown(t)
}),e.$controls.on("touchstart",t.proxy(e.loadOnDemandImages,e))):(t(window).bind("scroll",function(t){e.onScroll(t)}),e.$controls.bind("mousedown",function(t){e.mouseDown(t),e.loadOnDemandImages()}),e.$controls.bind("mouseup",function(t){e.mouseUp(t)}),t(e.$controls).bind("mousemove",function(t){e.mouseMove(t)})),setTimeout(function(){e.animateDragger(),e.moveToFirstFrame()},500),t(window).bind("resize",function(t){e.onResize(t)}),!0===e.isImage&&e.syncControlLayout(),e.$controls.removeClass("hidden")},easeSwipe:function(e){{var i=this,n=t(i.$sequence[i.curIndex]).width(),o=(e.gesture.distance,sequence.length-1);n/o/i.throttle}},onResize:function(){var e=this;e.dynamicBuffer=Math.floor(e.$container.width()/e.$sequence.length/e.throttle),e.syncControlLayout(),!0===e.isImage},onScroll:function(){var e=this;!1===e.inMotion&&(e.inMotion=!0,e.animateDragger()),!0===e.isImage&&e.syncControlLayout()},touchDown:function(){var e=this;t(document.body).addClass("unselectable"),e.clicked=!0},touchUp:function(){var e=this;t(document.body).removeClass("unselectable"),e.clicked=!1},touchMove:function(e){var t=this,i=(e.gesture.distance,e.gesture.direction?e.gesture.direction:"left");e.preventDefault(),e.gesture.preventDefault(),n.isIOS?0===t.moves%2&&t.move(i):n.isAndroid?0===t.moves%8&&t.move(i):t.move(i),t.moves++},mouseDown:function(e){var i=this;e.preventDefault(),t(i.$controls).addClass("is-dragging"),t(document.body).addClass("unselectable"),i.clicked=!0,e.stopPropagation()},mouseUp:function(e){var i=this;e.preventDefault(),t(i.$controls).removeClass("is-dragging"),t(document.body).removeClass("unselectable"),i.clicked=!1},mouseMove:function(e){var t=this,i=!1;if(e.preventDefault(),null===t.lastTriggerX&&(t.lastTriggerX=t.lastX=e.pageX),e.pageX>t.lastTriggerX+t.dynamicBuffer?(t.movingLeft=!0,t.movingRight=!1,i=!0,t.lastTriggerX=e.pageX):e.pageX<t.lastTriggerX-t.dynamicBuffer&&(t.movingLeft=!1,t.movingRight=!0,i=!0,t.lastTriggerX=e.pageX),t.clicked&&i){var n=t.movingLeft?"left":"right";t.move(n)}t.lastX=e.pageX},animateDragger:function(){var e=this;e.hasSlideNav||n.isLTIE8||(t(e.$leftArrow).animate({opacity:0}),t(e.$rightArrow).animate({opacity:0}),t(e.$controlCenter).animate({marginLeft:"+26px",marginRight:"+26px"},499,function(){e.resetAnimation()}))},resetAnimation:function(){var e=this;t(e.$leftArrow).css({opacity:1}),t(e.$rightArrow).css({opacity:1}),t(e.$controlCenter).css({marginLeft:"18px",marginRight:"18px"}),e.inMotion=!1},move:function(e){var t=this,i=t.curIndex;switch(e){case"left":0===t.curIndex?t.curIndex=t.sequenceLength-1:t.curIndex--;break;case"right":t.curIndex==t.sequenceLength-1?t.curIndex=0:t.curIndex++}t.pluck(i).addClass("visuallyhidden"),t.pluck(t.curIndex).removeClass("visuallyhidden")},moveTo:function(e){e=n.isRTL?100-e:e;var t=this,i=t.curIndex,o=Math.floor(.01*(t.sequenceLength-1)*e);t.curIndex=o,t.pluck(i).addClass("visuallyhidden"),t.pluck(t.curIndex).removeClass("visuallyhidden")},pluck:function(e){for(var i=this,n=0;n<i.$sequence.length;n++)if(e==t(i.$sequence[n]).data("sequence-id"))return t(i.$sequence[n]);return!1}},t.extend({inspect:function(e,i){i=i||"this";for(var n in e)if(t.isPlainObject(e[n]))return void t.inspect(e[n],i+"."+n)}}),t.fn.editorial360Viewer=function(e){var i=Array.prototype.slice.call(arguments,1);return this.each(function(){var n=t(this),o=n.data("editorial360Viewer");o||(o=new s(n,e),n.data("editorial360Viewer",o)),"string"==typeof e&&o[e].apply(o,i)})},t.fn.editorial360Viewer.defaults={options:{}},t.fn.editorial360Viewer.settings={isTouch:!!("ontouchstart"in window),isInitialized:!1},o}),define("modules/editorial_360_viewer/index",["require","modules/editorial_360_viewer/module","require/sony-global-settings","secondary/sony-init-module-below-viewport"],function(e){var t=e("modules/editorial_360_viewer/module"),i=e("require/sony-global-settings"),n=e("secondary/sony-init-module-below-viewport");return n({initializeImmediately:i.isRTL,triggerElement:$(".editorial_360_viewer"),callback:t.init}),{Editorial360Viewer:t}}),define("modules/editorial_carousel/module",["require","jquery","modernizr","enquire","require/sony-global-environment","require/sony-global-settings","secondary/index"],function(e){var t=e("jquery"),i=e("modernizr"),n=e("enquire"),o=e("require/sony-global-environment"),s=e("require/sony-global-settings"),a=e("secondary/index").sonyModal,r={init:function(){var e=t(".ec-module");e.length&&e.each(function(){new l(this)})}},l=function(e){var i=this;i.isDesktop=!1,i.isMobile=!1,i.$el=t(e),i.init(),i.addClicksForVideoModal(),log("SONY : EditorialCarousel : Initialized")};return l.prototype={constructor:l,init:function(){var e=this;e.initialized=!1,e.$wrapper=e.$el.find(".sony-carousel-wrapper"),e.$carousel=e.$el.find(".sony-carousel"),e.$carouselSlideChildren=e.$carousel.find(".sony-carousel-slide-children"),e.$titles=e.$el.find(".tile-title"),e.$subtitles=e.$el.find(".tile-subtitle"),e.paginationTheme="dark"===e.$el.data("mode")?"light":"dark",e.selectedTile=Math.round(e.$carousel.data("selectedTile"))||0,e.$videoTiles=e.$carousel.find(".js-video-tile"),e.setupBreakpoints().onResize(),o.on("global:resizeDebounced",t.proxy(e.onResize,e)),e.fadeIn(),e.initialized=!0},fadeIn:function(){var e=this;setTimeout(function(){e.$el.find(".m-container").addClass("in")},0)},initCarousel:function(){var e=this;e.$carousel.sonyCarousel({wrapper:".sony-carousel-wrapper",slides:".sony-carousel-slide",pagination:!0,paddles:!0,showPaddlesInTouch:!0,paddlePosition:"outset",paginationTheme:e.paginationTheme,looped:!s.isPS3,jumping:!s.isPS3,axis:"x",dragThreshold:2,selectedSlide:Math.floor(e.selectedTile/4)})},updateCarousel:function(){return this.$carousel.sonyCarousel("resetSlides").sonyCarousel("gotoNearestSlide"),this},fixCarousel:function(){return this.initialized?this.updateCarousel():this.initCarousel(),this},onResize:function(){function e(){t.$titles.evenHeights(),t.$subtitles.evenHeights()}var t=this;return requestAnimationFrame(e),t},setupBreakpoints:function(){var e=this,t="(min-width: 48em)",o="(min-width: 48em) and (max-width: 61.1875em)",s="(min-width: 61.25em)",a="(max-width: 47.9375em)";return e.isTabletAndDesktopOnLoad=i.mq(o)&&i.mq(t),i.mediaqueries?n.register(t,function(){e.setupDesktop()}).register(o,function(){e.setupTablet()}).register(s,function(){e.teardownTablet()}).register(a,function(){e.setupMobile()}):e.setupDesktop(),e},setupDesktop:function(){var e=this,t=e.isMobile,n=i.mq("(min-width: 48em) and (max-width: 61.1875em)");t&&(e.$el.find(".m-container").removeClass("container"),e.$el.find(".sony-carousel-slide").removeClass("slimgrid"),e.$wrapper.removeClass("grid"),n||e.arrangeItemsInSlides(4)),e.isTabletAndDesktopOnLoad!==!0&&e.fixCarousel(),e.isTabletAndDesktopOnLoad=!1,e.isDesktop=!0,e.isMobile=!1},setupTablet:function(){var e=this;e.arrangeItemsInSlides(3),e.fixCarousel(),e.isTablet=!0},teardownTablet:function(){var e=this;e.isTablet&&(e.arrangeItemsInSlides(4),e.fixCarousel(),e.isTablet=!1)},setupMobile:function(){var e=this;e.arrangeItemsInSlides(2),e.$el.find(".m-container").addClass("container"),e.$wrapper.addClass("grid"),e.$el.find(".sony-carousel-slide").addClass("slimgrid"),e.fixCarousel(),e.isDesktop=!1,e.isMobile=!0},arrangeItemsInSlides:function(e){var t,i,n,o,s,a=this,r=document,l=r.createDocumentFragment(),d=a.$carouselSlideChildren,u=d.length,c=Math.ceil(u/e),h=0;for(d.detach().removeClass("span2 span3 span4 span6").addClass("span"+12/e);c>h;h++){for(n=r.createElement("div"),n.className="sony-carousel-slide",o=r.createElement("div"),o.className="container",s=r.createElement("div"),s.className="slimgrid",t=0;e>t;t++)i=h*e+t,d[i]&&s.appendChild(d[i]);o.appendChild(s),n.appendChild(o),l.appendChild(n)}a.$carousel.empty().append(l)},addClicksForVideoModal:function(){var e=this;o.trigger("pausevideo"),e.$videoTiles.on("click",function(){a.create({content:t(this).find(".sony-video")}),o.trigger("global:onAddonClick")})}},r}),define("modules/editorial_carousel/index",["require","modules/editorial_carousel/module","secondary/sony-init-module-below-viewport"],function(e){var t=e("modules/editorial_carousel/module"),i=e("secondary/sony-init-module-below-viewport");return i({triggerElement:$(".editorial_carousel"),callback:t.init}),{EditorialCarouselE13:t}}),define("secondary/jquery.simpleknob",["require","jquery"],function(e){var t=e("jquery"),i={},n=Math.max,o=Math.min;i.c={},i.c.d=t(document),i.o=function(){var e=this;this.o=null,this.$=null,this.i=null,this.g=null,this.v=null,this.cv=null,this.x=0,this.y=0,this.w=0,this.h=0,this.$c=null,this.c=null,this.isInit=!1,this.fgColor=null,this.dH=null,this.cH=null,this.eH=null,this.rH=null,this.scale=1,this.relative=!1,this.relativeWidth=!1,this.relativeHeight=!1,this.$div=null,this.run=function(){var i=function(t,i){var n;for(n in i)e.o[n]=i[n];e._carve().init(),e._configure()._draw()};if(!this.$.data("kontroled"))return this.$.data("kontroled",!0),this.extend(),this.o=t.extend({min:this.$.data("min")||0,max:this.$.data("max")||100,stopper:!0,readOnly:this.$.data("readonly"),thickness:this.$.data("thickness")||.4,lineCap:this.$.data("linecap")||"butt",width:this.$.data("width")||200,height:this.$.data("height")||200,fgColor:this.$.data("fgcolor")||"#87CEEB",inputColor:this.$.data("inputcolor")||this.$.data("fgcolor")||"#87CEEB",inline:!1,format:function(e){return e},fontSize:this.$.data("fontsize")},this.o),this.i=this.$,this.v=this.$.val(),""===this.v&&(this.v=this.o.min),this.$.bind("change",function(){e.val(e.$.val())}),this.$c=t('<canvas width="'+this.o.width+'px" height="'+this.o.height+'px"></canvas>'),this.c=this.$c[0].getContext("2d"),this.$div=t('<div style="position: relative; '+(this.o.inline?"display:inline;":"")+"width:"+this.o.width+"px;"+this.o.height+'px;"></div>'),this.$.wrap(this.$div).before(this.$c),this.$div=this.$.parent(),this.v instanceof Object?(this.cv={},this.copy(this.v,this.cv)):this.cv=this.v,this.scale=(window.devicePixelRatio||1)/(this.c.webkitBackingStorePixelRatio||this.c.mozBackingStorePixelRatio||this.c.msBackingStorePixelRatio||this.c.oBackingStorePixelRatio||this.c.backingStorePixelRatio||1),this.relativeWidth=this.o.width%1!==0&&this.o.width.indexOf("%"),this.relativeHeight=this.o.height%1!==0&&this.o.height.indexOf("%"),this.relative=this.relativeWidth||this.relativeHeight,this._carve(),this.v instanceof Object?(this.cv={},this.copy(this.v,this.cv)):this.cv=this.v,this.$.bind("configure",i).parent().bind("configure",i),this._configure()._xy().init(),this.isInit=!0,this.$.val(this.o.format(this.v)),this._draw(),this},this._carve=function(){if(this.relative){var e=this.relativeWidth?this.$div.parent().width()*parseInt(this.o.width)/100:this.$div.parent().width(),t=this.relativeHeight?this.$div.parent().height()*parseInt(this.o.height)/100:this.$div.parent().height();this.w=this.h=Math.min(e,t)}else this.w=this.o.width,this.h=this.o.height;return this.$div.css({width:this.w+"px",height:this.h+"px"}),this.$c.attr({width:this.w,height:this.h}),1!==this.scale&&(this.$c[0].width=this.$c[0].width*this.scale,this.$c[0].height=this.$c[0].height*this.scale,this.$c.width(this.w),this.$c.height(this.h)),this},this._draw=function(){var t=!0,i=document.createElement("canvas");i.width=e.o.width,i.height=e.o.height,e.g=i.getContext("2d"),e.clear(),e.dH&&(t=e.dH()),t!==!1&&e.draw(),e.c.drawImage(i,0,0),i=null},this._xy=function(){var e=this.$c.offset();return this.x=e.left,this.y=e.top,this},this._configure=function(){return this.fgColor=this.o.fgColor,this},this._clear=function(){this.$c[0].width=this.$c[0].width},this.listen=function(){},this.extend=function(){},this.init=function(){},this.change=function(){},this.val=function(){},this.xy2val=function(){},this.draw=function(){},this.clear=function(){this._clear()},this.h2rgba=function(e,t){var i;return e=e.substring(1,7),i=[parseInt(e.substring(0,2),16),parseInt(e.substring(2,4),16),parseInt(e.substring(4,6),16)],"rgba("+i[0]+","+i[1]+","+i[2]+","+t+")"},this.copy=function(e,t){for(var i in e)t[i]=e[i]}},i.Dial=function(){i.o.call(this),this.startAngle=null,this.xy=null,this.radius=null,this.lineWidth=null,this.w2=null,this.PI2=2*Math.PI,this.extend=function(){this.o=t.extend({bgColor:this.$.data("bgcolor")||"#EEEEEE",angleOffset:this.$.data("angleoffset")||0,angleArc:this.$.data("anglearc")||360,inline:!0},this.o)},this.val=function(e){return null===e?this.v:(this.cv=this.o.stopper?n(o(e,this.o.max),this.o.min):e,this.v=this.cv,this.$.val(this.v),this._draw(),void 0)},this.xy2val=function(e,t){var i,s;return i=Math.atan2(e-(this.x+this.w2),-(t-this.y-this.w2))-this.angleOffset,this.angleArc!=this.PI2&&0>i&&i>-.5?i=0:0>i&&(i+=this.PI2),s=~~(.5+i*(this.o.max-this.o.min)/this.angleArc)+this.o.min,this.o.stopper&&(s=n(o(s,this.o.max),this.o.min)),s},this.init=function(){(this.v<this.o.min||this.v>this.o.max)&&(this.v=this.o.min),this.$.val(this.v),this.w2=this.o.width/2,this.xy=this.w2,this.lineWidth=this.xy*this.o.thickness,this.lineCap=this.o.lineCap,this.radius=this.xy-this.lineWidth/2,this.o.angleOffset&&(this.o.angleOffset=isNaN(this.o.angleOffset)?0:this.o.angleOffset),this.o.angleArc&&(this.o.angleArc=isNaN(this.o.angleArc)?this.PI2:this.o.angleArc),this.angleOffset=this.o.angleOffset*Math.PI/180,this.angleArc=this.o.angleArc*Math.PI/180,this.startAngle=1.5*Math.PI+this.angleOffset,this.endAngle=1.5*Math.PI+this.angleOffset+this.angleArc;n(String(Math.abs(this.o.max)).length,String(Math.abs(this.o.min)).length,2)+2;this.i.css({width:"0px",visibility:"hidden"})},this.change=function(e){this.cv=e,this.$.val(e)},this.angle=function(e){return(e-this.o.min)*this.angleArc/(this.o.max-this.o.min)},this.draw=function(){var e=this.g,t=this.angle(this.cv),i=this.startAngle,n=i+t,o=1;e.lineWidth=this.lineWidth,e.lineCap=this.lineCap,e.beginPath(),e.strokeStyle=this.o.bgColor,e.arc(this.xy,this.xy,this.radius,this.endAngle,this.startAngle,!0),e.stroke(),e.beginPath(),e.strokeStyle=o?this.o.fgColor:this.fgColor,e.arc(this.xy,this.xy,this.radius,i,n,!1),e.stroke()},this.cancel=function(){this.val(this.v)}},t.fn.simpleKnob=function(e){return this.each(function(){var n=document.createElement("canvas");if(n.getContext&&n.getContext("2d")){var o=new i.Dial;o.o=e,o.$=t(this),o.run()}}).parent()}}),define("modules/ux_marketing_convergence/module",["require","jquery","iQ","modernizr","enquire","require/sony-global-settings","require/sony-global-utilities","require/sony-global-environment","secondary/jquery.simpleknob","secondary/index"],function(e){var t=e("jquery"),i=e("iQ"),n=e("modernizr"),o=e("enquire"),s=e("require/sony-global-settings"),a=e("require/sony-global-utilities"),r=(e("require/sony-global-environment"),e("secondary/jquery.simpleknob"),e("secondary/index").sonyCarousel,{init:function(e){t(".uxmc-container").each(function(){new l(this,e)})}}),l=function(e,i){var n=this;t.extend(this,{},r.defaults,i,r.settings),n.$el=t(e),n.isInit=!0,n.isAutomatic=!0,n.currentPartnerProduct=0,n.rAF=void 0,n.dialStyle=void 0,n.$dialWrappers=n.$el.find(".uxmc-dial-wrapper"),n.$dialLabels=n.$dialWrappers.find(".uxmc-dial-label"),n.$dials=n.$dialWrappers.find(".uxmc-dial"),n.$carouselInstance=void 0,n.$carousel=n.$el.find(".uxmc-carousel"),n.$carouselSlides=n.$carousel.find(".sony-carousel-slide"),n.init(),log("SONY : MarketingConvergenceModule : Initialized")};return l.prototype={constructor:l,init:function(){var e=this,t=e.$carousel.find(".sony-carousel-slide-children");e.initCarousel(),t.length>1&&(e.setDialEvents(),s.$html.hasClass("lt-ie10")?e.reset():e.registerEnquire()),e.fadeInContent(e.currentPartnerProduct)},initCarousel:function(){var e=this;e.$carouselInstance=e.$carousel.sonyCarousel({direction:"vertical",wrapper:".uxmc-carousel-wrapper",slides:".sony-carousel-slide",useCSS3:!0,draggable:!1,showPaddlesInTouch:!0,jumping:!0}),e.$carouselInstance.on("SonyCarousel:gotoSlide",function(t,i){var n=i;n!=e.carouselGoingToSlide&&e.$carouselInstance.sonyCarousel("gotoSlide",e.carouselGoingToSlide,!0)})},setDialEvents:function(){var e,i,n=this;n.$dialWrappers.on("mousedown",function(o){o.preventDefault(),e=t(this).index(),i=e===n.currentPartnerProduct?!0:!1,(!i||i&&n.isAutomatic)&&(n.setDialStyle("off"),n.turnDialOff(t(n.$activeDial).parent()),n.setDialStyle("on"),n.turnDialOn(t(this)),n.currentPartnerProduct=e,n.gotoPartnerProduct(n.currentPartnerProduct)),n.isAutomatic&&(n.isAutomatic=!1,n.killAutomation())}).on("mouseover",function(){i=t(this).index()==n.currentPartnerProduct?!0:!1,(i&&n.isAutomatic||!i)&&(n.setDialStyle("on"),n.turnDialOn(t(this)))}).on("mouseout",function(){i=t(this).index()==n.currentPartnerProduct?!0:!1,(i&&n.isAutomatic||!i)&&(n.setDialStyle("off"),n.turnDialOff(t(this))),n.isAutomatic&&t(this).index()==n.prevPartnerProduct&&(n.setDialStyle("off"),n.turnDialOffFull(t(this)))})},registerEnquire:function(){var e=this;n.mediaqueries&&(o.register(a.enquire.min(568),function(){var t=e.isMobile;e.reset(),t&&e.resizeDials(),e.isDesktop=!0,e.isMobile=!1}),o.register(a.enquire.max(567),function(){var t=e.isDesktop;e.reset(),t&&e.resizeDials(),e.isDesktop=!1,e.isMobile=!0}))},reset:function(){var e=this;e.resetDials(),e.isAutomatic&&(e.animationLoop(),e.resetPartnerCarouselInterval()),e.turnDialOn(e.$dialWrappers.eq(e.currentPartnerProduct)),e.fadeInContent(e.currentPartnerProduct),s.isLTIE9||(e.setButtonColor(e.currentPartnerProduct),e.$el.find(".btn-reload-container").addClass("on"))},setActiveDial:function(){var e=this,i=e.$activeDial;e.$activeDial=e.$dials.eq(e.currentPartnerProduct),e.$activeDialLabel=e.$activeDial.closest(e.$dialWrappers).find(e.$dialLabels),t(i).closest(e.$dialWrappers).index()!=t(e.$activeDial).closest(e.$dialWrappers).index()&&(e.$prevActiveDial=i),e.$dialLabels.removeClass("active"),e.$activeDialLabel.addClass("active")},resizeDials:function(){var e=this;e.setDialStyle("off"),e.$dials.not(e.$activeDial).trigger("change").trigger("configure",e.dialStyle),e.isAutomatic?(e.setDialStyle("off"),void 0!==e.$prevActiveDial&&e.$prevActiveDial.val(100).trigger("change").trigger("configure",e.dialStyle)):(e.setDialStyle("on"),e.turnDialOn(e.$dialWrappers.eq(e.currentPartnerProduct))),e.carouselGoingToSlide=e.currentPartnerProduct,e.$carouselInstance.sonyCarousel("gotoSlide",e.currentPartnerProduct,!0)},resetDials:function(){var e=this;e.$dials.not(e.$activeDial).val(0).trigger("change"),e.slideStartTime=new Date,e.setActiveDial(),e.setDialStyle("off"),e.$dials.simpleKnob(e.dialStyle).show()},setDialStyle:function(e){var t=this,i=n.mq("(max-width: 567px)"),o=window.devicePixelRatio=2,s={width:48,height:48,thickness:.3,bgColor:"rgba(255, 255, 255, 0.5)",fgColor:"#fff"},a={width:24,height:24,thickness:.3,bgColor:"rgba(255, 255, 255, 0.5)",fgColor:"#fff"},r={width:48,height:48,thickness:1,bgColor:"rgba(255, 255, 255, 1.0)",fgColor:"#fff"},l={width:24,height:24,thickness:1,bgColor:"rgba(255, 255, 255, 1.0)",fgColor:"#fff"},d={width:40,height:40,thickness:.3,bgColor:"rgba(255, 255, 255, 0.5)",fgColor:"#fff"},u={width:20,height:20,thickness:.3,bgColor:"rgba(255, 255, 255, 0.5)",fgColor:"#fff"},c={width:40,height:40,thickness:1,bgColor:"rgba(255, 255, 255, 1.0)",fgColor:"#fff"},h={width:20,height:20,thickness:1,bgColor:"rgba(255, 255, 255, 1.0)",fgColor:"#fff"};i&&"on"===e?t.dialStyle=o?c:h:i&&"off"===e?t.dialStyle=o?d:u:i||"on"!==e?i||"off"!==e||(t.dialStyle=o?s:a):t.dialStyle=o?r:l},turnDialOff:function(e){var t=this,i=e.find("input.uxmc-dial");i.val(0).trigger("change").trigger("configure",t.dialStyle)},turnDialOffFull:function(e){var t=this,i=e.find("input.uxmc-dial");i.val(100).trigger("change").trigger("configure",t.dialStyle)},turnDialOn:function(e){var t=this,i=e.find("input.uxmc-dial");i.trigger("configure",t.dialStyle)},killAutomation:function(){var e=this;e.partnerCarouselInterval&&(clearInterval(e.partnerCarouselInterval),e.partnerCarouselInterval=null),window.cancelAnimationFrame(e.rAF)},resetPartnerCarouselInterval:function(){var e=this;e.partnerCarouselInterval&&(clearInterval(e.partnerCarouselInterval),e.partnerCarouselInterval=null),e.isAutomatic&&(e.partnerCarouselInterval=setInterval(function(){var t=e.currentPartnerProduct===e.$carouselSlides.length-1?0:e.currentPartnerProduct+1;e.gotoPartnerProduct(t)},e.rotationSpeed))},gotoPartnerProduct:function(e){var t=this,n=s.isAndroid;t.prevPartnerProduct=t.currentPartnerProduct,t.fadeOutContent(t.currentPartnerProduct),t.carouselGoingToSlide=e,t.$carouselInstance.sonyCarousel("gotoSlide",e,n),t.fadeInContent(e),s.isLTIE9||t.setButtonColor(e),t.currentPartnerProduct=e,i.update(),t.resetDials()},setButtonColor:function(e){var t=this,i=t.$el.find(".btn-reload"),n=t.$carouselSlides.eq(e);i.css("color",n.css("background-color"))},fadeOutContent:function(e){var t=this;t.$carouselSlides.eq(e).find(".sony-carousel-slide-children").removeClass("active")},fadeInContent:function(e){var t=this;t.$carouselSlides.eq(e).find(".sony-carousel-slide-children").addClass("active")},animationLoop:function(){var e,i=this;i.isAutomatic?(i.isInit?(e=(new Date-i.slideStartTime)/i.rotationSpeed*100,i.isInit=!1):e=(new Date-i.slideStartTime-i.transitionTime)/(i.rotationSpeed-i.transitionTime)*100,0>e&&(e=0),i.rAF=window.requestAnimationFrame(t.proxy(i.animationLoop,i)),i.$activeDial&&i.$activeDial.val(e).trigger("change")):i.killAutomation()}},r.defaults={rotationSpeed:5e3,transitionTime:750},r}),define("modules/ux_marketing_convergence/index",["require","modules/ux_marketing_convergence/module","secondary/sony-init-module-below-viewport"],function(e){var t=e("modules/ux_marketing_convergence/module"),i=e("secondary/sony-init-module-below-viewport");return i({triggerElement:$(".uxmc.gwt-module"),callback:t.init}),{MarketingConvergenceModule:t}}),define("modules/editorial_hotspots/module",["require","jquery","iQ","bootstrap","enquire","require/sony-global-settings","require/sony-global-environment","require/sony-global-utilities"],function(e){var t=e("jquery"),i=(e("iQ"),e("bootstrap"),e("enquire")),n=e("require/sony-global-settings"),o=e("require/sony-global-environment"),s=(e("require/sony-global-utilities"),{init:function(){t(".hotspot-instance").each(function(){t(this).hotspotsController({})})}}),a=function(e,i){var o=this;o.$window=n.$window,o.windowWidth=n.windowWidth,o.$container=t(e),o.$els=o.$container.find(".hspot-outer"),o.$elsDefaultOpen=o.$container.find(".hspot-outer.hspot-open-default"),o.$elsAlwaysOpen=o.$container.find(".hspot-outer.hspot-open-always"),o.$elsAddonLogo=o.$container.find(".hspot-outer.hspot-mode-logo, .hspot-outer.hspot-mode-imageonly, .hspot-outer.hspot-mode-textonly"),o.$el=t(e),o.lastOpen=null,o.$transitionSpeed=500,o.$lastTimer=null,o.lastOverlayTimeout=null,o.lastWidth=null,o.lastHeight=null,o.direction=null,o.directionV=null,o.variant1TopHeight=145,o.variant2TopHeight=119,o.variant1FloorHeight=100,o.variant2FloorHeight=108,o.variant1Differential=145,o.variant2Differential=120,o.showOverlayCentered=o.$window.width()<768,o.lastOverlayFadein=null,o.lastOverlayFadeout=null,o.lastCenteredOverlay=null,o.trackingMode=null,o.trackingState="off",o.trackOpacity=null,o.trackOpacityTimer=null,o.canShowHotspots=!1,o.curAnimationCount=0,o.id=null,o.variant=null,o.$modal=o.$container.find(".hotspot-modal"),o.$modalBody=o.$modal.find(".modal-body"),o.isModalOpen=!0,o.scrollPosition=0,o.modalScrollPosition=0,o.hasTouch=n.hasTouchEvents,o.isChapter=o.$container.closest(".editorial-chapters-container").length?!0:!1,o.isSmallChapter=o.$container.closest(".editorial-chapters-container").parents(".media-element").length?!0:!1,o.isDesktop=!1,o.isMobile=!1,t.extend(o,{},t.fn.hotspotsController.defaults,i,t.fn.hotspotsController.settings),o.init()};return a.prototype={constructor:a,init:function(){var e=this,i=e.$container.closest(".image-module"),s=e.$container.parents(".editorial").find(".container.inner").length,a=s?e.$container.parents(".editorial").find(".container.inner"):e.$container.closest(".image-module");if(i.hasClass("track-by-background")?(e.trackingMode="background",e.trackingAsset=i,e.variant="variant1"):i.hasClass("track-by-asset")?(e.trackingMode="asset",e.trackingAsset=t(i.children(".iq-img")[0]),e.variant="variant2"):(e.trackingMode="none",e.trackingAsset=i,e.variant="variant1"),a.on("click",function(t){var i=t.target,n=i.nodeName;e.isMobile||"A"===n||"BUTTON"===n||(t.preventDefault(),e.clickOutside(t,e))}),e.id=e.trackingAsset.attr("id"),n.isLTIE9){e.hotspotId=e.id+"-hotspot",n.$body.append('<div class="ltie8-hotspot '+e.variant+'" id="'+e.hotspotId+'" />'),n.$body.append('<div class="ltie8-hotspot-arrow-left-'+e.variant+' hidden" id="'+e.hotspotId+'-arrow-left" />'),n.$body.append('<div class="ltie8-hotspot-arrow-right-'+e.variant+' hidden" id="'+e.hotspotId+'-arrow-right" />');var r=e.$container.parent().parent(),l=r.hasClass("full-inner"),d=r.find(".container").not(".inner").find("div.image-module"),u=r.find(".container.inner");!0===l&&d.prepend(u.remove())}e.trackOpacity=function(){switch(e.trackingAsset.css("opacity")){case void 0:case"undefined":clearInterval(e.trackOpacityTimer);break;case"1":clearInterval(e.trackOpacityTimer),e.canShowHotspots=!0,c()}},e.trackHeight=function(){"none"!==e.trackingAsset.css("background-image")&&(clearInterval(e.trackOpacityTimer),e.canShowHotspots=!0,c())},"asset"===e.trackingMode?e.trackOpacityTimer=setInterval(e.trackOpacity,50):"background"===e.trackingMode?e.trackOpacityTimer=setInterval(e.trackHeight,1e3):(e.$el.on("HotspotsController:show",function(){e.canShowHotspots=!0,e.show()}),e.$el.on("HotspotsController:hide",t.proxy(e.hide,e)));var c=function(){e.follow(),e.show()};e.trackingAsset.get(0).addEventListener("imageLoaded",function(){e.follow(),e.show()}),e.setupBreakpoints(),e.$els.each(function(t,i){e.bind(i),e.place(i)}),e.$modal.on("show",t.proxy(e.onModalShow,e)),e.$modal.on("shown",t.proxy(e.onModalShown,e)),e.$modal.on("hidden",t.proxy(e.onModalClosed,e)),n.isLTIE9&&e.$modalBody.removeClass("fade"),e.$window.scroll(function(){e.trackingState="fadein",e.follow()}),o.on("global:resizeDebounced",t.proxy(e.follow,e)),setTimeout(c,200),e.$window.on("e5-slide-change",function(){n.isLTIE9||e.isSmallChapter?e.reset():""}),e.bindAPI()},bindAPI:function(){var e=this;return e.$el.on("HotspotsController:reset",function(){e.reset()}),e},setupBreakpoints:function(){var e=this;i&&(i.register("(max-width: 767px)",function(){e.isMobile=!0,e.isDesktop=!1,e.showOverlayCentered=!0,e.follow(),e.lastOpen&&e.reanchor(e.lastOpen[0],e.lastOpen[1],e.lastOpen[2],!0)}),i.register("(min-width: 768px)",function(){e.isMobile=!1,e.isDesktop=!0,e.showOverlayCentered=!1,e.follow(),e.lastOpen&&e.reanchor(e.lastOpen[0],e.lastOpen[1],e.lastOpen[2],!1)}))},onModalShow:function(){var e=this,i=(e.getMaxModalHeights().maxBodyHeight,e.$modal.height(),e.scrollPosition);e.modalScrollPosition=i,e.$modal.offset({top:0}),e.scrollPosition=t(window).scrollTop(),e.$modal.css({height:e.$modal.find(".modal-inner").height()+"px"}),setTimeout(function(){t("html, body").animate({scrollTop:0},0)},1e3)},onModalShown:function(e){var t=this,i=t.$modal.find(".modal-inner").height()+50;t.isModalOpen=!0,e.stopPropagation(),t.getMaxModalHeights(),t.$el.trigger("HotspotsController:onModalShown"),n.$body.css({height:i+"px",maxHeight:"100%",overflow:"visible"})},onModalClosed:function(e){var i=this;e.stopPropagation(),n.$body.css({height:"",maxHeight:"",overflow:""}),t(window).scrollTop(i.scrollPosition),i.isModalOpen=!1,i.isFadedIn=!1,i.lastOpen&&i.showOverlayCentered&&i.close(i.lastOpen[0],i.lastOpen[1],i.lastOpen[2]),n.$body.find(".modal-backdrop").remove(),i.$el.trigger("HotspotsController:onModalClosed")},getMaxModalHeights:function(){var e,t,i,n=this;return e=n.$window.height(),t=.9*e,t=Math.min(t,900),i=t,{maxModalHeight:t,maxBodyHeight:i}},follow:function(){var e=this;e.$modal.offset({top:0}),("asset"===e.trackingMode||"background"===e.trackingMode)&&e.$els.each(function(i,n){var o=(e.trackingAsset.position().left,e.trackingAsset.position().top,t(n).data("x").replace("%","")),s=t(n).data("y").replace("%",""),a=e.trackingAsset.width(),r=e.trackingAsset.innerHeight(),l=null,d=null,u=0,c=0;u=(e.trackingAsset.parent().width()-a)/2,c=parseInt(e.trackingAsset.parent().css("padding-top"),10);var h,p,f,m,g,v=0;g=t(n).find(".hspot-logo").width(),v=t(n).find(".hspot-logo").height(),p=30,h=a-(g+30),f=30,m=r-v,t(n).hasClass("top-right")?(l=h,d=f):t(n).hasClass("bottom-right")?(l=h,d=m):t(n).hasClass("top-left")?(l=p,d=f):t(n).hasClass("bottom-left")?(l=p,d=m):(l=o+"%",d=s+"%"),t(n).css({left:l,top:d})})},disableScroll:function(e){e?(document.documentElement.style.overflow="hidden",document.body.scroll="no"):(document.documentElement.style.overflow="auto",document.body.scroll="yes")},hover:function(e,i,n){n?t(e).find(".hspot-core, .hspot-core-on").removeClass("hspot-hover-off").addClass("hspot-hover-on"):t(e).find(".hspot-core, .hspot-core-on").removeClass("hspot-hover-on").addClass("hspot-hover-off")},bind:function(e){var i=this,n=t(e).find(".hspot-core"),o=t(e).find(".overlay-base");(o.length||!t(e).hasClass("disable-overlay"))&&n.on("click",function(e){e.stopPropagation(),i.click(e,i)}),n.on("mouseover",function(){i.hover(e,i,!0)}),n.on("mouseout",function(){i.hover(e,i,!1)})},place:function(e){var i,n=this,o=t(e);"background"===n.trackingMode||"none"===n.trackingMode?(o=t(e),i=o.data(),o.css({left:i.x,top:i.y})):n.follow(e)},show:function(){var e=this,i=400;e.canShowHotspots===!0&&(e.$els.each(function(n,o){if(t(o).hasClass("eh-transparent")){var s=function(){e.canShowHotspots&&t(o).removeClass("eh-transparent").addClass("eh-visible")};setTimeout(s,n*i)}}),e.$elsAddonLogo.each(function(i,n){var o=t(n),s=o.find(".hspot-core, .hspot-core-on"),a=o.find(".arrow-left, .arrow-right");e.openAddOn(o,s),s.addClass("no-ranchor"),s.hide(),a.hide(),o.css("background","none")}),e.isMobile||(e.$elsDefaultOpen.each(function(i,n){var o=t(n),s=o.find(".hspot-core, .hspot-core-on"),a=o.find(".overlay-base");e.open(o,s,a)}),e.$elsAlwaysOpen.each(function(i,n){var o=t(n),s=o.find(".hspot-core, .hspot-core-on"),a=o.find(".arrow-left, .arrow-right"),r=o.find(".overlay-base");e.open(o,s,r),s.hide(),a.hide(),o.css("background","none")})))},hide:function(){var e=this;e.canShowHotspots=!1,e.$els.not(".hspot-open-always").removeClass("eh-visible").addClass("eh-transparent")},find:function(e){var i=this;i.$els.each(function(i,n){return t(n).is(e)?n:void 0})},click:function(e,i){var n=t(e.currentTarget).parent(),o=n.find(".hspot-core, .hspot-core-on"),s=n.find(".overlay-base");n.hasClass("disable-overlay")||("open"===n.data("state")?i.close(n,o,s):(i.lastOpen&&!n.is(i.lastOpen)&&i.reset(),i.open(n,o,s)))},clickOutside:function(e,t){t.lastOpen&&t.reset()},reanchor:function(e,i,o,s){if(!t(i).hasClass("no-ranchor")){var a=this,r=null,l=null,d=a.$modal.find(".modal-body");s?(o.addClass("hidden"),setTimeout(function(){r="none",a.scrollPosition=t(window).scrollTop(),l=n.isIPhone||n.isAndroid?window.innerHeight:a.$window.height(),n.isSonyTabletS||a.$modalBody.css("maxHeight",r),a.$modal.css("height","")},0),o.children().clone(!0).appendTo(d.empty()),d.find(".overlay-inner").removeClass("eh-transparent").addClass("eh-visible"),d.find(".box-close").removeClass("hidden"),a.$modal.modal({backdrop:!0,keyboard:!0,show:!0})):(o.removeClass("hidden"),o.find(".overlay-base").removeClass("hidden"),o.find(".overlay-inner").removeClass("eh-transparent").addClass("eh-visible"),a.$modal.modal("hide"))}},repositionByQuadrant:function(e){{var t=this,i=e.parent(),n=i.width(),o=i.height(),s=e,a=s.position(),r=e.find(".overlay-base"),l=r.height(),d=(r.width(),r.hasClass("variant2")?!0:!1),u=r.find(".top"),c=u.height(),h=c>0?!0:!1,p=r.find(".footer"),f=""===p.html()?!1:!0,m=r.find(".middle"),g=!1===h&&!1===f?m.outerHeight()-m.css("padding-bottom").replace("px",""):m.outerHeight(),v=73.26102088*g/100+c,y=11.11111111*g/100+c,b=74.5*g/100+c,$=10.71428571*g/100+c,w=d?b:v,C=d?$:y,x=0,T=[],S=0,I=s.hasClass("hspot-open-always");s.hasClass("hspot-open-default")}switch(T[0]=a.left<n/2?2:4,T[1]=a.top<o/2?6:7,T[0]+T[1]){case 8:S=2;
break;case 10:S=1;break;case 9:S=3;break;case 11:S=4}if(x=a.top-o+l,I)return r.addClass("to-right").removeClass("to-left"),2===S?t.isSmallChapter?r.css("top","-"+(C+20)+"px"):r.css("top","-"+C+"px"):t.isSmallChapter?r.css("top","-"+(C+20)+"px"):r.css("top","-"+w+"px"),void r.css("top","-"+(l/2-25)+"px");switch(S){case 1:case 4:r.addClass("to-left").removeClass("to-right"),r.parent().find(".arrow-right").removeClass("eh-transparent").addClass("eh-visible"),r.parent().find(".arrow-left").removeClass("eh-visible").addClass("eh-transparent"),1===S?t.isSmallChapter?r.css("top","-"+C+"px"):r.css("top","-"+C+"px"):t.isSmallChapter?r.css("top","-"+w+"px"):r.css("top","-"+w+"px");break;case 5:t.isSmallChapter?r.css("top","-"+C+"px"):r.css("top","-"+w+"px");break;case 2:case 3:r.addClass("to-right").removeClass("to-left"),r.parent().find(".arrow-left").removeClass("eh-transparent").addClass("eh-visible"),r.parent().find(".arrow-right").removeClass("eh-visible").addClass("eh-transparent"),2===S?t.isSmallChapter?r.css("top","-"+(C+20)+"px"):r.css("top","-"+C+"px"):t.isSmallChapter?r.css("top","-"+(C+20)+"px"):r.css("top","-"+w+"px")}r.css("top","-"+(l/2-25)+"px")},getCanvasCoordinates:function(){var e={},t=this.$container.closest(".editorial-carousel-slide.active .hotspot-module");return e.el=t,e.h=t.height(),e.w=t.width(),e.x=0,e.x2=e.w-80,e.y=0,e.y2=e.h-80,e},getOverlayCoords:function(e){var t={},i=e.offset();return t.el=e,t.h=e.height(),t.w=e.width(),t.x=i&&i.left,t.x2=t.x+t.w,t.y=i&&i.top,t.y2=t.y+t.h,t},checkOverlap:function(e,t,i){var n=t.el,o=n.find(".top"),s=n.find(".footer");return e.h-100<t.h?(o&&1===i&&o.addClass("hidden"),s&&i>1&&s.addClass("hidden"),!0):(o.hasClass("hidden")&&o.removeClass("hidden"),s.hasClass("hidden")&&s.hasClass("is-default-on")&&s.removeClass("hidden"),!1)},checkIfFits:function(e){var t,i,n,o=this,s=("asset"===o.trackingMode?e.parent().parent().parent():e.parent(),e.find(".overlay-base")),a=0;do i=o.getCanvasCoordinates(),t=o.getOverlayCoords(s),a++,o.checkOverlap(i,t,a)?a>=5&&(o.repositionByQuadrant(e),n=!0):(o.repositionByQuadrant(e),n=!0);while(!n)},transition:function(e,i){t(e).each(function(e,n){switch(i){case"on":t(n).removeClass("eh-transparent").addClass("eh-visible");break;case"off":t(n).removeClass("eh-visible").addClass("eh-transparent")}})},close:function(e,i,o){var s=this;s.cleanTimer(),e.data("state","closed").removeClass("info-jump-to-top"),i.addClass("hspot-core").removeClass("hspot-core-on"),(n.isLTIE8||n.isLTIE9)&&i.parent().removeClass("ie-on"),n.isLTIE9&&(n.$body.find("#"+s.hotspotId).html(""),t("#"+s.hotspotId+"-arrow-left").addClass("hidden"),t("#"+s.hotspotId+"-arrow-right").addClass("hidden")),s.transition([o.parent().find(".arrow-left"),o.parent().find(".arrow-right"),o.find(".overlay-inner")],"off"),s.transition([o.parent().find(".hspot-label")],"on");var a=function(){o.addClass("hidden")};s.$lastTimer=setTimeout(a,s.$transitionSpeed),s.lastOpen=null,s.$el.trigger("HotspotsController:popupClosed",e.data("hotspotIndex"))},open:function(e,i,o){o.removeClass("hidden");{var s=this,a=e.parent(),r=(a.width(),a.height(),i);r.position(),o.height(),o.width()}if(o.addClass("hidden"),s.lastOpen&&e.is(s.lastOpen[0])&&s.cleanTimer(),s.lastOpen=[e,i,o],e.data("state","open").addClass("info-jump-to-top"),i.addClass("hspot-core-on").removeClass("hspot-core"),(n.isLTIE8||n.isLTIE9)&&i.parent().addClass("ie-on"),o.removeClass("hidden"),s.transition([o.parent().find(".hspot-label")],"off"),s.isChapter||s.isSmallChapter?s.checkIfFits(e):s.repositionByQuadrant(e),s.showOverlayCentered)s.reanchor(e,i,o,!0);else if(n.isLTIE9){o.find(".overlay-inner").removeClass("eh-transparent").addClass("eh-visible");var l=n.$body.find("#"+s.hotspotId);l.css({left:o.offset().left,top:o.offset().top}),o.children().clone(!0).appendTo(l.empty());var d,u;o.hasClass("to-right")?(u=t("#"+s.hotspotId+"-arrow-left"),d=t(i).parent().find(".arrow-left")):(u=t("#"+s.hotspotId+"-arrow-right"),d=t(i).parent().find(".arrow-right")),u.removeClass("hidden").css({left:d.offset().left,top:d.offset().top})}else o.find(".overlay-inner").removeClass("eh-transparent").addClass("eh-visible");s.$el.trigger("HotspotsController:popupOpened",e.data("hotspotIndex"))},openAddOn:function(e,t){{var i=this,o=e.parent(),s=(o.width(),o.height(),t);s.position()}i.lastOpen&&e.is(i.lastOpen[0])&&i.cleanTimer(),i.lastOpen=[e,t,null],e.data("state","open").addClass("info-jump-to-top"),t.addClass("hspot-core-on").removeClass("hspot-core"),(n.isLTIE8||n.isLTIE9)&&t.parent().addClass("ie-on"),i.isChapter||i.isSmallChapter?i.checkIfFits(e):i.repositionByQuadrant(e)},reset:function(){var e=this;e.lastOpen&&!e.lastOpen[0].hasClass("hspot-open-always")&&e.close(e.lastOpen[0],e.lastOpen[1],e.lastOpen[2])},cleanTimer:function(){var e=this;e.$lastTimer&&clearTimeout(e.$lastTimer)}},t.fn.hotspotsController=function(e){var i=Array.prototype.slice.call(arguments,1);return this.each(function(){var n=t(this),o=n.data("hotspotsController");o||(o=new a(n,e),n.data("hotspotsController",o)),"string"==typeof e&&o[e].apply(o,i)})},t.fn.hotspotsController.defaults={options:{}},s}),define("modules/editorial_hotspots/index",["require","modules/editorial_hotspots/module","secondary/sony-init-module-below-viewport"],function(e){var t=e("modules/editorial_hotspots/module"),i=e("secondary/sony-init-module-below-viewport");return i({triggerElement:$(".editorial_hotspots"),callback:t.init}),{HotspotsController:t}}),define("modules/tertiary_tout_container/module",["require","jquery","modernizr","iQ","enquire","require/sony-global-settings","require/sony-global-utilities","secondary/index"],function(e){var t=e("jquery"),i=e("modernizr"),n=e("iQ"),o=e("enquire"),s=e("require/sony-global-settings"),a=e("require/sony-global-utilities"),r=(e("secondary/index").sonyCarousel,{init:function(){t(".tcc-module").each(function(){new l(this)})}}),l=function(e){var n=this;n.$el=t(e),n.useCSS3=i.csstransforms&&i.csstransitions,n.carouselWrapperClass=".tcc-carousel-wrapper",n.carouselClass=".tcc-carousel",n.slideClass=".sony-carousel-slide",n.slideChildClass=".sony-carousel-slide-children",n.$carouselWrapper=n.$el.find(n.carouselWrapperClass),n.$carousel=n.$el.find(n.carouselClass),n.$newGrid=t("<div/>").addClass("grid"),n.$newContainer=t("<div/>").addClass("container").html(n.$newGrid),n.$newSlide=t("<div/>").addClass(n.slideClass.replace(".","")).html(n.$newContainer),n.init(),log("SONY : TertiaryTouts : Initialized")};return l.prototype={constructor:l,init:function(){{var e=this;t(this)}e.$cached=e.$el.clone(),e.originalSlidesLength=e.$cached.find(".sony-carousel-slide .grid").children().length,s.$html.hasClass("lt-ie10")?e.renderDesktop():(o.register(a.enquire.min(980),function(){e.renderDesktop()}),o.register(a.enquire.minMax(481,979),function(){e.originalSlidesLength<=2?e.renderMobile():e.renderTablet()}),o.register(a.enquire.max(480),function(){e.renderMobile()})),e.inititialized=!0},reloadCached:function(){var e,t=this;t.inititialized&&(e=t.$cached.clone(),t.$tccCarousel&&t.$tccCarousel.sonyCarousel("destroy"),t.$tccCarousel=t.$carouselWrapper=t.$carousel=null,t.$el.replaceWith(e),t.$el=e,t.$carouselWrapper=t.$el.find(t.carouselWrapperClass),t.$carousel=t.$carouselWrapper.find(t.carouselClass),n.update())},renderDesktop:function(){var e=this;e.reloadCached()},renderTablet:function(){var e=this,t=e.$newSlide.clone(!0),i=null;e.reloadCached(),i=e.$el.find(e.slideClass).find(".span4").last(),t.find(".grid").append(i),e.$carousel.append(t),e.updateSpans("span6"),e.updateId("two-up"),e.$tccCarousel=e.$el.find(e.$carousel).sonyCarousel({wrapper:e.carouselWrapperClass,slides:e.slideClass,useCSS3:e.useCSS3,pagination:!0,paddles:!0,showPaddlesInTouch:!0,$dotNavWrapper:e.$tcc-r})},renderMobile:function(){var e,t,i,n,o=this;o.reloadCached(),n=o.$el.find(o.slideClass).find(".span4").last(),o.originalSlidesLength>1&&(e=o.$newSlide.clone(!0),i=o.$el.find(o.slideClass).find(".span4").eq(1),e.find(".grid").append(i),o.$carousel.append(e)),o.originalSlidesLength>2&&(t=o.$newSlide.clone(!0),t.find(".grid").append(n),o.$carousel.append(t)),o.updateSpans("span12"),o.updateId("one-up"),o.$tccCarousel=o.$el.find(o.$carousel).sonyCarousel({wrapper:o.carouselWrapperClass,slides:o.slideClass,useCSS3:o.useCSS3,pagination:!0,paddles:!0,$dotNavWrapper:o.$el}),o.$el.find(".gwt-module").hasClass("featured")&&o.$el.find(".sony-dot-nav").addClass("featured-sony-dot-nav")},updateId:function(e){var t=this;t.$carouselWrapper.parent().attr("id",e)},updateSpans:function(e){var t=this;t.$el.find(t.slideClass).find(".span4, .span6, .span12").removeClass("span4 span6 span12").addClass(e)},setupLinkClicks:function(){var e=this.$el.find(".article");e.click(function(e){e.preventDefault();var i=t(this),n=i.find("a.primary-link").attr("href"),o=i.find(".primary-link").data("new-win");"no"==o&&"#"!=n?window.location=n:"yes"==o&&window.open(n)}),e.css("cursor","pointer")}},r}),define("modules/tertiary_tout_container/index",["require","modules/tertiary_tout_container/module","secondary/sony-init-module-below-viewport"],function(e){var t=e("modules/tertiary_tout_container/module"),i=e("secondary/sony-init-module-below-viewport");return i({triggerElement:$(".tcc-module"),callback:t.init}),{TertiaryModule:t}}),define("modules/editorial_feature_switch/module",["require","jquery","iQ"],function(e){var t=e("jquery"),i=(e("iQ"),{init:function(){var e=t(".switch-slide");e.length&&e.each(function(){new n(this)})}}),n=function(e){var i=this;i.$el=t(e),i.init()};return n.prototype={constructor:n,init:function(){var e=this;e.setVars(),e.addEventListeners()},setVars:function(){var e=this;e.startInOnMode=!1,e.$switchToggle=t(".switchToggle",e.$el),e.$leftText=t(".lefttext",e.$el),e.$rightText=t(".righttext",e.$el),e.$onContainer=t(".on-container",e.$el),e.$offContainer=t(".off-container",e.$el),e.$onButtonText=t(".onButtonText",e.$el),e.$offButtonText=t(".offButtonText",e.$el),e.$offButtonWhiteText=t(".offButtonWhiteText",e.$el),e.$onButtonWhiteText=t(".onButtonWhiteText",e.$el),e.$vidOn=e.$el.find("video").eq(0)[0],e.$vidOff=e.$el.find("video").eq(1)[0],e.isVideo=e.$vidOn?!0:!1,e.isPlaying=!1,e.hasTouch=Modernizr.touch,e.hasTransitions=Modernizr.csstransitions},addEventListeners:function(){var e=this;e.$switchToggle.off("click").on("click",function(){t(this).is(":checked")?e.switchOn():e.switchOff(),e.isVideo&&(e.isVideo&&!e.isPlaying&&(e.$vidOn.play(),e.$vidOff.play(),e.isPlaying=!0),t(this).is(":checked")?e.$vidOn.currentTime=e.$vidOff.currentTime:e.$vidOff.currentTime=e.$vidOn.currentTime,e.$vidOn.addEventListener("ended",function(){e.switchOn(),e.isPlaying=!1}))})},switchOn:function(){var e=this;e.toggleElement(e.$onContainer),e.toggleElement(e.$offContainer),e.toggleElement(e.$rightText),e.toggleElement(e.$leftText),e.toggleElement(e.$offButtonText),e.toggleElement(e.$onButtonText),e.toggleElement(e.$offButtonWhiteText),e.toggleElement(e.$onButtonWhiteText)},switchOff:function(){var e=this;e.toggleElement(e.$onContainer),e.toggleElement(e.$offContainer),e.toggleElement(e.$rightText),e.toggleElement(e.$leftText),e.toggleElement(e.$offButtonText),e.toggleElement(e.$onButtonText),e.toggleElement(e.$offButtonWhiteText),e.toggleElement(e.$onButtonWhiteText)},toggleElement:function(e){e.hasClass("off")?e.removeClass("off").addClass("on"):e.hasClass("on")&&e.removeClass("on").addClass("off")}},i}),define("modules/editorial_feature_switch/index",["require","modules/editorial_feature_switch/module","secondary/sony-init-module-below-viewport"],function(e){var t=e("modules/editorial_feature_switch/module"),i=e("secondary/sony-init-module-below-viewport");return i({triggerElement:$(".editorial_feature_switch"),callback:t.init}),{SwitchSlide:t}}),define("modules/reviews_awards_v2/module",["require","jquery","modernizr","enquire","bootstrap","require/sony-global-settings","require/sony-global-utilities","secondary/index","secondary/index","secondary/sony-tooltip","secondary/index"],function(e){var t=e("jquery"),i=e("modernizr"),n=e("enquire"),o=(e("bootstrap"),e("require/sony-global-settings")),s=e("require/sony-global-utilities"),a=(e("secondary/index").sonyEvenHeights,e("secondary/index").sonyModal),r=e("secondary/sony-tooltip"),l=(e("secondary/index").sonyCarousel,{init:function(){t(".raa-module").each(function(){new d(this)}),new r.plugin({id:"trust-mark",$el:t(".trust-mark"),my:"bottom right",at:"top right",width:"auto",show:{event:"mouseenter"},hide:{event:"mouseleave",fixed:!0,delay:300},classes:"qtip-trust-mark",content:{button:!1}}).init()}}),d=function(e){var i=this;i.$el=t(e),i.init(),log("SONY : ReviewsAwards : Initialized")};return d.prototype={constructor:d,init:function(){var e=this;e.$cached=e.$el.clone(),e.scrollPosition=0,e.isMobile=!1,e.awardsModalOpen=!1,e.maxVisibleAwards=e.$el.find(".raa-content").data("max-visible-awards"),o.$html.hasClass("lt-ie10")?e.renderDesktop():(n.register(s.enquire.min(1050),function(){e.renderDesktop()}),n.register(s.enquire.minMax(768,1049),function(){e.renderDesktop(),e.adjustSpansInModal(),e.adjustSpansInRatingAwardsReview(),e.adjustSmDesktopInAwardReviews(),e.adjustSmDesktopAwards()}),n.register(s.enquire.minMax(568,767),function(){e.renderMobile(),e.adjustSpansinRatingAwards(),e.adjustTabletSpansInModal(),e.adjustTabletAwards(),e.adjustTabletSpansinAwardsReviews()}),n.register(s.enquire.minMax(321,567),function(){e.renderMobile(),e.adjustMobileSpansInModal(),e.adjustSmTabletSpansinAwardsReviews()}),n.register(s.enquire.max(320),function(){e.renderMobile(),e.adjustMobileSpansInRatingAwardsReview()})),e.setAwardheights(),t(window).resize(function(){e.setAwardheights()}),e.$awardsModalButton=e.$el.find(".modal-popup-button"),e.$awardsModalButton.length>0&&e.$awardsModalButton.on("click",t.proxy(e.openAwardsModal,e)),e.initPopovers(),e.inititialized=!0},initPopovers:function(){var e=this,n=e.$el.find(".js-popover-container");n.each(function(){var e=t(this),n=e.find(".js-popover-content"),o="in top";i.touch&&(o="in bottom"),e.popover({placement:o,trigger:"click",getWidth:function(){return e.width()},content:function(){return n.html()}})}),n.on("tipshow",function(){var e=t(this);n.not(e).popover("hide")})},openAwardsModal:function(){var e,i=this;i.awardsModalOpen=!0,a.create({content:i.$el.find(".raa-awards-modal"),closed:t.proxy(i.onCloseClick,i),extraClass:"absolute-modal"}),i.scrollPosition=t(window).scrollTop(),i.isMobile&&(e=t(".sony-modal").height()+50,o.$body.css({height:e+"px",maxHeight:"100%",overflow:"visible"}),setTimeout(function(){t("html, body").animate({scrollTop:0},0)},300))},onCloseClick:function(){var e=this;e.awardsModalOpen=!1,setTimeout(function(){t("html, body").animate({scrollTop:e.scrollPosition},0)},100)},reloadCached:function(){var e,t=this;t.inititialized&&(e=t.$cached.clone(),t.$userReviewCarousel&&t.$userReviewCarousel.sonyCarousel("destroy"),t.$expertReviewCarousel&&t.$expertReviewCarousel.sonyCarousel("destroy"),t.$mergedCarousel&&t.$mergedCarousel.sonyCarousel("destroy"),t.$userReviewCarousel=t.$expertReviewCarousel=t.$mergedCarousel=null,t.$el.replaceWith(e),t.$el=e)},renderDesktop:function(){var e=this;e.reloadCached(),e.$userReviewCarousel=e.$el.find(".carousel-slide"),e.isMobile=!1,e.$userReviewCarousel.sonyCarousel({wrapper:".raa-user-reviews-carousel",slides:".user-ratings, .raa-awards, .raa-expert-review",pagination:!0,$dotNavWrapper:e.$el.find(".raa-user-reviews-carousel"),paddles:!0,useSmallPaddles:!0}),e.$expertReviewCarousel=e.$el.find(".raa-expert-carousel").sonyCarousel({wrapper:".raa-expert-reviews .reviews",slides:".raa-expert-review",pagination:!0,$dotNavWrapper:e.$el.find(".raa-expert-reviews .reviews"),paddles:!0,useSmallPaddles:!0,$paddleWrapper:e.$el.find(".raa-expert-reviews-wrapper")})},adjustSpansInRatingAwardsReview:function(){var e=this,t=e.$el.find(".layoutA .raa-awards.raa-awards-v2 .grid").children(".award-item.span4");t.removeClass("span4").addClass("span6"),t.length===e.maxVisibleAwards&&t.last().hide()},adjustMobileSpansInRatingAwardsReview:function(){{var e=this,t=e.$el.find(".layoutA .raa-awards.raa-awards-v2 .grid").children(".award-item.span4");e.$el.find(".layoutA .raa-awards-modal .grid").children(".award-item")}t.length===e.maxVisibleAwards&&t.last().hide()},adjustSpansinRatingAwards:function(){var e=this;e.$el.find(".layoutA .raa-awards.raa-awards-v2 .grid").find(".award-item").removeClass("span6").addClass("span4")},adjustSmDesktopInAwardReviews:function(){var e=this;e.$el.find(".layoutD .raa-awards.raa-awards-v2 .grid").children(".award-item.span2").removeClass("span2").addClass("span4")},adjustSmTabletSpansinAwardsReviews:function(){var e=this;e.$el.find(".layoutD .raa-awards.raa-awards-v2 .grid").find(".award-item").removeClass("m-span3").addClass("m-span2")},adjustTabletSpansinAwardsReviews:function(){var e=this;e.$el.find(".layoutD .raa-awards.raa-awards-v2 .grid").find(".award-item").removeClass("span2").addClass("span4")},adjustSpansInModal:function(){var e=this;e.$el.find(".layoutA .raa-awards-modal .grid").find(".award-item").removeClass("span2 span4").addClass("span3")},adjustTabletSpansInModal:function(){var e=this;e.$el.find(".layoutA .raa-awards-modal .grid").find(".award-item").removeClass("span2 span3").addClass("span4")},adjustMobileSpansInModal:function(){var e=this;e.$el.find(".layoutA .raa-awards-modal .grid").find(".award-item").removeClass("span2 span3").addClass("span4")},adjustSmDesktopAwards:function(){var e=this;e.$el.find(".layoutB .raa-awards.raa-awards-v2 .grid").find(".award-item").removeClass("span2").addClass("span3")},adjustTabletAwards:function(){var e=this;e.$el.find(".layoutB .raa-awards.raa-awards-v2 .grid").find(".award-item").removeClass("span2").addClass("span3")},renderTablet:function(){var e=this;e.reloadCached()},renderMobile:function(){var e=this;e.reloadCached(),e.$mergedCarousel=e.$el.find(".raa-merged-carousel"),e.$mergedCarouselHeader=e.$mergedCarousel.parent().find("h3"),e.$mergedCarouselHeader.removeAttr("aria-hidden"),e.isMobile=!0,e.$el.find(".raa-expert-review, .user-ratings, .raa-social-mention").each(function(){e.$mergedCarousel.append(this)}),e.$mergedCarousel.append(e.$el.find(".raa-awards")),e.$mergedCarousel.sonyCarousel({wrapper:".raa-merged-carousel-wrapper",slides:".raa-expert-review, .user-ratings, .raa-social-mention, div.raa-awards",pagination:!0}),e.setMobileHeader(0),e.$mergedCarousel.on("SonyCarousel:gotoSlide",function(t,i){e.setMobileHeader(i)})},setMobileHeader:function(e){var t=this,i=t.$mergedCarousel.children().eq(e).data("header");t.$mergedCarouselHeader.html(i)},setAwardheights:function(){var e=this;e.$el.find(".raa-awards li").evenHeights(),e.isMobile&&e.awardsModalOpen&&(o.$body.css({height:t(".sony-modal").height()+50+"px",maxHeight:"100%",overflow:"visible"}),setTimeout(function(){t("html, body").animate({scrollTop:0},0)},300))}},l}),define("modules/reviews_awards_v2/index",["require","modules/reviews_awards_v2/module","secondary/sony-init-module-below-viewport"],function(e){var t=e("modules/reviews_awards_v2/module"),i=e("secondary/sony-init-module-below-viewport");return i({triggerElement:$(".raa-module"),callback:t.init}),{ReviewsAwards:t}}),define("modules/features_benefits/module",["require","jquery","iQ","require/sony-global-settings","secondary/index"],function(e){var t=e("jquery"),i=(e("iQ"),e("require/sony-global-settings")),n=(e("secondary/index").jqueryShuffle,{init:function(){var e=t(".feature-benefits.spec-single.spec-multi");e.length>0&&e.featureBenefits()}}),o=function(e,n){var o=this;t.extend(o,t.fn.featureBenefits.options,n,t.fn.featureBenefits.settings),o.$container=e,o.$window=i.$window,o._init()};return o.prototype={constructor:o,_init:function(){var e=this;e.$featureTiles=e.$container.find(".spec-tiles"),e._clearEmptyTiles(e.$featureTiles),e._initFeatures()},_initFeatures:function(){var e=this;e.$featureTiles.shuffle({itemSelector:".spec-tile",easing:i.shuffleEasing,speed:i.shuffleSpeed,hideLayoutWithFade:!0,sequentialFadeDelay:100,columnWidth:function(e){var t=e;return(!Modernizr.mediaqueries||Modernizr.mq("(min-width: 30em)"))&&(t=i.COLUMN_WIDTH_SLIM*e),t},gutterWidth:function(t){var n=0,o=!Modernizr.mediaqueries||Modernizr.mq("(min-width: 47.9375em)"),s=o?!1:Modernizr.mq("(min-width: 30em)"),a=o?3:s?2:1;return(o||s)&&(n=i.GUTTER_WIDTH_SLIM*t),e.currentFeatureCols!==a&&1!==a&&e._swapFeatureClasses(a),e.currentFeatureCols=a,n},showInitialTransition:!1}),e.shuffle=e.$featureTiles.data("shuffle");for(var n=e.$featureTiles.find(".iq-img"),o=0,s=n.length;s>o;o+=1)n.get(o).addEventListener("imageLoaded",t.debounce(200,t.proxy(e.shuffle.layout,e.shuffle)));return e},_clearEmptyTiles:function(e){function i(){var e=t(this),i=e.find("p").text();0===i.length&&e.css("display","none")}var n=e.find(".spec-tile");n.each(i)},_swapFeatureClasses:function(e){var i=this,n="span6",o="span4";3===e&&(n="span4",o="span6"),i.$featureTiles.children().each(function(){t(this).removeClass(o).addClass(n)})}},t.fn.featureBenefits=function(e){var i=Array.prototype.slice.call(arguments,1);return this.each(function(){var n=t(this),s=n.data("features");s||(s=new o(n,e),n.data("features",s)),"string"==typeof e&&s[e].apply(s,i)})},n}),define("modules/features_benefits/index",["require","modules/features_benefits/module","secondary/sony-init-module-below-viewport"],function(e){var t=e("modules/features_benefits/module"),i=e("secondary/sony-init-module-below-viewport");return i({initializeImmediately:!0,triggerElement:$(".feature-benefits"),callback:t.init}),{FeaturesBenefits:t}}),define("modules/eco_features/module",["require","jquery","require/sony-global-settings"],function(e){var t=e("jquery"),i=e("require/sony-global-settings"),n=function(){var e=function(){var e=t(".eco-features .collapse"),i=function(){var e=t(".titleSpace .fi");e.removeClass("fonticon-10-arrowhead-down"),e.addClass("fonticon-10-arrowhead-up")},n=function(){var e=t(".titleSpace .fi");e.removeClass("fonticon-10-arrowhead-up"),e.addClass("fonticon-10-arrowhead-down")};e.on("shown",i),e.on("hide",n)},n=function(){var e=t("#ecoFeaturesCollapse");e.collapse&&e.collapse("show")};this.init=function(){var t=567,o=i.$window.width()<=t;e(),o||n()}};return new n}),define("modules/eco_features/index",["require","modules/eco_features/module","secondary/sony-init-module-below-viewport"],function(e){{var t=e("modules/eco_features/module");e("secondary/sony-init-module-below-viewport")}return t.init(),{EcoFeaturesModule:t}}),define("modules/eco_energy_level/module",["require","jquery","secondary/index","enquire","require/sony-global-environment","require/sony-global-settings","secondary/index"],function(e){var t=e("jquery"),i=e("secondary/index").sonyModal,n=(e("enquire"),e("require/sony-global-environment")),o=e("require/sony-global-settings"),s=(e("secondary/index").sonyCarousel,{init:function(){var e=t(".eco-energy-level");e.each(function(){new a(t(this))})}}),a=function(e){this.$el=e,this.mobileThreshold=567,this.modalOpen=!1,this.modal=!1,this.isMobile=!1,this.init()};a.Classes={toggle_btn:".btn",card_wrap:".eco-energy-level-card-wrap",nav:".eco-nav",nav_item:".nav-item",label_wrapper:"#energyLevel"},a.prototype={constructor:a,toggleState:function(){var e=this;e.toggleElements.toggleClass("shown")},bindToggleButton:function(){var e=this,n=e.$el.find(".eco-nav ul li"),o=e.$el.find(".eco-nav ul li .prime-differentiator");e.$el.find(a.Classes.toggle_btn).off("click.eco-energy").on("click.eco-energy",function(s){if(s.preventDefault(),e.toggleState(),e.isMobile&&e.$el.find(a.Classes.card_wrap).hasClass("shown")){var r=e.$el.find(".eco-energy-level-card-wrap");e.modal=i.create({content:r,show:function(){var i=t(".sony-modal");i.css({position:"absolute",top:t(window).scrollTop()+30}),e.modalOpen=!0,r.addClass("shown is-modal")},opened:function(){r.css("position","relative"),n.evenHeights()},closed:function(){e.modalOpen=!1,r.css("position","absolute").removeClass("is-modal"),e.toggleState()}})}e.$el.hasClass("even-height-slides")||(o.evenHeights(),o.css("display","inline-block"),n.evenHeights(),e.$el.addClass("even-height-slides")),e.$navCarousel&&e.$navCarousel.data("sonyCarousel").gotoSlide(0,!0),e.$ficheCarousel.length>0&&e.$ficheCarousel.data("sonyCarousel").gotoSlide(0,!0)}),Modernizr.touch&&e.$el.find(".download-link").hide()},bindNavToCarousel:function(){var e=this,i=e.$el.find(".eco-nav ul"),n=i.length>3;if(n){for(var o=e.$el.find(".eco-nav .sony-carousel"),s=Math.ceil(i.length/3),r=0,l=0;s>l;l++){for(var d=t('<div class="sony-carousel-slide" />',{}),u=0;3>u;u++){var c=i.eq(r);d.append(c),r++}o.append(d)}e.$navCarousel=e.$el.find(".eco-nav .sony-carousel").sonyCarousel({wrapper:".eco-nav .sony-carousel-wrapper",slides:".sony-carousel-slide",useCSS3:!0,paddles:!0,pagination:!1,useSmallPaddles:!0,$paddleWrapper:e.$el.find(a.Classes.nav)})}this.$el.find(a.Classes.nav+" "+a.Classes.nav_item).on("click.eco-energy",function(i){i.preventDefault(),e.$ficheCarousel.data("sonyCarousel").gotoSlide(t(this).data("slideId"))})},checkIfMobile:function(){var e=this;e.isMobile=o.$window.width()>this.mobileThreshold?!1:!0},checkIfModalIsOpen:function(){var e=this;e.modalOpen&&e.modal&&e.modal.destroy()},onResize:function(){this.checkIfMobile(),this.isMobile||this.checkIfModalIsOpen()},updateEneryLevelLabel:function(e){var i=t(a.Classes.nav+" "+a.Classes.nav_item).eq(e).data();if("eea"===i.model){var n="rtl"===document.dir?"left":"right",o="/assets/images/energyBadges/icn-eco_"+i.topValueLabel+"_"+i.energyLevelLabel.toLowerCase()+n+".svg";t(a.Classes.label_wrapper).attr("src",o)}else t(a.Classes.label_wrapper).text(i.energyLevelLabel).css("background","#"+i.energyLevelColor)},init:function(){var e=this;e.toggleElements=e.$el.find(""+a.Classes.toggle_btn+", "+a.Classes.card_wrap),e.$ficheCarousel=e.$el.find(".fiche-carousel"),e.checkIfMobile(),e.bindToggleButton(),e.bindNavToCarousel(),e.$ficheCarousel.sonyCarousel({wrapper:".fiche-carousel-wrapper",slides:".sony-carousel-slide",useCSS3:!0,paddles:!0,showPaddlesInTouch:!0,pagination:!0});var i=e.$el.find(".eco-nav ul"),o=e.$el.find(a.Classes.nav+" "+a.Classes.nav_item);e.$ficheCarousel.on("SonyCarousel:gotoSlide",function(t,n){var s=i.length,a=s>3;if(e.updateEneryLevelLabel(n),a){var r=Math.floor(n/3);e.$navCarousel.data("sonyCarousel").gotoSlide(r)}o.parent().removeClass("active"),o.eq(n).parent().addClass("active")}),e.$el.find(".eco-nav ul li").eq(0).addClass("active"),n.on("global:resizeDebounced-200ms",t.proxy(e.onResize,e))}};var r=function(){document.querySelector("p.snapshot").appendChild(createDownloadLink(document.querySelector("#game"),"snapshot"+-new Date+".png"))};return r.prototype={createDownloadLink:function(e,t){var i=document.createElement("a");return i.download=t,i.title="download snapshot",i.href=e.toDataURL(),i}},s}),define("modules/eco_energy_level/index",["require","modules/eco_energy_level/module","secondary/sony-init-module-below-viewport"],function(e){var t=e("modules/eco_energy_level/module"),i=e("secondary/sony-init-module-below-viewport");return i({triggerElement:$(".eco-energy-level"),callback:t.init}),{EcoEneryLevel:t}}),define("modules/feedback/module",["require","jquery","enquire","secondary/sony-storage"],function(e){var t=e("jquery"),i=(e("enquire"),e("secondary/sony-storage")),n=new i("local"),o=235,s="gwt_feedback",a=t("[name=analytics-page-name]").attr("content"),r=t("[name=analytics-page-language]").attr("content")+"_"+t("[name=analytics-page-country]").attr("content"),l=JSON.parse(n.getItem(s)),d={init:function(){var e=t(".feedback-container"),i=function(){for(var e=0;l&&e<l.length;e++)if(l[e].pageName==a)return!0;return!1};return i()?void e.hide():void e.each(function(){new u(this)})}},u=function(e){this.$el=e,this.init()};return u.prototype={constructor:u,init:function(){function e(){return t("#lws-form-container").hasClass("lws-expanded")?(t("#lws-form-container").hide().removeClass("lws-expanded"),t("#lws-btn-icon").addClass("fonticon-10-arrowhead-down"),t("#lws-btn-icon").removeClass("fonticon-10-arrowhead-up"),t("#share-feedback-btn").css("background",c),t("#share-feedback-btn").attr("aria-expanded",!1)):(t("#lws-form-container").show().addClass("lws-expanded"),t("#lws-btn-icon").addClass("fonticon-10-arrowhead-up"),t("#lws-btn-icon").removeClass("fonticon-10-arrowhead-down"),t("#share-feedback-btn").css("background",u),t("#share-feedback-btn").attr("aria-expanded",!0)),!1}var i="rgb(116,116,129)",d="rgb(47,53,61)",u="rgb(60,76,116)",c="rgb(88,101,245)";t("#lws-form-container").hide().removeClass("lws-expanded"),t("#share-feedback-btn").on("click",function(t){t.preventDefault(),e()}),t(".lws-radioLabel").hover(function(){t(this).hasClass("lws-checked")||(t(this).css("background",i),t(this).css("color","#fff"))},function(){t(this).hasClass("lws-checked")||(t(this).css("background","none"),t(this).css("color",i))}),t("#lws-submitBtn").prop("disabled",!0),t('input[name="ratingFeedback"]').on("change",function(){var e=t("#"+(t(this).attr("id")+"-label"));t(".lws-radioLabel").css("background","none"),t(".lws-radioLabel").css("color",i),t(".lws-radioLabel").css("border-color",i),t(".lws-radioLabel").removeClass("lws-checked"),e.css("background",d),e.css("border-color",d),e.addClass("lws-checked"),t("#lws-submitBtn").prop("disabled",!1)}),t("#lws-feedbackText").on("input",function(){var e=t(this).val();t('input[name="ratingFeedback"]').is(":checked")||""!=e.trim()?(t("#lws-submitBtn").prop("disabled",!1),e.length>=o&&t(this).val(e.substring(0,o))):t("#lws-submitBtn").prop("disabled",!0)}),t("#lws-feedback-form").submit(function(e){e.preventDefault();var i=t("#lws-feedbackText").val(),o=t('input[name="ratingFeedback"]:checked').val(),d={pageName:a,locale:r,timestamp:Date.now()},u=jQuery.extend({},d);u.rating=o,u.feedbackText=i,t("#lws-feedback-form").trigger("user_feedback",u),t("#lws-feedback-form, #lws-form-container,#share-feedback-btn").hide();var c=t("#lws-header");if(c.html(c.data("thankyoutext")),"undefined"!=typeof Storage)if(l)l.push(d),n.setItem(s,JSON.stringify(l));else{var h=[d];n.setItem(s,JSON.stringify(h))}})}},d}),define("modules/feedback/index",["require","modules/feedback/module","secondary/sony-init-module-below-viewport"],function(e){var t=e("modules/feedback/module"),i=e("secondary/sony-init-module-below-viewport");return i({triggerElement:$(".feedback-container"),initializeImmediately:!0,callback:t.init}),{shareYourFeedback:t}}),require(["modules/primary_tout/index","modules/pdp_slideshow/index","modules/product_details/index","modules/product_summary/index","modules/related_products/index","modules/related_products_dynamic/index","modules/one_sony_tout_carousel/index","modules/secondary_tout/index","modules/carousel_tout/index","modules/editorial_dual_viewer/index","modules/editorial_slideshow/index","modules/editorial_image/index","modules/editorial_chapters/index","modules/editorial_360_viewer/index","modules/editorial_carousel/index","modules/ux_marketing_convergence/index","modules/editorial_hotspots/index","modules/tertiary_tout_container/index","modules/editorial_feature_switch/index","modules/reviews_awards_v2/index","modules/features_benefits/index","modules/eco_features/index","modules/eco_energy_level/index","modules/feedback/index"]),define("page/product_details",function(){});