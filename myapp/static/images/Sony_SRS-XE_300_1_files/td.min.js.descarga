!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=36)}([function(t,e,n){t.exports={forEach:n(42),isNumber:n(51),isObject:n(2),isString:n(9),isArray:n(5),isFunction:n(17),isEmpty:n(52),keys:n(10),assign:n(53),forIn:n(58),omit:n(60),cloneDeep:n(74),noop:n(81)}},function(t,e){t.exports={disposable:function(t){var e=!1;return function(){e||(e=!0,t())}},invariant:function(t,e){if(!t)throw new Error(e)},fetchWithTimeout:function(t,e,n){if(window.AbortController){var r=new window.AbortController,o=window.fetch(t,Object.assign({},n,{signal:r.signal})),i=setTimeout((function(){r.abort()}),e);return o.finally((function(){clearTimeout(i)}))}return function(t,e,n){var r=new Promise((function(e,r){setTimeout((function(){r(new Error(n||"Operation Timeout"))}),t)}));return Promise.race([r,e])}(e,window.fetch(t,n),"Request Timeout")},camelCase:function(t){if(t)return t.toLowerCase().split(" ").reduce((function(t,e,n){return t+=0===n?e:function(t){var e=t[0];return e<"\ud800"||e>"\udfff"?t[0].toUpperCase()+t.slice(1):t.slice(0,2).toUpperCase()+t.slice(2)}(e)}),"")},isLocalStorageAccessible:function(){try{return localStorage.setItem("__td__","__td__"),localStorage.removeItem("__td__"),!0}catch(t){return!1}}}},function(t,e){t.exports=function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}},function(t,e,n){(function(e){"undefined"!=typeof window?t.exports=window:void 0!==e?t.exports=e:"undefined"!=typeof self?t.exports=self:t.exports={}}).call(this,n(8))},function(t,e){t.exports=function(t){return!!t&&"object"==typeof t}},function(t,e,n){var r=n(16),o=n(12),i=n(4),s=Object.prototype.toString,a=r(Array,"isArray")||function(t){return i(t)&&o(t.length)&&"[object Array]"==s.call(t)};t.exports=a},function(t,e){var n=function(t){try{return encodeURIComponent(t)}catch(t){console.error("error encode %o")}return null},r=function(t){try{return decodeURIComponent(t)}catch(t){console.error("error decode %o")}return null},o={getItem:function(t){return t&&r(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+function(t){return n(t).replace(/[\-\.\+\*]/g,"\\$&")}(t)+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},setItem:function(t,e,r,o,i,s,a){if(!t||/^(?:expires|max\-age|path|domain|secure)$/i.test(t))return!1;var c="";if(r)switch(r.constructor){case Number:c=r===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+r;break;case String:c="; expires="+r;break;case Date:c="; expires="+r.toUTCString()}var u="";return a&&"NONE"===a.toUpperCase()?u="; Secure; SameSite="+a:(s&&(u+="; Secure"),a&&(u+="; SameSite="+a)),document.cookie=[n(t),"=",n(e),c,i?"; domain="+i:"",o?"; path="+o:"",u].join(""),!0},removeItem:function(t,e,r){return!!this.hasItem(t)&&(document.cookie=[n(t),"=; expires=Thu, 01 Jan 1970 00:00:00 GMT",r?"; domain="+r:"",e?"; path="+e:""].join(""),!0)},hasItem:function(t){return!!t&&new RegExp("(?:^|;\\s*)"+n(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},keys:function(){var t=document.cookie.replace(/((?:^|\s*;)[^=]+)(?=;|$)|^\s*|\s*(?:=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:=[^;]*)?;\s*/);return t=t.map((function(t){return r(t)}))}};t.exports=o},function(t,e,n){t.exports=function(){"use strict";var t="millisecond",e="second",n="minute",r="hour",o="day",i="week",s="month",a="quarter",c="year",u="date",f=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?.?(\d+)?$/,l=/\[([^\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,d={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},p=function(t,e,n){var r=String(t);return!r||r.length>=e?t:""+Array(e+1-r.length).join(n)+t},h={s:p,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),o=n%60;return(e<=0?"+":"-")+p(r,2,"0")+":"+p(o,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),o=e.clone().add(r,s),i=n-o<0,a=e.clone().add(r+(i?-1:1),s);return+(-(r+(n-o)/(i?o-a:a-o))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(f){return{M:s,y:c,w:i,d:o,D:u,h:r,m:n,s:e,ms:t,Q:a}[f]||String(f||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},v="en",g={};g[v]=d;var m=function(t){return t instanceof x},y=function(t,e,n){var r;if(!t)return v;if("string"==typeof t)g[t]&&(r=t),e&&(g[t]=e,r=t);else{var o=t.name;g[o]=t,r=o}return!n&&r&&(v=r),r||!n&&v},b=function(t,e){if(m(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new x(n)},_=h;_.l=y,_.i=m,_.w=function(t,e){return b(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var x=function(){function d(t){this.$L=this.$L||y(t.locale,null,!0),this.parse(t)}var p=d.prototype;return p.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(_.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var r=e.match(f);if(r){var o=r[2]-1||0,i=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],o,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)):new Date(r[1],o,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},p.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},p.$utils=function(){return _},p.isValid=function(){return!("Invalid Date"===this.$d.toString())},p.isSame=function(t,e){var n=b(t);return this.startOf(e)<=n&&n<=this.endOf(e)},p.isAfter=function(t,e){return b(t)<this.startOf(e)},p.isBefore=function(t,e){return this.endOf(e)<b(t)},p.$g=function(t,e,n){return _.u(t)?this[e]:this.set(n,t)},p.unix=function(){return Math.floor(this.valueOf()/1e3)},p.valueOf=function(){return this.$d.getTime()},p.startOf=function(t,a){var f=this,l=!!_.u(a)||a,d=_.p(t),p=function(t,e){var n=_.w(f.$u?Date.UTC(f.$y,e,t):new Date(f.$y,e,t),f);return l?n:n.endOf(o)},h=function(t,e){return _.w(f.toDate()[t].apply(f.toDate("s"),(l?[0,0,0,0]:[23,59,59,999]).slice(e)),f)},v=this.$W,g=this.$M,m=this.$D,y="set"+(this.$u?"UTC":"");switch(d){case c:return l?p(1,0):p(31,11);case s:return l?p(1,g):p(0,g+1);case i:var b=this.$locale().weekStart||0,x=(v<b?v+7:v)-b;return p(l?m-x:m+(6-x),g);case o:case u:return h(y+"Hours",0);case r:return h(y+"Minutes",1);case n:return h(y+"Seconds",2);case e:return h(y+"Milliseconds",3);default:return this.clone()}},p.endOf=function(t){return this.startOf(t,!1)},p.$set=function(i,a){var f,l=_.p(i),d="set"+(this.$u?"UTC":""),p=(f={},f[o]=d+"Date",f[u]=d+"Date",f[s]=d+"Month",f[c]=d+"FullYear",f[r]=d+"Hours",f[n]=d+"Minutes",f[e]=d+"Seconds",f[t]=d+"Milliseconds",f)[l],h=l===o?this.$D+(a-this.$W):a;if(l===s||l===c){var v=this.clone().set(u,1);v.$d[p](h),v.init(),this.$d=v.set(u,Math.min(this.$D,v.daysInMonth())).$d}else p&&this.$d[p](h);return this.init(),this},p.set=function(t,e){return this.clone().$set(t,e)},p.get=function(t){return this[_.p(t)]()},p.add=function(t,a){var u,f=this;t=Number(t);var l=_.p(a),d=function(e){var n=b(f);return _.w(n.date(n.date()+Math.round(e*t)),f)};if(l===s)return this.set(s,this.$M+t);if(l===c)return this.set(c,this.$y+t);if(l===o)return d(1);if(l===i)return d(7);var p=(u={},u[n]=6e4,u[r]=36e5,u[e]=1e3,u)[l]||1,h=this.$d.getTime()+t*p;return _.w(h,this)},p.subtract=function(t,e){return this.add(-1*t,e)},p.format=function(t){var e=this;if(!this.isValid())return"Invalid Date";var n=t||"YYYY-MM-DDTHH:mm:ssZ",r=_.z(this),o=this.$locale(),i=this.$H,s=this.$m,a=this.$M,c=o.weekdays,u=o.months,f=function(t,r,o,i){return t&&(t[r]||t(e,n))||o[r].substr(0,i)},d=function(t){return _.s(i%12||12,t,"0")},p=o.meridiem||function(t,e,n){var r=t<12?"AM":"PM";return n?r.toLowerCase():r},h={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:_.s(a+1,2,"0"),MMM:f(o.monthsShort,a,u,3),MMMM:f(u,a),D:this.$D,DD:_.s(this.$D,2,"0"),d:String(this.$W),dd:f(o.weekdaysMin,this.$W,c,2),ddd:f(o.weekdaysShort,this.$W,c,3),dddd:c[this.$W],H:String(i),HH:_.s(i,2,"0"),h:d(1),hh:d(2),a:p(i,s,!0),A:p(i,s,!1),m:String(s),mm:_.s(s,2,"0"),s:String(this.$s),ss:_.s(this.$s,2,"0"),SSS:_.s(this.$ms,3,"0"),Z:r};return n.replace(l,(function(t,e){return e||h[t]||r.replace(":","")}))},p.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},p.diff=function(t,u,f){var l,d=_.p(u),p=b(t),h=6e4*(p.utcOffset()-this.utcOffset()),v=this-p,g=_.m(this,p);return g=(l={},l[c]=g/12,l[s]=g,l[a]=g/3,l[i]=(v-h)/6048e5,l[o]=(v-h)/864e5,l[r]=v/36e5,l[n]=v/6e4,l[e]=v/1e3,l)[d]||v,f?g:_.a(g)},p.daysInMonth=function(){return this.endOf(s).$D},p.$locale=function(){return g[this.$L]},p.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=y(t,e,!0);return r&&(n.$L=r),n},p.clone=function(){return _.w(this.$d,this)},p.toDate=function(){return new Date(this.valueOf())},p.toJSON=function(){return this.isValid()?this.toISOString():null},p.toISOString=function(){return this.$d.toISOString()},p.toString=function(){return this.$d.toUTCString()},d}(),w=x.prototype;return b.prototype=w,[["$ms",t],["$s",e],["$m",n],["$H",r],["$W",o],["$M",s],["$y",c],["$D",u]].forEach((function(t){w[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),b.extend=function(t,e){return t(e,x,b),b},b.locale=y,b.isDayjs=m,b.unix=function(t){return b(1e3*t)},b.en=g[v],b.Ls=g,b}()},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(4),o=Object.prototype.toString;t.exports=function(t){return"string"==typeof t||r(t)&&"[object String]"==o.call(t)}},function(t,e,n){var r=n(16),o=n(11),i=n(2),s=n(47),a=n(24),c=r(Object,"keys"),u=c?function(t){var e=null==t?void 0:t.constructor;return"function"==typeof e&&e.prototype===t||("function"==typeof t?a.enumPrototypes:o(t))?s(t):i(t)?c(t):[]}:s;t.exports=u},function(t,e,n){var r=n(30),o=n(12);t.exports=function(t){return null!=t&&o(r(t))}},function(t,e){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},function(t,e,n){var r=n(50);t.exports=function(t,e,n){if("function"!=typeof t)return r;if(void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,o){return t.call(e,n,r,o)};case 4:return function(n,r,o,i){return t.call(e,n,r,o,i)};case 5:return function(n,r,o,i,s){return t.call(e,n,r,o,i,s)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var r=n(39)("jsonp");t.exports=function(t,e,n){"function"==typeof e&&(n=e,e={});e||(e={});var s,a,c=e.prefix||"__jp",u=e.name||c+o++,f=e.param||"callback",l=null!=e.timeout?e.timeout:6e4,d=encodeURIComponent,p=document.getElementsByTagName("script")[0]||document.head;l&&(a=setTimeout((function(){h(),n&&n(new Error("Timeout"))}),l));function h(){s.parentNode&&s.parentNode.removeChild(s),window[u]=i,a&&clearTimeout(a)}return window[u]=function(t){r("jsonp got",t),h(),n&&n(null,t)},t=(t+=(~t.indexOf("?")?"&":"?")+f+"="+d(u)).replace("?&","?"),r('jsonp req "%s"',t),(s=document.createElement("script")).src=t,p.parentNode.insertBefore(s,p),function(){window[u]&&h()}};var o=0;function i(){}},function(t,e,n){var r=n(2),o=n(9),i=n(24);t.exports=function(t){if(i.unindexedChars&&o(t)){for(var e=-1,n=t.length,s=Object(t);++e<n;)s[e]=t.charAt(e);return s}return r(t)?t:Object(t)}},function(t,e,n){var r=n(45);t.exports=function(t,e){var n=null==t?void 0:t[e];return r(n)?n:void 0}},function(t,e,n){var r=n(2),o=Object.prototype.toString;t.exports=function(t){return r(t)&&"[object Function]"==o.call(t)}},function(t,e,n){var r=n(11),o=n(4),i=Object.prototype,s=i.hasOwnProperty,a=i.propertyIsEnumerable;t.exports=function(t){return o(t)&&r(t)&&s.call(t,"callee")&&!a.call(t,"callee")}},function(t,e,n){var r=n(22),o=n(18),i=n(5),s=n(17),a=n(25),c=n(12),u=n(2),f=n(9),l=n(24),d=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],p=Error.prototype,h=Object.prototype,v=String.prototype,g=h.hasOwnProperty,m=h.toString,y={};y["[object Array]"]=y["[object Date]"]=y["[object Number]"]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},y["[object Boolean]"]=y["[object String]"]={constructor:!0,toString:!0,valueOf:!0},y["[object Error]"]=y["[object Function]"]=y["[object RegExp]"]={constructor:!0,toString:!0},y["[object Object]"]={constructor:!0},r(d,(function(t){for(var e in y)if(g.call(y,e)){var n=y[e];n[t]=g.call(n,t)}})),t.exports=function(t){if(null==t)return[];u(t)||(t=Object(t));var e=t.length;e=e&&c(e)&&(i(t)||o(t)||f(t))&&e||0;for(var n=t.constructor,r=-1,b=s(n)&&n.prototype||h,_=b===t,x=Array(e),w=e>0,S=l.enumErrorProps&&(t===p||t instanceof Error),j=l.enumPrototypes&&s(t);++r<e;)x[r]=r+"";for(var E in t)j&&"prototype"==E||S&&("message"==E||"name"==E)||w&&a(E,e)||"constructor"==E&&(_||!g.call(t,E))||x.push(E);if(l.nonEnumShadows&&t!==h){var O=t===v?"[object String]":t===p?"[object Error]":m.call(t),A=y[O]||y["[object Object]"];for("[object Object]"==O&&(b=h),e=d.length;e--;){var C=A[E=d[e]];_&&C||!(C?g.call(t,E):t[E]!==b[E])||x.push(E)}}return x}},function(t,e){t.exports={GLOBAL:"Treasure",VERSION:"2.5.1",HOST:"in.treasuredata.com",DATABASE:"",PATHNAME:"/js/v3/event/"}},function(t,e,n){var r=n(3);t.exports=function(){var t=(new Date).getTime();return r.performance&&"function"==typeof r.performance.now&&(t+=r.performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?n:3&n|8).toString(16)}))}},function(t,e){t.exports=function(t,e){for(var n=-1,r=t.length;++n<r&&!1!==e(t[n],n,t););return t}},function(t,e,n){var r=n(44)();t.exports=r},function(t,e){var n=Array.prototype,r=Error.prototype,o=Object.prototype.propertyIsEnumerable,i=n.splice,s={};!function(t){var e=function(){this.x=1},n={0:1,length:1},a=[];for(var c in e.prototype={valueOf:1,y:1},new e)a.push(c);s.enumErrorProps=o.call(r,"message")||o.call(r,"name"),s.enumPrototypes=o.call(e,"prototype"),s.nonEnumShadows=!/valueOf/.test(a),s.ownLast="x"!=a[0],s.spliceObjects=(i.call(n,0,1),!n[0]),s.unindexedChars="x"[0]+Object("x")[0]!="xx"}(),t.exports=s},function(t,e){var n=/^\d+$/;t.exports=function(t,e){return e=null==e?9007199254740991:e,(t="number"==typeof t||n.test(t)?+t:-1)>-1&&t%1==0&&t<e}},function(t,e,n){var r=n(6),o=n(0);t.exports=function(t,e,n){var i=o.assign({},t),s=t.domain.match(/\d*\.\d*\.\d*\.\d*$/),a="localhost"===t.domain,c=t.customDomain,u=new Date;if(u.setSeconds(u.getSeconds()+i.expires),a)n?r.setItem(e,n,u,i.path):r.removeItem(e,i.path,i.domain);else if(s||c)n?r.setItem(e,n,u,i.path,i.domain,!0,"None"):r.removeItem(e,i.path,i.domain);else{var f=function(t){for(var e=t.split("."),n=[],r=e.length-1;r>=0;r--)n.push(e.slice(r).join("."));return n}(t.domain),l=f.length,d=0;if(n){if(r.getItem(e)===n)return;for(;d<l;d++)if(i.domain=f[d],r.setItem(e,n,u,i.path,i.domain,!0,"None"),r.getItem(e)===n){t.domain=i.domain;break}}else for(;d<l;d++)r.removeItem(e,t.path,f[d])}}},function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var c,u=[],f=!1,l=-1;function d(){f&&c&&(f=!1,c.length?u=c.concat(u):l=-1,u.length&&p())}function p(){if(!f){var t=a(d);f=!0;for(var e=u.length;e;){for(c=u,u=[];++l<e;)c&&c[l].run();l=-1,e=u.length}c=null,f=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function v(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new h(t,e)),1!==u.length||f||a(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){var r=n(23),o=n(10);t.exports=function(t,e){return r(t,e,o)}},function(t,e){var n=function(){try{Object({toString:0}+"")}catch(t){return function(){return!1}}return function(t){return"function"!=typeof t.toString&&"string"==typeof(t+"")}}();t.exports=n},function(t,e,n){var r=n(46)("length");t.exports=r},function(t,e,n){var r=n(55),o=n(10);t.exports=function(t,e){return null==e?t:r(e,o(e),t)}},function(t,e){var n=Math.max;t.exports=function(t,e){if("function"!=typeof t)throw new TypeError("Expected a function");return e=n(void 0===e?t.length-1:+e||0,0),function(){for(var r=arguments,o=-1,i=n(r.length-e,0),s=Array(i);++o<i;)s[o]=r[e+o];switch(e){case 0:return t.call(this,s);case 1:return t.call(this,r[0],s);case 2:return t.call(this,r[0],r[1],s)}var a=Array(e+1);for(o=-1;++o<e;)a[o]=r[o];return a[e]=s,t.apply(this,a)}}},function(t,e,n){t.exports=n(20).VERSION},function(t,e,n){var r=n(93),o=n(94),i=n(95),s=n(97);t.exports=function(t,e){return r(t)||o(t,e)||i(t,e)||s()}},function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e,n){var r=n(37),o=n(3),i=n(20).GLOBAL;n(99)(r,i),o[i]=r},function(t,e,n){var r=n(38),o=n(0),i=n(84),s=n(33),a=n(6),c=n(20);function u(t){return this instanceof u?(this.init(t),this):new u(t)}u.prototype.init=function(t){for(var e in this.configure(t),u.Plugins)u.Plugins.hasOwnProperty(e)&&u.Plugins[e].configure.call(this,t);if(window.addEventListener){var n=this;window.addEventListener("pagehide",(function(){n._windowBeingUnloaded=!0}))}},u.version=u.prototype.version=s,u.prototype.log=function(){for(var t=["["+c.GLOBAL+"]"],e=0,n=arguments.length-1;e<=n;e++)t.push(arguments[e]);"undefined"!=typeof console&&this.client.logging&&console.log.apply(console,t)},u.prototype.configure=i.configure,u.prototype.set=i.set,u.prototype.get=i.get,u.prototype.ready=n(85),u.prototype.applyProperties=r.applyProperties,u.prototype.addRecord=r.addRecord,u.prototype.addConsentRecord=r.addConsentRecord,u.prototype._sendRecord=r._sendRecord,u.prototype.blockEvents=r.blockEvents,u.prototype.unblockEvents=r.unblockEvents,u.prototype.areEventsBlocked=r.areEventsBlocked,u.prototype.setSignedMode=r.setSignedMode,u.prototype.setAnonymousMode=r.setAnonymousMode,u.prototype.inSignedMode=r.inSignedMode,u.prototype.getCookie=a.getItem,u.prototype._configurator=i,u.Plugins={Clicks:n(86),GlobalID:n(88),Personalization:n(89),Track:n(90),ServerSideCookie:n(91),ConsentManager:n(92).default},o.forIn(u.Plugins,(function(t){o.forIn(t,(function(t,e){u.prototype[e]||(u.prototype[e]=t)}))})),t.exports=u},function(t,e,n){var r=n(1),o=n(14),i=n(0),s=n(3),a=n(6),c=n(26),u=n(82),f=i.noop,l=r.fetchWithTimeout,d=r.invariant;function p(t,e){d(i.isString(t),"Must provide a table"),d(/^[a-z0-9_]{3,255}$/.test(t),"Table must be between 3 and 255 characters and must consist only of lower case letters, numbers, and _"),d(i.isObject(e),"Must provide a record")}e.BLOCKEVENTSCOOKIE="__td_blockEvents",e.SIGNEDMODECOOKIE="__td_signed",e.blockEvents=function(){c(this.client.storage,"__td_blockEvents","true")},e.unblockEvents=function(){c(this.client.storage,"__td_blockEvents","false")},e.areEventsBlocked=function(){return"true"===a.getItem("__td_blockEvents")},e.setSignedMode=function(){if(this.client.storeConsentByLocalStorage){if(!r.isLocalStorageAccessible())return this;s.localStorage.setItem("__td_signed","true")}else c(this.client.storage,"__td_signed","true");return this.resetUUID(this.client.storage,this.client.track.uuid),this},e.setAnonymousMode=function(t){if(this.client.storeConsentByLocalStorage){if(!r.isLocalStorageAccessible())return this;s.localStorage.setItem("__td_signed","false")}else c(this.client.storage,"__td_signed","false");return t||(c(this.client.storage,this.client.storage.name),this.removeCachedGlobalID(),this.removeServerCookie()),this},e.inSignedMode=function(){return this.client.storeConsentByLocalStorage?!!r.isLocalStorageAccessible()&&("false"!==s.localStorage.getItem(["__td_signed"])&&("true"===s.localStorage.getItem(["__td_signed"])||this.client.startInSignedMode)):"false"!==a.getItem("__td_signed")&&("true"===a.getItem("__td_signed")||this.client.startInSignedMode)},e._sendRecord=function(t,e,n,r){if(e=e||f,n=n||f,!r){var i=["api_key="+encodeURIComponent(t.apikey),"modified="+encodeURIComponent((new Date).getTime()),"data="+encodeURIComponent(u(t.record))];t.time&&i.push("time="+encodeURIComponent(t.time));var s=t.url+"?"+i.join("&"),a="a"===t.record.tag&&!!t.record.href;window.fetch&&(this._windowBeingUnloaded||a)?l(s,this.client.jsonpTimeout,{method:"POST",keepalive:!0}).then((function(t){e(t)})).catch((function(t){n(t)})):o(s,{prefix:"TreasureJSONPCallback",timeout:this.client.jsonpTimeout},(function(t,r){return t?n(t):e(r)}))}},e.applyProperties=function(t,e){return i.assign({},this.get("$global"),this.get(t),e)},e.addRecord=function(t,e,n,r){p(t,e);var o=this.applyProperties(t,e),s=this.inSignedMode()?o:i.omit(o,["td_ip","td_client_id","td_global_id"]),a={apikey:this.client.writeKey,record:s,time:null,type:this.client.requestType,url:this.client.endpoint+this.client.database+"/"+t};a.record.time&&(a.time=a.record.time),this.client.development?this.log("addRecord",a):this.areEventsBlocked()||this._sendRecord(a,n,r,this.areEventsBlocked())},e.addConsentRecord=function(t,e,n,r){p(t,e);var o={apikey:this.client.writeKey,record:e,time:null,type:this.client.requestType,url:this.client.endpoint+this.client.database+"/"+t};o.record.time&&(o.time=o.record.time),this.client.development?this.log("addConsentRecord",o):this._sendRecord(o,n,r,!1)},e._validateRecord=p},function(t,e,n){(function(r){function o(){var t;try{t=e.storage.debug}catch(t){}return!t&&void 0!==r&&"env"in r&&(t=r.env.DEBUG),t}(e=t.exports=n(40)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),!n)return;var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var o=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(function(t){"%%"!==t&&(o++,"%c"===t&&(i=o))})),t.splice(i,0,r)},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=o,e.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(o())}).call(this,n(27))},function(t,e,n){var r;function o(t){function n(){if(n.enabled){var t=n,o=+new Date,i=o-(r||o);t.diff=i,t.prev=r,t.curr=o,r=o;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=e.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var c=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return n;c++;var o=e.formatters[r];if("function"==typeof o){var i=s[c];n=o.call(t,i),s.splice(c,1),c--}return n})),e.formatArgs.call(t,s);var u=n.log||e.log||console.log.bind(console);u.apply(t,s)}}return n.namespace=t,n.enabled=e.enabled(t),n.useColors=e.useColors(),n.color=function(t){var n,r=0;for(n in t)r=(r<<5)-r+t.charCodeAt(n),r|=0;return e.colors[Math.abs(r)%e.colors.length]}(t),"function"==typeof e.init&&e.init(n),n}(e=t.exports=o.debug=o.default=o).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){e.save(t),e.names=[],e.skips=[];for(var n=("string"==typeof t?t:"").split(/[\s,]+/),r=n.length,o=0;o<r;o++)n[o]&&("-"===(t=n[o].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")))},e.enabled=function(t){var n,r;for(n=0,r=e.skips.length;n<r;n++)if(e.skips[n].test(t))return!1;for(n=0,r=e.names.length;n<r;n++)if(e.names[n].test(t))return!0;return!1},e.humanize=n(41),e.names=[],e.skips=[],e.formatters={}},function(t,e){var n=1e3,r=6e4,o=60*r,i=24*o;function s(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}t.exports=function(t,e){e=e||{};var a,c=typeof t;if("string"===c&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(!e)return;var s=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"days":case"day":case"d":return s*i;case"hours":case"hour":case"hrs":case"hr":case"h":return s*o;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(t);if("number"===c&&!1===isNaN(t))return e.long?s(a=t,i,"day")||s(a,o,"hour")||s(a,r,"minute")||s(a,n,"second")||a+" ms":function(t){if(t>=i)return Math.round(t/i)+"d";if(t>=o)return Math.round(t/o)+"h";if(t>=r)return Math.round(t/r)+"m";if(t>=n)return Math.round(t/n)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e,n){var r=n(22),o=n(43),i=n(49)(r,o);t.exports=i},function(t,e,n){var r=n(28),o=n(48)(r);t.exports=o},function(t,e,n){var r=n(15);t.exports=function(t){return function(e,n,o){for(var i=r(e),s=o(e),a=s.length,c=t?a:-1;t?c--:++c<a;){var u=s[c];if(!1===n(i[u],u,i))break}return e}}},function(t,e,n){var r=n(17),o=n(29),i=n(4),s=/^\[object .+?Constructor\]$/,a=Object.prototype,c=Function.prototype.toString,u=a.hasOwnProperty,f=RegExp("^"+c.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return null!=t&&(r(t)?f.test(c.call(t)):i(t)&&(o(t)?f:s).test(t))}},function(t,e,n){var r=n(15);t.exports=function(t){return function(e){return null==e?void 0:r(e)[t]}}},function(t,e,n){var r=n(18),o=n(5),i=n(25),s=n(12),a=n(9),c=n(19),u=Object.prototype.hasOwnProperty;t.exports=function(t){for(var e=c(t),n=e.length,f=n&&t.length,l=!!f&&s(f)&&(o(t)||r(t)||a(t)),d=-1,p=[];++d<n;){var h=e[d];(l&&i(h,f)||u.call(t,h))&&p.push(h)}return p}},function(t,e,n){var r=n(30),o=n(12),i=n(15);t.exports=function(t,e){return function(n,s){var a=n?r(n):0;if(!o(a))return t(n,s);for(var c=e?a:-1,u=i(n);(e?c--:++c<a)&&!1!==s(u[c],c,u););return n}}},function(t,e,n){var r=n(13),o=n(5);t.exports=function(t,e){return function(n,i,s){return"function"==typeof i&&void 0===s&&o(n)?t(n,i):e(n,r(i,s,3))}}},function(t,e){t.exports=function(t){return t}},function(t,e,n){var r=n(4),o=Object.prototype.toString;t.exports=function(t){return"number"==typeof t||r(t)&&"[object Number]"==o.call(t)}},function(t,e,n){var r=n(18),o=n(5),i=n(11),s=n(17),a=n(4),c=n(9),u=n(10);t.exports=function(t){return null==t||(i(t)&&(o(t)||c(t)||r(t)||a(t)&&s(t.splice))?!t.length:!u(t).length)}},function(t,e,n){var r=n(54),o=n(31),i=n(56)((function(t,e,n){return n?r(t,e,n):o(t,e)}));t.exports=i},function(t,e,n){var r=n(10);t.exports=function(t,e,n){for(var o=-1,i=r(e),s=i.length;++o<s;){var a=i[o],c=t[a],u=n(c,e[a],a,t,e);((u==u?u!==c:c==c)||void 0===c&&!(a in t))&&(t[a]=u)}return t}},function(t,e){t.exports=function(t,e,n){n||(n={});for(var r=-1,o=e.length;++r<o;){var i=e[r];n[i]=t[i]}return n}},function(t,e,n){var r=n(13),o=n(57),i=n(32);t.exports=function(t){return i((function(e,n){var i=-1,s=null==e?0:n.length,a=s>2?n[s-2]:void 0,c=s>2?n[2]:void 0,u=s>1?n[s-1]:void 0;for("function"==typeof a?(a=r(a,u,5),s-=2):s-=(a="function"==typeof u?u:void 0)?1:0,c&&o(n[0],n[1],c)&&(a=s<3?void 0:a,s=1);++i<s;){var f=n[i];f&&t(e,f,a)}return e}))}},function(t,e,n){var r=n(11),o=n(25),i=n(2);t.exports=function(t,e,n){if(!i(n))return!1;var s=typeof e;if("number"==s?r(n)&&o(e,n.length):"string"==s&&e in n){var a=n[e];return t==t?t===a:a!=a}return!1}},function(t,e,n){var r=n(23),o=n(59)(r);t.exports=o},function(t,e,n){var r=n(13),o=n(19);t.exports=function(t){return function(e,n,i){return"function"==typeof n&&void 0===i||(n=r(n,i,3)),t(e,n,o)}}},function(t,e,n){var r=n(61),o=n(62),i=n(69),s=n(13),a=n(19),c=n(71),u=n(72),f=n(32)((function(t,e){if(null==t)return{};if("function"!=typeof e[0]){e=r(i(e),String);return c(t,o(a(t),e))}var n=s(e[0],e[1],3);return u(t,(function(t,e,r){return!n(t,e,r)}))}));t.exports=f},function(t,e){t.exports=function(t,e){for(var n=-1,r=t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}},function(t,e,n){var r=n(63),o=n(65),i=n(66);t.exports=function(t,e){var n=t?t.length:0,s=[];if(!n)return s;var a=-1,c=r,u=!0,f=u&&e.length>=200?i(e):null,l=e.length;f&&(c=o,u=!1,e=f);t:for(;++a<n;){var d=t[a];if(u&&d==d){for(var p=l;p--;)if(e[p]===d)continue t;s.push(d)}else c(e,d,0)<0&&s.push(d)}return s}},function(t,e,n){var r=n(64);t.exports=function(t,e,n){if(e!=e)return r(t,n);for(var o=n-1,i=t.length;++o<i;)if(t[o]===e)return o;return-1}},function(t,e){t.exports=function(t,e,n){for(var r=t.length,o=e+(n?0:-1);n?o--:++o<r;){var i=t[o];if(i!=i)return o}return-1}},function(t,e,n){var r=n(2);t.exports=function(t,e){var n=t.data;return("string"==typeof e||r(e)?n.set.has(e):n.hash[e])?0:-1}},function(t,e,n){(function(e){var r=n(67),o=n(16),i=o(e,"Set"),s=o(Object,"create");t.exports=function(t){return s&&i?new r(t):null}}).call(this,n(8))},function(t,e,n){(function(e){var r=n(68),o=n(16),i=o(e,"Set"),s=o(Object,"create");function a(t){var e=t?t.length:0;for(this.data={hash:s(null),set:new i};e--;)this.push(t[e])}a.prototype.push=r,t.exports=a}).call(this,n(8))},function(t,e,n){var r=n(2);t.exports=function(t){var e=this.data;"string"==typeof t||r(t)?e.set.add(t):e.hash[t]=!0}},function(t,e,n){var r=n(70),o=n(18),i=n(5),s=n(11),a=n(4);t.exports=function t(e,n,c,u){u||(u=[]);for(var f=-1,l=e.length;++f<l;){var d=e[f];a(d)&&s(d)&&(c||i(d)||o(d))?n?t(d,n,c,u):r(u,d):c||(u[u.length]=d)}return u}},function(t,e){t.exports=function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}},function(t,e,n){var r=n(15);t.exports=function(t,e){t=r(t);for(var n=-1,o=e.length,i={};++n<o;){var s=e[n];s in t&&(i[s]=t[s])}return i}},function(t,e,n){var r=n(73);t.exports=function(t,e){var n={};return r(t,(function(t,r,o){e(t,r,o)&&(n[r]=t)})),n}},function(t,e,n){var r=n(23),o=n(19);t.exports=function(t,e){return r(t,e,o)}},function(t,e,n){var r=n(75),o=n(13);t.exports=function(t,e,n){return"function"==typeof e?r(t,!0,o(e,n,3)):r(t,!0)}},function(t,e,n){var r=n(76),o=n(22),i=n(31),s=n(28),a=n(77),c=n(78),u=n(80),f=n(5),l=n(29),d=n(2),p={};p["[object Arguments]"]=p["[object Array]"]=p["[object ArrayBuffer]"]=p["[object Boolean]"]=p["[object Date]"]=p["[object Float32Array]"]=p["[object Float64Array]"]=p["[object Int8Array]"]=p["[object Int16Array]"]=p["[object Int32Array]"]=p["[object Number]"]=p["[object Object]"]=p["[object RegExp]"]=p["[object String]"]=p["[object Uint8Array]"]=p["[object Uint8ClampedArray]"]=p["[object Uint16Array]"]=p["[object Uint32Array]"]=!0,p["[object Error]"]=p["[object Function]"]=p["[object Map]"]=p["[object Set]"]=p["[object WeakMap]"]=!1;var h=Object.prototype.toString;t.exports=function t(e,n,v,g,m,y,b){var _;if(v&&(_=m?v(e,g,m):v(e)),void 0!==_)return _;if(!d(e))return e;var x=f(e);if(x){if(_=a(e),!n)return r(e,_)}else{var w=h.call(e),S="[object Function]"==w;if("[object Object]"!=w&&"[object Arguments]"!=w&&(!S||m))return p[w]?c(e,w,n):m?e:{};if(l(e))return m?e:{};if(_=u(S?{}:e),!n)return i(_,e)}y||(y=[]),b||(b=[]);for(var j=y.length;j--;)if(y[j]==e)return b[j];return y.push(e),b.push(_),(x?o:s)(e,(function(r,o){_[o]=t(r,n,v,o,e,y,b)})),_}},function(t,e){t.exports=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}},function(t,e){var n=Object.prototype.hasOwnProperty;t.exports=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&n.call(t,"index")&&(r.index=t.index,r.input=t.input),r}},function(t,e,n){(function(e){var r=n(79),o=/\w*$/,i=e.Uint8Array,s={};s["[object Float32Array]"]=e.Float32Array,s["[object Float64Array]"]=e.Float64Array,s["[object Int8Array]"]=e.Int8Array,s["[object Int16Array]"]=e.Int16Array,s["[object Int32Array]"]=e.Int32Array,s["[object Uint8Array]"]=i,s["[object Uint8ClampedArray]"]=e.Uint8ClampedArray,s["[object Uint16Array]"]=e.Uint16Array,s["[object Uint32Array]"]=e.Uint32Array,t.exports=function(t,e,n){var i=t.constructor;switch(e){case"[object ArrayBuffer]":return r(t);case"[object Boolean]":case"[object Date]":return new i(+t);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":i instanceof i&&(i=s[e]);var a=t.buffer;return new i(n?r(a):a,t.byteOffset,t.length);case"[object Number]":case"[object String]":return new i(t);case"[object RegExp]":var c=new i(t.source,o.exec(t));c.lastIndex=t.lastIndex}return c}}).call(this,n(8))},function(t,e,n){(function(e){var n=e.ArrayBuffer,r=e.Uint8Array;t.exports=function(t){var e=new n(t.byteLength);return new r(e).set(new r(t)),e}}).call(this,n(8))},function(t,e){t.exports=function(t){var e=t.constructor;return"function"==typeof e&&e instanceof e||(e=Object),new e}},function(t,e){t.exports=function(){}},function(t,e,n){var r=n(83);t.exports=function(t){return r(JSON.stringify(t))}},function(t,e){var n=String.fromCharCode,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.exports=function(t){var e,o,i,s,a,c,u,f="",l=0;for(t=function(t){var e,r="",o=0;for(;o<t.length;)e=t.charCodeAt(o++),r+=e<128?n(e):e>127&&e<2048?n(e>>6|192)+n(63&e|128):n(e>>12|224)+n(e>>6&63|128)+n(63&e|128);return r}(t);l<t.length;)e=t.charCodeAt(l++),o=t.charCodeAt(l++),i=t.charCodeAt(l++),s=e>>2,a=(3&e)<<4|o>>4,c=isNaN(o)?64:(15&o)<<2|i>>6,u=isNaN(o)||isNaN(i)?64:63&i,f=f+r.charAt(s)+r.charAt(a)+r.charAt(c)+r.charAt(u);return f}},function(t,e,n){var r=n(0),o=n(1).invariant,i=n(20),s=n(6);e.DEFAULT_CONFIG={database:i.DATABASE,development:!1,globalIdCookie:"_td_global",host:i.HOST,logging:!0,pathname:i.PATHNAME,requestType:"jsonp",jsonpTimeout:1e4,startInSignedMode:!1,useServerSideCookie:!1,sscDomain:function(){for(var t=document.location.hostname.split("."),e=t.length-2;e>=1;e--){var n=t.slice(e).join("."),r="_td_domain_"+n;if(s.setItem(r,n,3600,"/",n),s.getItem(r)===n)return n}return document.location.hostname},sscServer:function(t){return["ssc",t].join(".")},storeConsentByLocalStorage:!1},e.configure=function(t){return this.client=r.assign({globals:{}},e.DEFAULT_CONFIG,t,{requestType:"jsonp"}),function(t){o(r.isObject(t),"Check out our JavaScript SDK Usage Guide: http://docs.treasuredata.com/articles/javascript-sdk"),o(r.isString(t.writeKey),"Must provide a writeKey"),o(r.isString(t.database),"Must provide a database"),o(/^[a-z0-9_]{3,255}$/.test(t.database),"Database must be between 3 and 255 characters and must consist only of lower case letters, numbers, and _")}(this.client),this.client.endpoint||(this.client.endpoint="https://"+this.client.host+this.client.pathname),this},e.set=function(t,e,n){return r.isObject(t)&&(e=t,t="$global"),this.client.globals[t]=this.client.globals[t]||{},r.isObject(e)?r.assign(this.client.globals[t],e):this.client.globals[t][e]=n,this},e.get=function(t,e){return t=t||"$global",this.client.globals[t]=this.client.globals[t]||{},e?this.client.globals[t][e]:this.client.globals[t]}},function(t,e,n){
/*!
  * domready (c) Dustin Diaz 2012 - License MIT
  */
t.exports=function(t){var e,n=[],r=document,o=r.documentElement,i=o.doScroll,s=(i?/^loaded|^c/:/^loaded|c/).test(r.readyState);function a(t){for(s=1;t=n.shift();)t()}return r.addEventListener&&r.addEventListener("DOMContentLoaded",e=function(){r.removeEventListener("DOMContentLoaded",e,!1),a()},!1),i&&r.attachEvent("onreadystatechange",e=function(){/^c/.test(r.readyState)&&(r.detachEvent("onreadystatechange",e),a())}),t=i?function(e){self!=top?s?e():n.push(e):function(){try{o.doScroll("left")}catch(n){return setTimeout((function(){t(e)}),50)}e()}()}:function(t){s?t():n.push(t)}}()},function(t,e,n){var r=n(3),o=n(87),i=n(0).assign,s=n(1).disposable;function a(t,e){return e}t.exports={configure:function(){this._clickTrackingInstalled=!1},trackClicks:function(t){if(!this._clickTrackingInstalled){var e=this,n=i({element:r.document,extendClickData:a,ignoreAttribute:"td-ignore",tableName:"clicks"},t),c=o.createTreeHasIgnoreAttribute(n.ignoreAttribute),u=o.addEventListener(n.element,"click",(function(t){var r=o.findElement(o.getEventTarget(t));if(r&&!c(r)){var i=o.getElementData(r),s=n.extendClickData(t,i);s&&e.trackEvent(n.tableName,s)}}));return e._clickTrackingInstalled=!0,s((function(){u(),e._clickTrackingInstalled=!1}))}}}},function(t,e,n){var r=n(0).forEach,o=n(0).isString,i=n(1).disposable;function s(t){for(var e,n=[],r=0,o=0,i=" > ".length;t&&r++<5&&!("html"===(e=a(t))||r>1&&o+n.length*i+e.length>=80);)n.push(e),o+=e.length,t=t.parentNode;return n.reverse().join(" > ")}function a(t){var e,n,r,i,s,a=[];if(!t||!t.tagName)return"";if(a.push(t.tagName.toLowerCase()),t.id&&a.push("#"+t.id),(e=t.className)&&o(e))for(n=e.split(" "),s=0;s<n.length;s++)a.push("."+n[s]);var c=["type","name","title","alt"];for(s=0;s<c.length;s++)r=c[s],(i=t.getAttribute(r))&&a.push("["+r+'="'+i+'"]');return a.join("")}function c(t,e){return"function"==typeof t.hasAttribute?t.hasAttribute(e):null!==t.getAttribute(e)}t.exports={addEventListener:function(t,e,n){if(t.addEventListener)return t.addEventListener(e,r,!1),i((function(){t.removeEventListener(e,r,!1)}));if(t.attachEvent)return t.attachEvent("on"+e,r),i((function(){t.detachEvent("on"+e,r)}));throw new Error("addEventListener");function r(e){n.call(t,e||window.event)}},createTreeHasIgnoreAttribute:function(t){var e="data-"+t;return function n(r){return!(!r||!r.tagName||"html"===r.tagName.toLowerCase())&&(!(!c(r,t)&&!c(r,e))||n(r.parentNode))}},getElementData:function(t){var e={tag:t.tagName.toLowerCase(),tree:s(t)};return r(["alt","class","href","id","name","role","title","type"],(function(n){c(t,n)&&(e[n]=t.getAttribute(n))})),e},getEventTarget:function(t){var e=t.target||t.srcElement||window.document;return 3===e.nodeType?e.parentNode:e},hasAttribute:c,htmlElementAsString:a,htmlTreeAsString:s,findElement:function(t){if(!t||!t.tagName)return null;for(var e=t.tagName.toLowerCase();e&&"body"!==e;e=(t=t.parentNode)&&t.tagName&&t.tagName.toLowerCase()){var n=t.getAttribute("type");if("input"===e&&"password"===n)return null;var r=t.getAttribute("role");if("button"===r||"link"===r||"a"===e||"button"===e||"input"===e)return t}return null}}},function(t,e,n){var r=n(14),o=n(0).noop,i=n(6);function s(t,e,n){if(n=n||{},!t.global_id)return null;var r=n.path,o=n.domain,s=n.secure,a=n.maxAge||6e3,c=n.sameSite;return i.setItem(e,t.global_id,a,r,o,s,c),t.global_id}t.exports={cacheSuccess:s,configure:function(){return this},fetchGlobalID:function(t,e,n,a){if(a=a||{},t=t||o,e=e||o,!this.inSignedMode())return e("not in signed in mode");var c=this.client.globalIdCookie,u=i.getItem(this.client.globalIdCookie);if(u&&!n)return setTimeout((function(){t(u)}),0);a.sameSite||(a.sameSite="None");var f="https://"+this.client.host+"/js/v3/global_id";r(f,{prefix:"TreasureJSONPCallback",timeout:this.client.jsonpTimeout},(function(n,r){return n?e(n):t(s(r,c,a))}))},removeCachedGlobalID:function(){i.removeItem(this.client.globalIdCookie)}}},function(t,e,n){var r=n(14),o=n(1).invariant,i=n(0),s=i.noop;t.exports={configure:function(t){return t=i.isObject(t)?t:{},this.client.cdpHost=t.cdpHost||"cdp.in.treasuredata.com",this},fetchUserSegments:function(t,e,n){var a=i.isObject(t)&&!i.isArray(t),c=a?t.audienceToken:t,u=a&&t.keys||{};e=e||s,n=n||s,o("string"==typeof c||i.isArray(c),'audienceToken must be a string or array; received "'+c.toString()+'"'),o(i.isObject(u),'keys must be an object; received "'+u+'"');var f=i.isArray(c)?c.join(","):c,l=i.keys(u),d=[];i.forEach(l,(function(t){d.push(["key.",t,"=",u[t]].join(""))}));var p=d.join("&"),h="https://"+this.client.cdpHost+"/cdp/lookup/collect/segments?version=2&token="+f+(p&&"&"+p);r(h,{prefix:"TreasureJSONPCallback",timeout:this.client.jsonpTimeout},(function(t,r){return t?n(t):e(r)}))}}},function(t,e,n){
/*!
* ----------------------
* Treasure Tracker
* ----------------------
*/
var r=n(3),o=n(0),i=n(6),s=n(26),a=n(21),c=n(33),u=r.document;function f(t){return o.assign({td_version:function(){return c},td_client_id:function(){return t.uuid},td_charset:function(){return(u.characterSet||u.charset||"-").toLowerCase()},td_language:function(){var t=r.navigator;return(t&&(t.language||t.browserLanguage)||"-").toLowerCase()},td_color:function(){return r.screen?r.screen.colorDepth+"-bit":"-"},td_screen:function(){return r.screen?r.screen.width+"x"+r.screen.height:"-"},td_viewport:function(){var t=u.documentElement&&u.documentElement.clientHeight,e=u.documentElement&&u.documentElement.clientWidth,n=r.innerHeight,o=r.innerWidth;return(e<o?o:e)+"x"+(t<n?n:t)},td_title:function(){return u.title},td_description:function(){return function(t){for(var e=(u.head||u.getElementsByTagName("head")[0]).getElementsByTagName("meta"),n=e.length,r=0;r<n;r++)if(e[r].getAttribute("name")===t)return(e[r].getAttribute("content")||"").substr(0,8192);return""}("description")},td_url:function(){return u.location&&u.location.href?u.location.href.split("#")[0]:""},td_user_agent:function(){return r.navigator.userAgent},td_platform:function(){return r.navigator.platform},td_host:function(){return u.location.host},td_path:function(){return u.location.pathname},td_referrer:function(){return u.referrer},td_ip:function(){return"td_ip"},td_browser:function(){return"td_browser"},td_browser_version:function(){return"td_browser_version"},td_os:function(){return"td_os"},td_os_version:function(){return"td_os_version"}},t.values)}e.configure=function(t){var e,n;return t=o.isObject(t)?t:{},this.client.track=t.track=(e=t.track,o.assign({pageviews:"pageviews",events:"events",values:{}},e)),this.client.storage=t.storage="none"!==(n=t.storage)&&(n=o.isObject(n)?n:{},o.assign({name:"_td",expires:63072e3,domain:u.location.hostname,customDomain:!!n.domain,path:"/"},n)),o.isNumber(t.clientId)?t.clientId=t.clientId.toString():t.clientId&&o.isString(t.clientId)||(t.storage&&t.storage.name&&(t.clientId=i.getItem(t.storage.name)),t.clientId&&"undefined"!==t.clientId||(t.clientId=a())),this.resetUUID(t.storage,t.clientId),this},e.resetUUID=function(t,e){var n=e||a(),r=t||this.client.storage;return this.client.track.uuid=n.replace(/\0/g,""),r&&r.expires&&this.inSignedMode()&&(s(r,r.name,void 0),s(r,r.name,this.client.track.uuid)),this.client.track.values=o.assign(f(this.client.track),this.client.track.values),this},e.trackEvent=function(t,e,n,r){return t||(t=this.client.track.events),e=o.assign(this.getTrackValues(),e),this.addRecord(t,e,n,r),this},e.trackPageview=function(t,e,n){return t||(t=this.client.track.pageviews),this.trackEvent(t,{},e,n),this},e.getTrackValues=function(){var t={};return o.forIn(this.client.track.values,(function(e,n){e&&(t[n]="function"==typeof e?e():e)})),t}},function(t,e,n){var r=n(14),o=n(0).noop,i=n(6),s=n(26);t.exports={configure:function(){return this},fetchServerCookie:function(t,e,n){if(t=t||o,e=e||o,!this.inSignedMode())return e("not in signed in mode");if(!this.client.useServerSideCookie)return e("server side cookie not enabled");this._serverCookieDomainHost||("function"==typeof this.client.sscDomain?this._serverCookieDomain=this.client.sscDomain():this._serverCookieDomain=this.client.sscDomain,"function"==typeof this.client.sscServer?this._serverCookieDomainHost=this.client.sscServer(this._serverCookieDomain):this._serverCookieDomainHost=this.client.sscServer);var s="https://"+this._serverCookieDomainHost+"/get_cookie_id?cookie_domain="+window.encodeURI(this._serverCookieDomain)+"&r="+(new Date).getTime(),a=i.getItem("_td_ssc_id");if(a&&!n)return setTimeout((function(){t(a)}),0);r(s,{prefix:"TreasureJSONPCallback",timeout:this.client.jsonpTimeout},(function(n,r){return n?e(n):t(r.td_ssc_id)}))},removeServerCookie:function(){var t;t="[object Function]"===Object.prototype.toString.call(this.client.sscDomain)?this.client.sscDomain():this.client.sscDomain,s({domain:t},"_td_ssc_id")}}},function(t,e,n){"use strict";n.r(e);var r=n(34),o=n.n(r),i=n(35),s=n.n(i),a=n(0),c=n.n(a),u=n(7),f=n.n(u),l=n(3),d=n.n(l),p=n(21),h=n.n(p),v=n(1);function g(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?g(Object(n),!0).forEach((function(e){s()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}n(98).polyfill();var y={GIVEN:"given",REFUSED:"refused",NOTGIVEN:"notgiven",EXPIRED:"expired"};Promise.prototype.finally=Promise.prototype.finally||{finally:function(t){var e=function(e){return Promise.resolve(t()).then(e)};return this.then((function(t){return e((function(){return t}))}),(function(t){return e((function(){return Promise.reject(t)}))}))}}.finally,e.default={configure:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.consentManager||{},n=document.location.hostname,r=e.storageKey,o=void 0===r?"td_consent_preferences":r,i=e.consentTable,s=void 0===i?"td_cm_consent":i,a=e.contextTable,u=void 0===a?"td_cm_context":a,f=e.successConsentCallback,l=void 0===f?c.a.noop:f,d=e.failureConsentCallback,p=void 0===d?c.a.noop:d,v=e.expiredConsentsCallback,g=void 0===v?c.a.noop:v,b=e.dateFormat,_=void 0===b?"YYYY-MM-DD":b,x=e.issuer,w=void 0===x?"treasuredata":x,S=e.container;this.defaultContext={brand:n,domain_name:n,collection_type:n,collection_point_id:n,context_id:h()(),consents:{}},this.consentManager={storageKey:o,successConsentCallback:l,failureConsentCallback:p,expiredConsentsCallback:g,consentTable:s,contextTable:u,dateFormat:_,issuer:w,container:S,states:m({},y)},this.consentManager.preferences=this.getPreferences()||{},this._updateExpiredConsents(),this.consentManager.expiredConsentsCallback(this.getExpiredConsents())},_getContainer:function(t){return c.a.isString(t)?document.querySelector(t):c.a.isObject(t)?t:document.body},_getNormalizedConsent:function(t,e){return{description:e.description,datatype:e.datatype,status:e.status,expriry_date:e.expiry_date||null,issuer:this.consentManager.issuer,identifier:this.client.track.uuid,purpose:t,context_id:e.context_id}},_normalizeConsents:function(){var t={},e={};for(var n in this.consentManager.preferences){var r=this.consentManager.preferences[n];for(var o in r.consents){var i=r.consents[o];i._updated?t[o]=this._getNormalizedConsent(o,i):e[o]=this._getNormalizedConsent(o,i)}}return c.a.isEmpty(t)?e:t},_stringifyPreferences:function(){var t=c.a.cloneDeep(this.consentManager.preferences);for(var e in t){var n=t[e].consents;for(var r in n){var o=n[r].expiry_date;c.a.isEmpty(o)||(n[r].expiry_date=f()(o).format(this.consentManager.dateFormat)),n[r].identifier=this.client.track.uuid,n[r]=c.a.omit(n[r],["_updated"])}}return JSON.stringify(t)},_isValidStatus:function(t){return!(!t||!c.a.isString(t))&&((t=t.toLowerCase())===y.GIVEN||t===y.REFUSED||t===y.NOTGIVEN||t===y.EXPIRED)},_isExpired:function(t){var e=new Date;return t.status===y.GIVEN&&t.expiry_date&&f()(t.expiry_date).isBefore(f()(e))},_updateExpiredConsents:function(){var t=!1;if(!c.a.isEmpty(this.consentManager.preferences))for(var e in this.consentManager.preferences){var n=this.consentManager.preferences[e].consents||{};for(var r in n){var o=n[r];this._isExpired(o)&&(o.status=y.EXPIRED,o._updated=!0,t=!0)}}t&&this.saveConsents(c.a.noop,c.a.noop)},getPreferences:function(){if(!Object(v.isLocalStorageAccessible)())return null;var t=JSON.parse(d.a.localStorage.getItem(this.consentManager.storageKey))||null;if(t)for(var e in t){var n=t[e].consents;for(var r in n){var o=n[r].expiry_date;c.a.isEmpty(o)||(n[r].expiry_date=f()(o,this.consentManager.dateFormat).valueOf()),n[r].identifier=this.client.track.uuid}}return t},_savePreferences:function(){Object(v.isLocalStorageAccessible)()&&!c.a.isEmpty(this.consentManager.preferences)&&d.a.localStorage.setItem(this.consentManager.storageKey,this._stringifyPreferences())},_getPromise:function(t){var e=this;return new Promise((function(n,r){e.addConsentRecord(e.consentManager.consentTable,t,n,r)}))},_resetUpdatedStatus:function(){for(var t in this.consentManager.preferences){var e=this.consentManager.preferences[t].consents;for(var n in e){var r=e[n];r._updated&&(r._updated=!1)}}},saveContexts:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.a.noop,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.a.noop;this._savePreferences();var r=Object.keys(this.consentManager.preferences).reduce((function(e,n){var r=t.consentManager.preferences[n],o=c.a.omit(r,["consents"]);return e.push(o),e}),[]),o=r.map((function(e){return new Promise((function(n,r){t.addConsentRecord(t.consentManager.contextTable,e,n,r)}))}));Promise.all(o).then(e).catch(n)},saveConsents:function(t,e){var n=this;t=t||this.consentManager.successConsentCallback||c.a.noop,e=e||this.consentManager.failureConsentCallback||c.a.noop,this._savePreferences();var r,o=[],i=[];for(var s in this.consentManager.preferences){var a=this.consentManager.preferences[s].consents;for(var u in a){var f=a[u],l=this._getNormalizedConsent(u,f);f._updated?o.push(l):i.push(l)}}r=c.a.isEmpty(o)?i.map((function(t){return n._getPromise(t)})):o.map((function(t){return n._getPromise(t)})),Promise.all(r).then((function(){t(n._normalizeConsents())}),(function(t){e({success:!1,message:t.message})})).finally((function(){c.a.isEmpty(o)||n._resetUpdatedStatus()}))},addContext:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!c.a.isEmpty(t)){var e,n;e=c.a.isString(t.context_id)?t.context_id:c.a.isFunction(t.context_id)?t.context_id():h()();var r=this.consentManager.preferences[e];return n=r?c.a.assign({},r,t):c.a.assign({},t,{context_id:e,consents:{}}),this.consentManager.preferences[e]=n,e}},addConsents:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!c.a.isEmpty(t))for(var e in t){var n,r=this._isValidStatus(t[e].status)?t[e].status:y.NOTGIVEN,o=t[e].context_id,i=t[e].expiry_date||"";o||(o=this.defaultContext.context_id,this.consentManager.preferences[o]||(this.consentManager.preferences[o]=this.defaultContext));var s=this.consentManager.preferences[o],a=s&&s.consents[e];if(!c.a.isEmpty(i)&&(c.a.isString(i)||c.a.isNumber(i)||c.a.isObject(i))){var u=f()(i,this.consentManager.dateFormat);i=u.isValid()?u.valueOf():""}else i="";(n=c.a.isEmpty(a)?c.a.assign({},t[e],{key:Object(v.camelCase)(e),status:r,identifier:this.client.track.uuid,context_id:o}):c.a.assign({},a,t[e])).issuer=this.consentManager.issuer,n.expiry_date=i,this.consentManager.preferences[o].consents[e]=n}},updateConsent:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!c.a.isEmpty(this.consentManager.preferences[t])&&!c.a.isEmpty(e)){var n=Object.keys(e),r=o()(n,1),i=r[0],s=this.consentManager.preferences[t].consents;for(var a in s)if(Object(v.camelCase)(a)===Object(v.camelCase)(i)){var u=e[i].status||"",l=e[i].expiry_date||"";if(this._isValidStatus(u)||(u=s[i].status),!c.a.isEmpty(l)&&(c.a.isString(l)||c.a.isNumber(l)||c.a.isObject(l))){var d=f()(l,this.consentManager.dateFormat);l=d.isValid()?d.valueOf():s[i].expiry_date}else l=s[i].expiry_date;var p=c.a.omit(s[i],["expiry_date","status"]);s[i]=c.a.assign(p,c.a.omit(e[i],["expiry_date","status"]),{identifier:this.client.track.uuid,status:u,expiry_date:l}),s[i]._updated=!0;break}}},updateContext:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.consentManager.preferences[t];if(!c.a.isEmpty(n)&&!c.a.isEmpty(e)){var r=c.a.omit(n,["consents"]);r=c.a.assign({},r,e),this.consentManager.preferences[t]=c.a.assign({},n,r)}},getConsentExpiryDate:function(t,e){if(t&&e){var n=this.consentManager.preferences[t].consents[e];return n&&n.expiry_date||null}},getConsents:function(){var t=this,e=c.a.isEmpty(this.consentManager.preferences)?this.getPreferences():this.consentManager.preferences;return Object.keys(e||{}).reduce((function(n,r){var o=e[r],i=o.consents,s=c.a.omit(o,["consents"]);for(var a in i){var u=c.a.assign({},s,{status:i[a].status,datatype:i[a].datatype||"",description:i[a].description||"",expiry_date:i[a].expiry_date||"",identifier:t.client.track.uuid,purpose:a});n.push(u)}return n}),[])},getContexts:function(){var t=c.a.isEmpty(this.consentManager.preferences)?this.getPreferences():this.consentManager.preferences;return Object.keys(t||{}).reduce((function(e,n){var r=t[n],o=c.a.omit(r,["consents"]);return e.push(o),e}),[])},getExpiredConsents:function(){var t=this;return this.getConsents().filter((function(e){return e.status===y.EXPIRED||t._isExpired(e)}))}}},function(t,e){t.exports=function(t){if(Array.isArray(t))return t}},function(t,e){t.exports=function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}}},function(t,e,n){var r=n(96);t.exports=function(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}},function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(t,e,n){(function(e,n){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */var r;r=function(){"use strict";function t(t){return"function"==typeof t}var r=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},o=0,i=void 0,s=void 0,a=function(t,e){h[o]=t,h[o+1]=e,2===(o+=2)&&(s?s(v):_())},c="undefined"!=typeof window?window:void 0,u=c||{},f=u.MutationObserver||u.WebKitMutationObserver,l="undefined"==typeof self&&void 0!==e&&"[object process]"==={}.toString.call(e),d="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function p(){var t=setTimeout;return function(){return t(v,1)}}var h=new Array(1e3);function v(){for(var t=0;t<o;t+=2)(0,h[t])(h[t+1]),h[t]=void 0,h[t+1]=void 0;o=0}var g,m,y,b,_=void 0;function x(t,e){var n=this,r=new this.constructor(j);void 0===r[S]&&$(r);var o=n._state;if(o){var i=arguments[o-1];a((function(){return T(o,r,i,n._result)}))}else M(n,r,t,e);return r}function w(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(j);return O(e,t),e}l?_=function(){return e.nextTick(v)}:f?(m=0,y=new f(v),b=document.createTextNode(""),y.observe(b,{characterData:!0}),_=function(){b.data=m=++m%2}):d?((g=new MessageChannel).port1.onmessage=v,_=function(){return g.port2.postMessage(0)}):_=void 0===c?function(){try{var t=Function("return this")().require("vertx");return void 0!==(i=t.runOnLoop||t.runOnContext)?function(){i(v)}:p()}catch(t){return p()}}():p();var S=Math.random().toString(36).substring(2);function j(){}function E(e,n,r){n.constructor===e.constructor&&r===x&&n.constructor.resolve===w?function(t,e){1===e._state?C(t,e._result):2===e._state?k(t,e._result):M(e,void 0,(function(e){return O(t,e)}),(function(e){return k(t,e)}))}(e,n):void 0===r?C(e,n):t(r)?function(t,e,n){a((function(t){var r=!1,o=function(t,e,n,r){try{t.call(e,n,r)}catch(t){return t}}(n,e,(function(n){r||(r=!0,e!==n?O(t,n):C(t,n))}),(function(e){r||(r=!0,k(t,e))}),t._label);!r&&o&&(r=!0,k(t,o))}),t)}(e,n,r):C(e,n)}function O(t,e){if(t===e)k(t,new TypeError("You cannot resolve a promise with itself"));else if(o=typeof(r=e),null===r||"object"!==o&&"function"!==o)C(t,e);else{var n=void 0;try{n=e.then}catch(e){return void k(t,e)}E(t,e,n)}var r,o}function A(t){t._onerror&&t._onerror(t._result),I(t)}function C(t,e){void 0===t._state&&(t._result=e,t._state=1,0!==t._subscribers.length&&a(I,t))}function k(t,e){void 0===t._state&&(t._state=2,t._result=e,a(A,t))}function M(t,e,n,r){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+1]=n,o[i+2]=r,0===i&&t._state&&a(I,t)}function I(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,o=void 0,i=t._result,s=0;s<e.length;s+=3)r=e[s],o=e[s+n],r?T(n,r,o,i):o(i);t._subscribers.length=0}}function T(e,n,r,o){var i=t(r),s=void 0,a=void 0,c=!0;if(i){try{s=r(o)}catch(t){c=!1,a=t}if(n===s)return void k(n,new TypeError("A promises callback cannot return that same promise."))}else s=o;void 0!==n._state||(i&&c?O(n,s):!1===c?k(n,a):1===e?C(n,s):2===e&&k(n,s))}var D=0;function $(t){t[S]=D++,t._state=void 0,t._result=void 0,t._subscribers=[]}var N=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(j),this.promise[S]||$(this.promise),r(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?C(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&C(this.promise,this._result))):k(this.promise,new Error("Array Methods must be provided an Array"))}return t.prototype._enumerate=function(t){for(var e=0;void 0===this._state&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===w){var o=void 0,i=void 0,s=!1;try{o=t.then}catch(t){s=!0,i=t}if(o===x&&void 0!==t._state)this._settledAt(t._state,e,t._result);else if("function"!=typeof o)this._remaining--,this._result[e]=t;else if(n===P){var a=new n(j);s?k(a,i):E(a,t,o),this._willSettleAt(a,e)}else this._willSettleAt(new n((function(e){return e(t)})),e)}else this._willSettleAt(r(t),e)},t.prototype._settledAt=function(t,e,n){var r=this.promise;void 0===r._state&&(this._remaining--,2===t?k(r,n):this._result[e]=n),0===this._remaining&&C(r,this._result)},t.prototype._willSettleAt=function(t,e){var n=this;M(t,void 0,(function(t){return n._settledAt(1,e,t)}),(function(t){return n._settledAt(2,e,t)}))},t}(),P=function(){function e(t){this[S]=D++,this._result=this._state=void 0,this._subscribers=[],j!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof e?function(t,e){try{e((function(e){O(t,e)}),(function(e){k(t,e)}))}catch(e){k(t,e)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return e.prototype.catch=function(t){return this.then(null,t)},e.prototype.finally=function(e){var n=this.constructor;return t(e)?this.then((function(t){return n.resolve(e()).then((function(){return t}))}),(function(t){return n.resolve(e()).then((function(){throw t}))})):this.then(e,e)},e}();return P.prototype.then=x,P.all=function(t){return new N(this,t).promise},P.race=function(t){var e=this;return r(t)?new e((function(n,r){for(var o=t.length,i=0;i<o;i++)e.resolve(t[i]).then(n,r)})):new e((function(t,e){return e(new TypeError("You must pass an array to race."))}))},P.resolve=w,P.reject=function(t){var e=new this(j);return k(e,t),e},P._setScheduler=function(t){s=t},P._setAsap=function(t){a=t},P._asap=a,P.polyfill=function(){var t=void 0;if(void 0!==n)t=n;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var r=null;try{r=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===r&&!e.cast)return}t.Promise=P},P.Promise=P,P},t.exports=r()}).call(this,n(27),n(8))},function(t,e,n){var r=n(0),o=n(3);var i=["init","set","blockEvents","unblockEvents","setSignedMode","setAnonymousMode","resetUUID","addRecord","fetchGlobalID","trackPageview","trackEvent","trackClicks","fetchUserSegments","fetchServerCookie","ready"];t.exports=function(t,e){if(r.isObject(o[e])){var n=o[e],s=n.clients;r.forIn(t.prototype,(function(t,e){n.prototype[e]=t})),r.forEach(s,(function(t){r.forEach(i,(function(e){!function(t,e){var n="_"+e;if(t[n]){for(var r=t[n]||[];r.length;)t[e].apply(t,r.shift());delete t[n]}}(t,e)}))}))}}}]);